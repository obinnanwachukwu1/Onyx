var hP=Object.defineProperty;var nA=a=>{throw TypeError(a)};var dP=(a,t,e)=>t in a?hP(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var ae=(a,t,e)=>dP(a,typeof t!="symbol"?t+"":t,e),i1=(a,t,e)=>t.has(a)||nA("Cannot "+e);var c=(a,t,e)=>(i1(a,t,"read from private field"),e?e.call(a):t.get(a)),_=(a,t,e)=>t.has(a)?nA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),x=(a,t,e,n)=>(i1(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),k=(a,t,e)=>(i1(a,t,"access private method"),e);var zt=(a,t,e,n)=>({set _(i){x(a,t,i,e)},get _(){return c(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();function Rw(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var r1={exports:{}},Rd={},o1={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function fP(){if(sA)return Oe;sA=1;var a=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function E(O,G,ne){this.props=O,this.context=G,this.refs=A,this.updater=ne||w}E.prototype.isReactComponent={},E.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=E.prototype;function M(O,G,ne){this.props=O,this.context=G,this.refs=A,this.updater=ne||w}var R=M.prototype=new T;R.constructor=M,b(R,E.prototype),R.isPureReactComponent=!0;var L=Array.isArray,N=Object.prototype.hasOwnProperty,D={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function X(O,G,ne){var he,ve={},pe=null,de=null;if(G!=null)for(he in G.ref!==void 0&&(de=G.ref),G.key!==void 0&&(pe=""+G.key),G)N.call(G,he)&&!B.hasOwnProperty(he)&&(ve[he]=G[he]);var Le=arguments.length-2;if(Le===1)ve.children=ne;else if(1<Le){for(var Ce=Array(Le),Be=0;Be<Le;Be++)Ce[Be]=arguments[Be+2];ve.children=Ce}if(O&&O.defaultProps)for(he in Le=O.defaultProps,Le)ve[he]===void 0&&(ve[he]=Le[he]);return{$$typeof:a,type:O,key:pe,ref:de,props:ve,_owner:D.current}}function ee(O,G){return{$$typeof:a,type:O.type,key:G,ref:O.ref,props:O.props,_owner:O._owner}}function $(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function F(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return G[ne]})}var J=/\/+/g;function oe(O,G){return typeof O=="object"&&O!==null&&O.key!=null?F(""+O.key):G.toString(36)}function ce(O,G,ne,he,ve){var pe=typeof O;(pe==="undefined"||pe==="boolean")&&(O=null);var de=!1;if(O===null)de=!0;else switch(pe){case"string":case"number":de=!0;break;case"object":switch(O.$$typeof){case a:case t:de=!0}}if(de)return de=O,ve=ve(de),O=he===""?"."+oe(de,0):he,L(ve)?(ne="",O!=null&&(ne=O.replace(J,"$&/")+"/"),ce(ve,G,ne,"",function(Be){return Be})):ve!=null&&($(ve)&&(ve=ee(ve,ne+(!ve.key||de&&de.key===ve.key?"":(""+ve.key).replace(J,"$&/")+"/")+O)),G.push(ve)),1;if(de=0,he=he===""?".":he+":",L(O))for(var Le=0;Le<O.length;Le++){pe=O[Le];var Ce=he+oe(pe,Le);de+=ce(pe,G,ne,Ce,ve)}else if(Ce=y(O),typeof Ce=="function")for(O=Ce.call(O),Le=0;!(pe=O.next()).done;)pe=pe.value,Ce=he+oe(pe,Le++),de+=ce(pe,G,ne,Ce,ve);else if(pe==="object")throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return de}function te(O,G,ne){if(O==null)return O;var he=[],ve=0;return ce(O,he,"","",function(pe){return G.call(ne,pe,ve++)}),he}function W(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var H={current:null},q={transition:null},K={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:q,ReactCurrentOwner:D};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:te,forEach:function(O,G,ne){te(O,function(){G.apply(this,arguments)},ne)},count:function(O){var G=0;return te(O,function(){G++}),G},toArray:function(O){return te(O,function(G){return G})||[]},only:function(O){if(!$(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=E,Oe.Fragment=e,Oe.Profiler=i,Oe.PureComponent=M,Oe.StrictMode=n,Oe.Suspense=d,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Oe.act=Z,Oe.cloneElement=function(O,G,ne){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var he=b({},O.props),ve=O.key,pe=O.ref,de=O._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,de=D.current),G.key!==void 0&&(ve=""+G.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(Ce in G)N.call(G,Ce)&&!B.hasOwnProperty(Ce)&&(he[Ce]=G[Ce]===void 0&&Le!==void 0?Le[Ce]:G[Ce])}var Ce=arguments.length-2;if(Ce===1)he.children=ne;else if(1<Ce){Le=Array(Ce);for(var Be=0;Be<Ce;Be++)Le[Be]=arguments[Be+2];he.children=Le}return{$$typeof:a,type:O.type,key:ve,ref:pe,props:he,_owner:de}},Oe.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:r,_context:O},O.Consumer=O},Oe.createElement=X,Oe.createFactory=function(O){var G=X.bind(null,O);return G.type=O,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:u,render:O}},Oe.isValidElement=$,Oe.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:W}},Oe.memo=function(O,G){return{$$typeof:f,type:O,compare:G===void 0?null:G}},Oe.startTransition=function(O){var G=q.transition;q.transition={};try{O()}finally{q.transition=G}},Oe.unstable_act=Z,Oe.useCallback=function(O,G){return H.current.useCallback(O,G)},Oe.useContext=function(O){return H.current.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O){return H.current.useDeferredValue(O)},Oe.useEffect=function(O,G){return H.current.useEffect(O,G)},Oe.useId=function(){return H.current.useId()},Oe.useImperativeHandle=function(O,G,ne){return H.current.useImperativeHandle(O,G,ne)},Oe.useInsertionEffect=function(O,G){return H.current.useInsertionEffect(O,G)},Oe.useLayoutEffect=function(O,G){return H.current.useLayoutEffect(O,G)},Oe.useMemo=function(O,G){return H.current.useMemo(O,G)},Oe.useReducer=function(O,G,ne){return H.current.useReducer(O,G,ne)},Oe.useRef=function(O){return H.current.useRef(O)},Oe.useState=function(O){return H.current.useState(O)},Oe.useSyncExternalStore=function(O,G,ne){return H.current.useSyncExternalStore(O,G,ne)},Oe.useTransition=function(){return H.current.useTransition()},Oe.version="18.3.1",Oe}var iA;function qp(){return iA||(iA=1,o1.exports=fP()),o1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA;function pP(){if(rA)return Rd;rA=1;var a=qp(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,g={},y=null,w=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)n.call(d,p)&&!r.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:t,type:u,key:y,ref:w,props:g,_owner:i.current}}return Rd.Fragment=e,Rd.jsx=l,Rd.jsxs=l,Rd}var oA;function mP(){return oA||(oA=1,r1.exports=pP()),r1.exports}var C=mP(),Q=qp();const ja=Rw(Q);var dg={},a1={exports:{}},Xn={},l1={exports:{}},c1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function gP(){return aA||(aA=1,function(a){function t(q,K){var Z=q.length;q.push(K);e:for(;0<Z;){var O=Z-1>>>1,G=q[O];if(0<i(G,K))q[O]=K,q[Z]=G,Z=O;else break e}}function e(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var K=q[0],Z=q.pop();if(Z!==K){q[0]=Z;e:for(var O=0,G=q.length,ne=G>>>1;O<ne;){var he=2*(O+1)-1,ve=q[he],pe=he+1,de=q[pe];if(0>i(ve,Z))pe<G&&0>i(de,ve)?(q[O]=de,q[pe]=Z,O=pe):(q[O]=ve,q[he]=Z,O=he);else if(pe<G&&0>i(de,Z))q[O]=de,q[pe]=Z,O=pe;else break e}}return K}function i(q,K){var Z=q.sortIndex-K.sortIndex;return Z!==0?Z:q.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;a.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();a.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,y=3,w=!1,b=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var K=e(f);K!==null;){if(K.callback===null)n(f);else if(K.startTime<=q)n(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=e(f)}}function L(q){if(A=!1,R(q),!b)if(e(d)!==null)b=!0,W(N);else{var K=e(f);K!==null&&H(L,K.startTime-q)}}function N(q,K){b=!1,A&&(A=!1,T(X),X=-1),w=!0;var Z=y;try{for(R(K),g=e(d);g!==null&&(!(g.expirationTime>K)||q&&!F());){var O=g.callback;if(typeof O=="function"){g.callback=null,y=g.priorityLevel;var G=O(g.expirationTime<=K);K=a.unstable_now(),typeof G=="function"?g.callback=G:g===e(d)&&n(d),R(K)}else n(d);g=e(d)}if(g!==null)var ne=!0;else{var he=e(f);he!==null&&H(L,he.startTime-K),ne=!1}return ne}finally{g=null,y=Z,w=!1}}var D=!1,B=null,X=-1,ee=5,$=-1;function F(){return!(a.unstable_now()-$<ee)}function J(){if(B!==null){var q=a.unstable_now();$=q;var K=!0;try{K=B(!0,q)}finally{K?oe():(D=!1,B=null)}}else D=!1}var oe;if(typeof M=="function")oe=function(){M(J)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=J,oe=function(){te.postMessage(null)}}else oe=function(){E(J,0)};function W(q){B=q,D||(D=!0,oe())}function H(q,K){X=E(function(){q(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_continueExecution=function(){b||w||(b=!0,W(N))},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_getFirstCallbackNode=function(){return e(d)},a.unstable_next=function(q){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Z=y;y=K;try{return q()}finally{y=Z}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=y;y=q;try{return K()}finally{y=Z}},a.unstable_scheduleCallback=function(q,K,Z){var O=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?O+Z:O):Z=O,q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Z+G,q={id:p++,callback:K,priorityLevel:q,startTime:Z,expirationTime:G,sortIndex:-1},Z>O?(q.sortIndex=Z,t(f,q),e(d)===null&&q===e(f)&&(A?(T(X),X=-1):A=!0,H(L,Z-O))):(q.sortIndex=G,t(d,q),b||w||(b=!0,W(N))),q},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(q){var K=y;return function(){var Z=y;y=K;try{return q.apply(this,arguments)}finally{y=Z}}}}(c1)),c1}var lA;function yP(){return lA||(lA=1,l1.exports=gP()),l1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function vP(){if(cA)return Xn;cA=1;var a=qp(),t=yP();function e(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function r(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(s){return d.call(g,s)?!0:d.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function w(s,o,h,m){if(h!==null&&h.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,o,h,m){if(o===null||typeof o>"u"||w(s,o,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(s,o,h,m,v,S,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=s,this.type=o,this.sanitizeURL=S,this.removeEmptyString=P}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];E[o]=new A(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(T,M);E[o]=new A(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(T,M);E[o]=new A(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(T,M);E[o]=new A(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,o,h,m){var v=E.hasOwnProperty(o)?E[o]:null;(v!==null?v.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,h,v,m)&&(h=null),m||v===null?y(o)&&(h===null?s.removeAttribute(o):s.setAttribute(o,""+h)):v.mustUseProperty?s[v.propertyName]=h===null?v.type===3?!1:"":h:(o=v.attributeName,m=v.attributeNamespace,h===null?s.removeAttribute(o):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,m?s.setAttributeNS(m,o,h):s.setAttribute(o,h))))}var L=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),F=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),q=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,O;function G(s){if(O===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+s}var ne=!1;function he(s,o){if(!s||ne)return"";ne=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var m=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){m=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){m=Y}s()}}catch(Y){if(Y&&m&&typeof Y.stack=="string"){for(var v=Y.stack.split(`
`),S=m.stack.split(`
`),P=v.length-1,I=S.length-1;1<=P&&0<=I&&v[P]!==S[I];)I--;for(;1<=P&&0<=I;P--,I--)if(v[P]!==S[I]){if(P!==1||I!==1)do if(P--,I--,0>I||v[P]!==S[I]){var j=`
`+v[P].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=P&&0<=I);break}}}finally{ne=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?G(s):""}function ve(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case D:return"Portal";case ee:return"Profiler";case X:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case $:return(s._context.displayName||"Context")+".Provider";case J:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return o=s.displayName||null,o!==null?o:pe(s.type)||"Memo";case W:o=s._payload,s=s._init;try{return pe(s(o))}catch{}}return null}function de(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(o);case 8:return o===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ce(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Be(s){var o=Ce(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(P){m=""+P,S.call(this,P)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function it(s){s._valueTracker||(s._valueTracker=Be(s))}function vt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return s&&(m=Ce(s)?s.checked?"true":"false":s.value),s=m,s!==h?(o.setValue(s),!0):!1}function Ns(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xi(s,o){var h=o.checked;return Z({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Tn(s,o){var h=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;h=Le(o.value!=null?o.value:h),s._wrapperState={initialChecked:m,initialValue:h,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function $n(s,o){o=o.checked,o!=null&&R(s,"checked",o,!1)}function Va(s,o){$n(s,o);var h=Le(o.value),m=o.type;if(h!=null)m==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?wn(s,o.type,h):o.hasOwnProperty("defaultValue")&&wn(s,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function _t(s,o,h){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,h||o===s.value||(s.value=o),s.defaultValue=o}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function wn(s,o,h){(o!=="number"||Ns(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Yt=Array.isArray;function bi(s,o,h,m){if(s=s.options,o){o={};for(var v=0;v<h.length;v++)o["$"+h[v]]=!0;for(h=0;h<s.length;h++)v=o.hasOwnProperty("$"+s[h].value),s[h].selected!==v&&(s[h].selected=v),v&&m&&(s[h].defaultSelected=!0)}else{for(h=""+Le(h),o=null,v=0;v<s.length;v++){if(s[v].value===h){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function ts(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(e(91));return Z({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ue(s,o){var h=o.value;if(h==null){if(h=o.children,o=o.defaultValue,h!=null){if(o!=null)throw Error(e(92));if(Yt(h)){if(1<h.length)throw Error(e(93));h=h[0]}o=h}o==null&&(o=""),h=o}s._wrapperState={initialValue:Le(h)}}function ht(s,o){var h=Le(o.value),m=Le(o.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),o.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),m!=null&&(s.defaultValue=""+m)}function qt(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function cr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function my(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?cr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var im,gS=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,h,m,v){MSApp.execUnsafeLocalFunction(function(){return s(o,h,m,v)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(im=im||document.createElement("div"),im.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=im.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Vh(s,o){if(o){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=o;return}}s.textContent=o}var Xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m3=["Webkit","ms","Moz","O"];Object.keys(Xh).forEach(function(s){m3.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Xh[o]=Xh[s]})});function yS(s,o,h){return o==null||typeof o=="boolean"||o===""?"":h||typeof o!="number"||o===0||Xh.hasOwnProperty(s)&&Xh[s]?(""+o).trim():o+"px"}function vS(s,o){s=s.style;for(var h in o)if(o.hasOwnProperty(h)){var m=h.indexOf("--")===0,v=yS(h,o[h],m);h==="float"&&(h="cssFloat"),m?s.setProperty(h,v):s[h]=v}}var g3=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(s,o){if(o){if(g3[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(e(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(e(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(e(61))}if(o.style!=null&&typeof o.style!="object")throw Error(e(62))}}function yy(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function wy(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Sy=null,Ic=null,Dc=null;function wS(s){if(s=md(s)){if(typeof Sy!="function")throw Error(e(280));var o=s.stateNode;o&&(o=km(o),Sy(s.stateNode,s.type,o))}}function SS(s){Ic?Dc?Dc.push(s):Dc=[s]:Ic=s}function xS(){if(Ic){var s=Ic,o=Dc;if(Dc=Ic=null,wS(s),o)for(s=0;s<o.length;s++)wS(o[s])}}function bS(s,o){return s(o)}function AS(){}var xy=!1;function _S(s,o,h){if(xy)return s(o,h);xy=!0;try{return bS(s,o,h)}finally{xy=!1,(Ic!==null||Dc!==null)&&(AS(),xS())}}function Yh(s,o){var h=s.stateNode;if(h===null)return null;var m=km(h);if(m===null)return null;h=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(e(231,o,typeof h));return h}var by=!1;if(u)try{var qh={};Object.defineProperty(qh,"passive",{get:function(){by=!0}}),window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{by=!1}function y3(s,o,h,m,v,S,P,I,j){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(h,Y)}catch(ie){this.onError(ie)}}var Kh=!1,rm=null,om=!1,Ay=null,v3={onError:function(s){Kh=!0,rm=s}};function w3(s,o,h,m,v,S,P,I,j){Kh=!1,rm=null,y3.apply(v3,arguments)}function S3(s,o,h,m,v,S,P,I,j){if(w3.apply(this,arguments),Kh){if(Kh){var Y=rm;Kh=!1,rm=null}else throw Error(e(198));om||(om=!0,Ay=Y)}}function Xa(s){var o=s,h=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(h=o.return),s=o.return;while(s)}return o.tag===3?h:null}function ES(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function CS(s){if(Xa(s)!==s)throw Error(e(188))}function x3(s){var o=s.alternate;if(!o){if(o=Xa(s),o===null)throw Error(e(188));return o!==s?null:s}for(var h=s,m=o;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(m=v.return,m!==null){h=m;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return CS(v),s;if(S===m)return CS(v),o;S=S.sibling}throw Error(e(188))}if(h.return!==m.return)h=v,m=S;else{for(var P=!1,I=v.child;I;){if(I===h){P=!0,h=v,m=S;break}if(I===m){P=!0,m=v,h=S;break}I=I.sibling}if(!P){for(I=S.child;I;){if(I===h){P=!0,h=S,m=v;break}if(I===m){P=!0,m=S,h=v;break}I=I.sibling}if(!P)throw Error(e(189))}}if(h.alternate!==m)throw Error(e(190))}if(h.tag!==3)throw Error(e(188));return h.stateNode.current===h?s:o}function kS(s){return s=x3(s),s!==null?TS(s):null}function TS(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=TS(s);if(o!==null)return o;s=s.sibling}return null}var PS=t.unstable_scheduleCallback,RS=t.unstable_cancelCallback,b3=t.unstable_shouldYield,A3=t.unstable_requestPaint,kt=t.unstable_now,_3=t.unstable_getCurrentPriorityLevel,_y=t.unstable_ImmediatePriority,MS=t.unstable_UserBlockingPriority,am=t.unstable_NormalPriority,E3=t.unstable_LowPriority,LS=t.unstable_IdlePriority,lm=null,Ai=null;function C3(s){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(lm,s,void 0,(s.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:P3,k3=Math.log,T3=Math.LN2;function P3(s){return s>>>=0,s===0?32:31-(k3(s)/T3|0)|0}var cm=64,um=4194304;function Qh(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function hm(s,o){var h=s.pendingLanes;if(h===0)return 0;var m=0,v=s.suspendedLanes,S=s.pingedLanes,P=h&268435455;if(P!==0){var I=P&~v;I!==0?m=Qh(I):(S&=P,S!==0&&(m=Qh(S)))}else P=h&~v,P!==0?m=Qh(P):S!==0&&(m=Qh(S));if(m===0)return 0;if(o!==0&&o!==m&&(o&v)===0&&(v=m&-m,S=o&-o,v>=S||v===16&&(S&4194240)!==0))return o;if((m&4)!==0&&(m|=h&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)h=31-ti(o),v=1<<h,m|=s[h],o&=~v;return m}function R3(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M3(s,o){for(var h=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,S=s.pendingLanes;0<S;){var P=31-ti(S),I=1<<P,j=v[P];j===-1?((I&h)===0||(I&m)!==0)&&(v[P]=R3(I,o)):j<=o&&(s.expiredLanes|=I),S&=~I}}function Ey(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function NS(){var s=cm;return cm<<=1,(cm&4194240)===0&&(cm=64),s}function Cy(s){for(var o=[],h=0;31>h;h++)o.push(s);return o}function Jh(s,o,h){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ti(o),s[o]=h}function L3(s,o){var h=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<h;){var v=31-ti(h),S=1<<v;o[v]=0,m[v]=-1,s[v]=-1,h&=~S}}function ky(s,o){var h=s.entangledLanes|=o;for(s=s.entanglements;h;){var m=31-ti(h),v=1<<m;v&o|s[m]&o&&(s[m]|=o),h&=~v}}var Qe=0;function IS(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var DS,Ty,OS,FS,jS,Py=!1,dm=[],wo=null,So=null,xo=null,Zh=new Map,ed=new Map,bo=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BS(s,o){switch(s){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Zh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(o.pointerId)}}function td(s,o,h,m,v,S){return s===null||s.nativeEvent!==S?(s={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[v]},o!==null&&(o=md(o),o!==null&&Ty(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function I3(s,o,h,m,v){switch(o){case"focusin":return wo=td(wo,s,o,h,m,v),!0;case"dragenter":return So=td(So,s,o,h,m,v),!0;case"mouseover":return xo=td(xo,s,o,h,m,v),!0;case"pointerover":var S=v.pointerId;return Zh.set(S,td(Zh.get(S)||null,s,o,h,m,v)),!0;case"gotpointercapture":return S=v.pointerId,ed.set(S,td(ed.get(S)||null,s,o,h,m,v)),!0}return!1}function zS(s){var o=Ya(s.target);if(o!==null){var h=Xa(o);if(h!==null){if(o=h.tag,o===13){if(o=ES(h),o!==null){s.blockedOn=o,jS(s.priority,function(){OS(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fm(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var h=My(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);vy=m,h.target.dispatchEvent(m),vy=null}else return o=md(h),o!==null&&Ty(o),s.blockedOn=h,!1;o.shift()}return!0}function $S(s,o,h){fm(s)&&h.delete(o)}function D3(){Py=!1,wo!==null&&fm(wo)&&(wo=null),So!==null&&fm(So)&&(So=null),xo!==null&&fm(xo)&&(xo=null),Zh.forEach($S),ed.forEach($S)}function nd(s,o){s.blockedOn===o&&(s.blockedOn=null,Py||(Py=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D3)))}function sd(s){function o(v){return nd(v,s)}if(0<dm.length){nd(dm[0],s);for(var h=1;h<dm.length;h++){var m=dm[h];m.blockedOn===s&&(m.blockedOn=null)}}for(wo!==null&&nd(wo,s),So!==null&&nd(So,s),xo!==null&&nd(xo,s),Zh.forEach(o),ed.forEach(o),h=0;h<bo.length;h++)m=bo[h],m.blockedOn===s&&(m.blockedOn=null);for(;0<bo.length&&(h=bo[0],h.blockedOn===null);)zS(h),h.blockedOn===null&&bo.shift()}var Oc=L.ReactCurrentBatchConfig,pm=!0;function O3(s,o,h,m){var v=Qe,S=Oc.transition;Oc.transition=null;try{Qe=1,Ry(s,o,h,m)}finally{Qe=v,Oc.transition=S}}function F3(s,o,h,m){var v=Qe,S=Oc.transition;Oc.transition=null;try{Qe=4,Ry(s,o,h,m)}finally{Qe=v,Oc.transition=S}}function Ry(s,o,h,m){if(pm){var v=My(s,o,h,m);if(v===null)Yy(s,o,m,mm,h),BS(s,m);else if(I3(v,s,o,h,m))m.stopPropagation();else if(BS(s,m),o&4&&-1<N3.indexOf(s)){for(;v!==null;){var S=md(v);if(S!==null&&DS(S),S=My(s,o,h,m),S===null&&Yy(s,o,m,mm,h),S===v)break;v=S}v!==null&&m.stopPropagation()}else Yy(s,o,m,null,h)}}var mm=null;function My(s,o,h,m){if(mm=null,s=wy(m),s=Ya(s),s!==null)if(o=Xa(s),o===null)s=null;else if(h=o.tag,h===13){if(s=ES(o),s!==null)return s;s=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return mm=s,null}function US(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_3()){case _y:return 1;case MS:return 4;case am:case E3:return 16;case LS:return 536870912;default:return 16}default:return 16}}var Ao=null,Ly=null,gm=null;function HS(){if(gm)return gm;var s,o=Ly,h=o.length,m,v="value"in Ao?Ao.value:Ao.textContent,S=v.length;for(s=0;s<h&&o[s]===v[s];s++);var P=h-s;for(m=1;m<=P&&o[h-m]===v[S-m];m++);return gm=v.slice(s,1<m?1-m:void 0)}function ym(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function vm(){return!0}function GS(){return!1}function ns(s){function o(h,m,v,S,P){this._reactName=h,this._targetInst=v,this.type=m,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(h=s[I],this[I]=h?h(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?vm:GS,this.isPropagationStopped=GS,this}return Z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),o}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ny=ns(Fc),id=Z({},Fc,{view:0,detail:0}),j3=ns(id),Iy,Dy,rd,wm=Z({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fy,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==rd&&(rd&&s.type==="mousemove"?(Iy=s.screenX-rd.screenX,Dy=s.screenY-rd.screenY):Dy=Iy=0,rd=s),Iy)},movementY:function(s){return"movementY"in s?s.movementY:Dy}}),WS=ns(wm),B3=Z({},wm,{dataTransfer:0}),z3=ns(B3),$3=Z({},id,{relatedTarget:0}),Oy=ns($3),U3=Z({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),H3=ns(U3),G3=Z({},Fc,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),W3=ns(G3),V3=Z({},Fc,{data:0}),VS=ns(V3),X3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K3(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=q3[s])?!!o[s]:!1}function Fy(){return K3}var Q3=Z({},id,{key:function(s){if(s.key){var o=X3[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ym(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fy,charCode:function(s){return s.type==="keypress"?ym(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ym(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),J3=ns(Q3),Z3=Z({},wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XS=ns(Z3),eT=Z({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fy}),tT=ns(eT),nT=Z({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=ns(nT),iT=Z({},wm,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rT=ns(iT),oT=[9,13,27,32],jy=u&&"CompositionEvent"in window,od=null;u&&"documentMode"in document&&(od=document.documentMode);var aT=u&&"TextEvent"in window&&!od,YS=u&&(!jy||od&&8<od&&11>=od),qS=" ",KS=!1;function QS(s,o){switch(s){case"keyup":return oT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var jc=!1;function lT(s,o){switch(s){case"compositionend":return JS(o);case"keypress":return o.which!==32?null:(KS=!0,qS);case"textInput":return s=o.data,s===qS&&KS?null:s;default:return null}}function cT(s,o){if(jc)return s==="compositionend"||!jy&&QS(s,o)?(s=HS(),gm=Ly=Ao=null,jc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return YS&&o.locale!=="ko"?null:o.data;default:return null}}var uT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZS(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!uT[s.type]:o==="textarea"}function ex(s,o,h,m){SS(m),o=_m(o,"onChange"),0<o.length&&(h=new Ny("onChange","change",null,h,m),s.push({event:h,listeners:o}))}var ad=null,ld=null;function hT(s){vx(s,0)}function Sm(s){var o=Hc(s);if(vt(o))return s}function dT(s,o){if(s==="change")return o}var tx=!1;if(u){var By;if(u){var zy="oninput"in document;if(!zy){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),zy=typeof nx.oninput=="function"}By=zy}else By=!1;tx=By&&(!document.documentMode||9<document.documentMode)}function sx(){ad&&(ad.detachEvent("onpropertychange",ix),ld=ad=null)}function ix(s){if(s.propertyName==="value"&&Sm(ld)){var o=[];ex(o,ld,s,wy(s)),_S(hT,o)}}function fT(s,o,h){s==="focusin"?(sx(),ad=o,ld=h,ad.attachEvent("onpropertychange",ix)):s==="focusout"&&sx()}function pT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Sm(ld)}function mT(s,o){if(s==="click")return Sm(o)}function gT(s,o){if(s==="input"||s==="change")return Sm(o)}function yT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ni=typeof Object.is=="function"?Object.is:yT;function cd(s,o){if(ni(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var h=Object.keys(s),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var v=h[m];if(!d.call(o,v)||!ni(s[v],o[v]))return!1}return!0}function rx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ox(s,o){var h=rx(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=o&&m>=o)return{node:h,offset:o-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=rx(h)}}function ax(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?ax(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function lx(){for(var s=window,o=Ns();o instanceof s.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)s=o.contentWindow;else break;o=Ns(s.document)}return o}function $y(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function vT(s){var o=lx(),h=s.focusedElem,m=s.selectionRange;if(o!==h&&h&&h.ownerDocument&&ax(h.ownerDocument.documentElement,h)){if(m!==null&&$y(h)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in h)h.selectionStart=o,h.selectionEnd=Math.min(s,h.value.length);else if(s=(o=h.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var v=h.textContent.length,S=Math.min(m.start,v);m=m.end===void 0?S:Math.min(m.end,v),!s.extend&&S>m&&(v=m,m=S,S=v),v=ox(h,S);var P=ox(h,m);v&&P&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==P.node||s.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),s.removeAllRanges(),S>m?(s.addRange(o),s.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),s.addRange(o)))}}for(o=[],s=h;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<o.length;h++)s=o[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wT=u&&"documentMode"in document&&11>=document.documentMode,Bc=null,Uy=null,ud=null,Hy=!1;function cx(s,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Hy||Bc==null||Bc!==Ns(m)||(m=Bc,"selectionStart"in m&&$y(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ud&&cd(ud,m)||(ud=m,m=_m(Uy,"onSelect"),0<m.length&&(o=new Ny("onSelect","select",null,o,h),s.push({event:o,listeners:m}),o.target=Bc)))}function xm(s,o){var h={};return h[s.toLowerCase()]=o.toLowerCase(),h["Webkit"+s]="webkit"+o,h["Moz"+s]="moz"+o,h}var zc={animationend:xm("Animation","AnimationEnd"),animationiteration:xm("Animation","AnimationIteration"),animationstart:xm("Animation","AnimationStart"),transitionend:xm("Transition","TransitionEnd")},Gy={},ux={};u&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function bm(s){if(Gy[s])return Gy[s];if(!zc[s])return s;var o=zc[s],h;for(h in o)if(o.hasOwnProperty(h)&&h in ux)return Gy[s]=o[h];return s}var hx=bm("animationend"),dx=bm("animationiteration"),fx=bm("animationstart"),px=bm("transitionend"),mx=new Map,gx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(s,o){mx.set(s,o),r(o,[s])}for(var Wy=0;Wy<gx.length;Wy++){var Vy=gx[Wy],ST=Vy.toLowerCase(),xT=Vy[0].toUpperCase()+Vy.slice(1);_o(ST,"on"+xT)}_o(hx,"onAnimationEnd"),_o(dx,"onAnimationIteration"),_o(fx,"onAnimationStart"),_o("dblclick","onDoubleClick"),_o("focusin","onFocus"),_o("focusout","onBlur"),_o(px,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function yx(s,o,h){var m=s.type||"unknown-event";s.currentTarget=h,S3(m,o,void 0,s),s.currentTarget=null}function vx(s,o){o=(o&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],v=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var P=m.length-1;0<=P;P--){var I=m[P],j=I.instance,Y=I.currentTarget;if(I=I.listener,j!==S&&v.isPropagationStopped())break e;yx(v,I,Y),S=j}else for(P=0;P<m.length;P++){if(I=m[P],j=I.instance,Y=I.currentTarget,I=I.listener,j!==S&&v.isPropagationStopped())break e;yx(v,I,Y),S=j}}}if(om)throw s=Ay,om=!1,Ay=null,s}function at(s,o){var h=o[ev];h===void 0&&(h=o[ev]=new Set);var m=s+"__bubble";h.has(m)||(wx(o,s,2,!1),h.add(m))}function Xy(s,o,h){var m=0;o&&(m|=4),wx(h,s,m,o)}var Am="_reactListening"+Math.random().toString(36).slice(2);function dd(s){if(!s[Am]){s[Am]=!0,n.forEach(function(h){h!=="selectionchange"&&(bT.has(h)||Xy(h,!1,s),Xy(h,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Am]||(o[Am]=!0,Xy("selectionchange",!1,o))}}function wx(s,o,h,m){switch(US(o)){case 1:var v=O3;break;case 4:v=F3;break;default:v=Ry}h=v.bind(null,o,h,s),v=void 0,!by||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(o,h,{capture:!0,passive:v}):s.addEventListener(o,h,!0):v!==void 0?s.addEventListener(o,h,{passive:v}):s.addEventListener(o,h,!1)}function Yy(s,o,h,m,v){var S=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var I=m.stateNode.containerInfo;if(I===v||I.nodeType===8&&I.parentNode===v)break;if(P===4)for(P=m.return;P!==null;){var j=P.tag;if((j===3||j===4)&&(j=P.stateNode.containerInfo,j===v||j.nodeType===8&&j.parentNode===v))return;P=P.return}for(;I!==null;){if(P=Ya(I),P===null)return;if(j=P.tag,j===5||j===6){m=S=P;continue e}I=I.parentNode}}m=m.return}_S(function(){var Y=S,ie=wy(h),re=[];e:{var se=mx.get(s);if(se!==void 0){var fe=Ny,xe=s;switch(s){case"keypress":if(ym(h)===0)break e;case"keydown":case"keyup":fe=J3;break;case"focusin":xe="focus",fe=Oy;break;case"focusout":xe="blur",fe=Oy;break;case"beforeblur":case"afterblur":fe=Oy;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=WS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=z3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=tT;break;case hx:case dx:case fx:fe=H3;break;case px:fe=sT;break;case"scroll":fe=j3;break;case"wheel":fe=rT;break;case"copy":case"cut":case"paste":fe=W3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=XS}var be=(o&4)!==0,Tt=!be&&s==="scroll",U=be?se!==null?se+"Capture":null:se;be=[];for(var z=Y,V;z!==null;){V=z;var le=V.stateNode;if(V.tag===5&&le!==null&&(V=le,U!==null&&(le=Yh(z,U),le!=null&&be.push(fd(z,le,V)))),Tt)break;z=z.return}0<be.length&&(se=new fe(se,xe,null,h,ie),re.push({event:se,listeners:be}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",se&&h!==vy&&(xe=h.relatedTarget||h.fromElement)&&(Ya(xe)||xe[ur]))break e;if((fe||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,fe?(xe=h.relatedTarget||h.toElement,fe=Y,xe=xe?Ya(xe):null,xe!==null&&(Tt=Xa(xe),xe!==Tt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=Y),fe!==xe)){if(be=WS,le="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(be=XS,le="onPointerLeave",U="onPointerEnter",z="pointer"),Tt=fe==null?se:Hc(fe),V=xe==null?se:Hc(xe),se=new be(le,z+"leave",fe,h,ie),se.target=Tt,se.relatedTarget=V,le=null,Ya(ie)===Y&&(be=new be(U,z+"enter",xe,h,ie),be.target=V,be.relatedTarget=Tt,le=be),Tt=le,fe&&xe)t:{for(be=fe,U=xe,z=0,V=be;V;V=$c(V))z++;for(V=0,le=U;le;le=$c(le))V++;for(;0<z-V;)be=$c(be),z--;for(;0<V-z;)U=$c(U),V--;for(;z--;){if(be===U||U!==null&&be===U.alternate)break t;be=$c(be),U=$c(U)}be=null}else be=null;fe!==null&&Sx(re,se,fe,be,!1),xe!==null&&Tt!==null&&Sx(re,Tt,xe,be,!0)}}e:{if(se=Y?Hc(Y):window,fe=se.nodeName&&se.nodeName.toLowerCase(),fe==="select"||fe==="input"&&se.type==="file")var _e=dT;else if(ZS(se))if(tx)_e=gT;else{_e=pT;var ke=fT}else(fe=se.nodeName)&&fe.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(_e=mT);if(_e&&(_e=_e(s,Y))){ex(re,_e,h,ie);break e}ke&&ke(s,se,Y),s==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&wn(se,"number",se.value)}switch(ke=Y?Hc(Y):window,s){case"focusin":(ZS(ke)||ke.contentEditable==="true")&&(Bc=ke,Uy=Y,ud=null);break;case"focusout":ud=Uy=Bc=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,cx(re,h,ie);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":cx(re,h,ie)}var Te;if(jy)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else jc?QS(s,h)&&(Re="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Re="onCompositionStart");Re&&(YS&&h.locale!=="ko"&&(jc||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&jc&&(Te=HS()):(Ao=ie,Ly="value"in Ao?Ao.value:Ao.textContent,jc=!0)),ke=_m(Y,Re),0<ke.length&&(Re=new VS(Re,s,null,h,ie),re.push({event:Re,listeners:ke}),Te?Re.data=Te:(Te=JS(h),Te!==null&&(Re.data=Te)))),(Te=aT?lT(s,h):cT(s,h))&&(Y=_m(Y,"onBeforeInput"),0<Y.length&&(ie=new VS("onBeforeInput","beforeinput",null,h,ie),re.push({event:ie,listeners:Y}),ie.data=Te))}vx(re,o)})}function fd(s,o,h){return{instance:s,listener:o,currentTarget:h}}function _m(s,o){for(var h=o+"Capture",m=[];s!==null;){var v=s,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Yh(s,h),S!=null&&m.unshift(fd(s,S,v)),S=Yh(s,o),S!=null&&m.push(fd(s,S,v))),s=s.return}return m}function $c(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sx(s,o,h,m,v){for(var S=o._reactName,P=[];h!==null&&h!==m;){var I=h,j=I.alternate,Y=I.stateNode;if(j!==null&&j===m)break;I.tag===5&&Y!==null&&(I=Y,v?(j=Yh(h,S),j!=null&&P.unshift(fd(h,j,I))):v||(j=Yh(h,S),j!=null&&P.push(fd(h,j,I)))),h=h.return}P.length!==0&&s.push({event:o,listeners:P})}var AT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function xx(s){return(typeof s=="string"?s:""+s).replace(AT,`
`).replace(_T,"")}function Em(s,o,h){if(o=xx(o),xx(s)!==o&&h)throw Error(e(425))}function Cm(){}var qy=null,Ky=null;function Qy(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Jy=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(s){return bx.resolve(null).then(s).catch(kT)}:Jy;function kT(s){setTimeout(function(){throw s})}function Zy(s,o){var h=o,m=0;do{var v=h.nextSibling;if(s.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(m===0){s.removeChild(v),sd(o);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=v}while(h);sd(o)}function Eo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ax(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(o===0)return s;o--}else h==="/$"&&o++}s=s.previousSibling}return null}var Uc=Math.random().toString(36).slice(2),_i="__reactFiber$"+Uc,pd="__reactProps$"+Uc,ur="__reactContainer$"+Uc,ev="__reactEvents$"+Uc,TT="__reactListeners$"+Uc,PT="__reactHandles$"+Uc;function Ya(s){var o=s[_i];if(o)return o;for(var h=s.parentNode;h;){if(o=h[ur]||h[_i]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(s=Ax(s);s!==null;){if(h=s[_i])return h;s=Ax(s)}return o}s=h,h=s.parentNode}return null}function md(s){return s=s[_i]||s[ur],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Hc(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(e(33))}function km(s){return s[pd]||null}var tv=[],Gc=-1;function Co(s){return{current:s}}function lt(s){0>Gc||(s.current=tv[Gc],tv[Gc]=null,Gc--)}function rt(s,o){Gc++,tv[Gc]=s.current,s.current=o}var ko={},Sn=Co(ko),Un=Co(!1),qa=ko;function Wc(s,o){var h=s.type.contextTypes;if(!h)return ko;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=o[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=v),v}function Hn(s){return s=s.childContextTypes,s!=null}function Tm(){lt(Un),lt(Sn)}function _x(s,o,h){if(Sn.current!==ko)throw Error(e(168));rt(Sn,o),rt(Un,h)}function Ex(s,o,h){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var v in m)if(!(v in o))throw Error(e(108,de(s)||"Unknown",v));return Z({},h,m)}function Pm(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ko,qa=Sn.current,rt(Sn,s),rt(Un,Un.current),!0}function Cx(s,o,h){var m=s.stateNode;if(!m)throw Error(e(169));h?(s=Ex(s,o,qa),m.__reactInternalMemoizedMergedChildContext=s,lt(Un),lt(Sn),rt(Sn,s)):lt(Un),rt(Un,h)}var hr=null,Rm=!1,nv=!1;function kx(s){hr===null?hr=[s]:hr.push(s)}function RT(s){Rm=!0,kx(s)}function To(){if(!nv&&hr!==null){nv=!0;var s=0,o=Qe;try{var h=hr;for(Qe=1;s<h.length;s++){var m=h[s];do m=m(!0);while(m!==null)}hr=null,Rm=!1}catch(v){throw hr!==null&&(hr=hr.slice(s+1)),PS(_y,To),v}finally{Qe=o,nv=!1}}return null}var Vc=[],Xc=0,Mm=null,Lm=0,Is=[],Ds=0,Ka=null,dr=1,fr="";function Qa(s,o){Vc[Xc++]=Lm,Vc[Xc++]=Mm,Mm=s,Lm=o}function Tx(s,o,h){Is[Ds++]=dr,Is[Ds++]=fr,Is[Ds++]=Ka,Ka=s;var m=dr;s=fr;var v=32-ti(m)-1;m&=~(1<<v),h+=1;var S=32-ti(o)+v;if(30<S){var P=v-v%5;S=(m&(1<<P)-1).toString(32),m>>=P,v-=P,dr=1<<32-ti(o)+v|h<<v|m,fr=S+s}else dr=1<<S|h<<v|m,fr=s}function sv(s){s.return!==null&&(Qa(s,1),Tx(s,1,0))}function iv(s){for(;s===Mm;)Mm=Vc[--Xc],Vc[Xc]=null,Lm=Vc[--Xc],Vc[Xc]=null;for(;s===Ka;)Ka=Is[--Ds],Is[Ds]=null,fr=Is[--Ds],Is[Ds]=null,dr=Is[--Ds],Is[Ds]=null}var ss=null,is=null,dt=!1,si=null;function Px(s,o){var h=Bs(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=s,o=s.deletions,o===null?(s.deletions=[h],s.flags|=16):o.push(h)}function Rx(s,o){switch(s.tag){case 5:var h=s.type;return o=o.nodeType!==1||h.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,ss=s,is=Eo(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,ss=s,is=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(h=Ka!==null?{id:dr,overflow:fr}:null,s.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=Bs(18,null,null,0),h.stateNode=o,h.return=s,s.child=h,ss=s,is=null,!0):!1;default:return!1}}function rv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ov(s){if(dt){var o=is;if(o){var h=o;if(!Rx(s,o)){if(rv(s))throw Error(e(418));o=Eo(h.nextSibling);var m=ss;o&&Rx(s,o)?Px(m,h):(s.flags=s.flags&-4097|2,dt=!1,ss=s)}}else{if(rv(s))throw Error(e(418));s.flags=s.flags&-4097|2,dt=!1,ss=s}}}function Mx(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ss=s}function Nm(s){if(s!==ss)return!1;if(!dt)return Mx(s),dt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Qy(s.type,s.memoizedProps)),o&&(o=is)){if(rv(s))throw Lx(),Error(e(418));for(;o;)Px(s,o),o=Eo(o.nextSibling)}if(Mx(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(e(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(o===0){is=Eo(s.nextSibling);break e}o--}else h!=="$"&&h!=="$!"&&h!=="$?"||o++}s=s.nextSibling}is=null}}else is=ss?Eo(s.stateNode.nextSibling):null;return!0}function Lx(){for(var s=is;s;)s=Eo(s.nextSibling)}function Yc(){is=ss=null,dt=!1}function av(s){si===null?si=[s]:si.push(s)}var MT=L.ReactCurrentBatchConfig;function gd(s,o,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(e(309));var m=h.stateNode}if(!m)throw Error(e(147,s));var v=m,S=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(P){var I=v.refs;P===null?delete I[S]:I[S]=P},o._stringRef=S,o)}if(typeof s!="string")throw Error(e(284));if(!h._owner)throw Error(e(290,s))}return s}function Im(s,o){throw s=Object.prototype.toString.call(o),Error(e(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Nx(s){var o=s._init;return o(s._payload)}function Ix(s){function o(U,z){if(s){var V=U.deletions;V===null?(U.deletions=[z],U.flags|=16):V.push(z)}}function h(U,z){if(!s)return null;for(;z!==null;)o(U,z),z=z.sibling;return null}function m(U,z){for(U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function v(U,z){return U=Oo(U,z),U.index=0,U.sibling=null,U}function S(U,z,V){return U.index=V,s?(V=U.alternate,V!==null?(V=V.index,V<z?(U.flags|=2,z):V):(U.flags|=2,z)):(U.flags|=1048576,z)}function P(U){return s&&U.alternate===null&&(U.flags|=2),U}function I(U,z,V,le){return z===null||z.tag!==6?(z=Jv(V,U.mode,le),z.return=U,z):(z=v(z,V),z.return=U,z)}function j(U,z,V,le){var _e=V.type;return _e===B?ie(U,z,V.props.children,le,V.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&Nx(_e)===z.type)?(le=v(z,V.props),le.ref=gd(U,z,V),le.return=U,le):(le=ig(V.type,V.key,V.props,null,U.mode,le),le.ref=gd(U,z,V),le.return=U,le)}function Y(U,z,V,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=Zv(V,U.mode,le),z.return=U,z):(z=v(z,V.children||[]),z.return=U,z)}function ie(U,z,V,le,_e){return z===null||z.tag!==7?(z=rl(V,U.mode,le,_e),z.return=U,z):(z=v(z,V),z.return=U,z)}function re(U,z,V){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Jv(""+z,U.mode,V),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return V=ig(z.type,z.key,z.props,null,U.mode,V),V.ref=gd(U,null,z),V.return=U,V;case D:return z=Zv(z,U.mode,V),z.return=U,z;case W:var le=z._init;return re(U,le(z._payload),V)}if(Yt(z)||K(z))return z=rl(z,U.mode,V,null),z.return=U,z;Im(U,z)}return null}function se(U,z,V,le){var _e=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return _e!==null?null:I(U,z,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return V.key===_e?j(U,z,V,le):null;case D:return V.key===_e?Y(U,z,V,le):null;case W:return _e=V._init,se(U,z,_e(V._payload),le)}if(Yt(V)||K(V))return _e!==null?null:ie(U,z,V,le,null);Im(U,V)}return null}function fe(U,z,V,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return U=U.get(V)||null,I(z,U,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return U=U.get(le.key===null?V:le.key)||null,j(z,U,le,_e);case D:return U=U.get(le.key===null?V:le.key)||null,Y(z,U,le,_e);case W:var ke=le._init;return fe(U,z,V,ke(le._payload),_e)}if(Yt(le)||K(le))return U=U.get(V)||null,ie(z,U,le,_e,null);Im(z,le)}return null}function xe(U,z,V,le){for(var _e=null,ke=null,Te=z,Re=z=0,Jt=null;Te!==null&&Re<V.length;Re++){Te.index>Re?(Jt=Te,Te=null):Jt=Te.sibling;var Xe=se(U,Te,V[Re],le);if(Xe===null){Te===null&&(Te=Jt);break}s&&Te&&Xe.alternate===null&&o(U,Te),z=S(Xe,z,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe,Te=Jt}if(Re===V.length)return h(U,Te),dt&&Qa(U,Re),_e;if(Te===null){for(;Re<V.length;Re++)Te=re(U,V[Re],le),Te!==null&&(z=S(Te,z,Re),ke===null?_e=Te:ke.sibling=Te,ke=Te);return dt&&Qa(U,Re),_e}for(Te=m(U,Te);Re<V.length;Re++)Jt=fe(Te,U,Re,V[Re],le),Jt!==null&&(s&&Jt.alternate!==null&&Te.delete(Jt.key===null?Re:Jt.key),z=S(Jt,z,Re),ke===null?_e=Jt:ke.sibling=Jt,ke=Jt);return s&&Te.forEach(function(Fo){return o(U,Fo)}),dt&&Qa(U,Re),_e}function be(U,z,V,le){var _e=K(V);if(typeof _e!="function")throw Error(e(150));if(V=_e.call(V),V==null)throw Error(e(151));for(var ke=_e=null,Te=z,Re=z=0,Jt=null,Xe=V.next();Te!==null&&!Xe.done;Re++,Xe=V.next()){Te.index>Re?(Jt=Te,Te=null):Jt=Te.sibling;var Fo=se(U,Te,Xe.value,le);if(Fo===null){Te===null&&(Te=Jt);break}s&&Te&&Fo.alternate===null&&o(U,Te),z=S(Fo,z,Re),ke===null?_e=Fo:ke.sibling=Fo,ke=Fo,Te=Jt}if(Xe.done)return h(U,Te),dt&&Qa(U,Re),_e;if(Te===null){for(;!Xe.done;Re++,Xe=V.next())Xe=re(U,Xe.value,le),Xe!==null&&(z=S(Xe,z,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe);return dt&&Qa(U,Re),_e}for(Te=m(U,Te);!Xe.done;Re++,Xe=V.next())Xe=fe(Te,U,Re,Xe.value,le),Xe!==null&&(s&&Xe.alternate!==null&&Te.delete(Xe.key===null?Re:Xe.key),z=S(Xe,z,Re),ke===null?_e=Xe:ke.sibling=Xe,ke=Xe);return s&&Te.forEach(function(uP){return o(U,uP)}),dt&&Qa(U,Re),_e}function Tt(U,z,V,le){if(typeof V=="object"&&V!==null&&V.type===B&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case N:e:{for(var _e=V.key,ke=z;ke!==null;){if(ke.key===_e){if(_e=V.type,_e===B){if(ke.tag===7){h(U,ke.sibling),z=v(ke,V.props.children),z.return=U,U=z;break e}}else if(ke.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&Nx(_e)===ke.type){h(U,ke.sibling),z=v(ke,V.props),z.ref=gd(U,ke,V),z.return=U,U=z;break e}h(U,ke);break}else o(U,ke);ke=ke.sibling}V.type===B?(z=rl(V.props.children,U.mode,le,V.key),z.return=U,U=z):(le=ig(V.type,V.key,V.props,null,U.mode,le),le.ref=gd(U,z,V),le.return=U,U=le)}return P(U);case D:e:{for(ke=V.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){h(U,z.sibling),z=v(z,V.children||[]),z.return=U,U=z;break e}else{h(U,z);break}else o(U,z);z=z.sibling}z=Zv(V,U.mode,le),z.return=U,U=z}return P(U);case W:return ke=V._init,Tt(U,z,ke(V._payload),le)}if(Yt(V))return xe(U,z,V,le);if(K(V))return be(U,z,V,le);Im(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,z!==null&&z.tag===6?(h(U,z.sibling),z=v(z,V),z.return=U,U=z):(h(U,z),z=Jv(V,U.mode,le),z.return=U,U=z),P(U)):h(U,z)}return Tt}var qc=Ix(!0),Dx=Ix(!1),Dm=Co(null),Om=null,Kc=null,lv=null;function cv(){lv=Kc=Om=null}function uv(s){var o=Dm.current;lt(Dm),s._currentValue=o}function hv(s,o,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===h)break;s=s.return}}function Qc(s,o){Om=s,lv=Kc=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Gn=!0),s.firstContext=null)}function Os(s){var o=s._currentValue;if(lv!==s)if(s={context:s,memoizedValue:o,next:null},Kc===null){if(Om===null)throw Error(e(308));Kc=s,Om.dependencies={lanes:0,firstContext:s}}else Kc=Kc.next=s;return o}var Ja=null;function dv(s){Ja===null?Ja=[s]:Ja.push(s)}function Ox(s,o,h,m){var v=o.interleaved;return v===null?(h.next=h,dv(o)):(h.next=v.next,v.next=h),o.interleaved=h,pr(s,m)}function pr(s,o){s.lanes|=o;var h=s.alternate;for(h!==null&&(h.lanes|=o),h=s,s=s.return;s!==null;)s.childLanes|=o,h=s.alternate,h!==null&&(h.childLanes|=o),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Po=!1;function fv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fx(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ro(s,o,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ge&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,pr(s,h)}return v=m.interleaved,v===null?(o.next=o,dv(m)):(o.next=v.next,v.next=o),m.interleaved=o,pr(s,h)}function Fm(s,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,ky(s,h)}}function jx(s,o){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=P:S=S.next=P,h=h.next}while(h!==null);S===null?v=S=o:S=S.next=o}else v=S=o;h={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=o:s.next=o,h.lastBaseUpdate=o}function jm(s,o,h,m){var v=s.updateQueue;Po=!1;var S=v.firstBaseUpdate,P=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var j=I,Y=j.next;j.next=null,P===null?S=Y:P.next=Y,P=j;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==P&&(I===null?ie.firstBaseUpdate=Y:I.next=Y,ie.lastBaseUpdate=j))}if(S!==null){var re=v.baseState;P=0,ie=Y=j=null,I=S;do{var se=I.lane,fe=I.eventTime;if((m&se)===se){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var xe=s,be=I;switch(se=o,fe=h,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){re=xe.call(fe,re,se);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,se=typeof xe=="function"?xe.call(fe,re,se):xe,se==null)break e;re=Z({},re,se);break e;case 2:Po=!0}}I.callback!==null&&I.lane!==0&&(s.flags|=64,se=v.effects,se===null?v.effects=[I]:se.push(I))}else fe={eventTime:fe,lane:se,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(Y=ie=fe,j=re):ie=ie.next=fe,P|=se;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;se=I,I=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(ie===null&&(j=re),v.baseState=j,v.firstBaseUpdate=Y,v.lastBaseUpdate=ie,o=v.shared.interleaved,o!==null){v=o;do P|=v.lane,v=v.next;while(v!==o)}else S===null&&(v.shared.lanes=0);tl|=P,s.lanes=P,s.memoizedState=re}}function Bx(s,o,h){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],v=m.callback;if(v!==null){if(m.callback=null,m=h,typeof v!="function")throw Error(e(191,v));v.call(m)}}}var yd={},Ei=Co(yd),vd=Co(yd),wd=Co(yd);function Za(s){if(s===yd)throw Error(e(174));return s}function pv(s,o){switch(rt(wd,o),rt(vd,s),rt(Ei,yd),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:my(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=my(o,s)}lt(Ei),rt(Ei,o)}function Jc(){lt(Ei),lt(vd),lt(wd)}function zx(s){Za(wd.current);var o=Za(Ei.current),h=my(o,s.type);o!==h&&(rt(vd,s),rt(Ei,h))}function mv(s){vd.current===s&&(lt(Ei),lt(vd))}var wt=Co(0);function Bm(s){for(var o=s;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gv=[];function yv(){for(var s=0;s<gv.length;s++)gv[s]._workInProgressVersionPrimary=null;gv.length=0}var zm=L.ReactCurrentDispatcher,vv=L.ReactCurrentBatchConfig,el=0,St=null,jt=null,Kt=null,$m=!1,Sd=!1,xd=0,LT=0;function xn(){throw Error(e(321))}function wv(s,o){if(o===null)return!1;for(var h=0;h<o.length&&h<s.length;h++)if(!ni(s[h],o[h]))return!1;return!0}function Sv(s,o,h,m,v,S){if(el=S,St=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,zm.current=s===null||s.memoizedState===null?OT:FT,s=h(m,v),Sd){S=0;do{if(Sd=!1,xd=0,25<=S)throw Error(e(301));S+=1,Kt=jt=null,o.updateQueue=null,zm.current=jT,s=h(m,v)}while(Sd)}if(zm.current=Gm,o=jt!==null&&jt.next!==null,el=0,Kt=jt=St=null,$m=!1,o)throw Error(e(300));return s}function xv(){var s=xd!==0;return xd=0,s}function Ci(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?St.memoizedState=Kt=s:Kt=Kt.next=s,Kt}function Fs(){if(jt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=jt.next;var o=Kt===null?St.memoizedState:Kt.next;if(o!==null)Kt=o,jt=s;else{if(s===null)throw Error(e(310));jt=s,s={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Kt===null?St.memoizedState=Kt=s:Kt=Kt.next=s}return Kt}function bd(s,o){return typeof o=="function"?o(s):o}function bv(s){var o=Fs(),h=o.queue;if(h===null)throw Error(e(311));h.lastRenderedReducer=s;var m=jt,v=m.baseQueue,S=h.pending;if(S!==null){if(v!==null){var P=v.next;v.next=S.next,S.next=P}m.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,m=m.baseState;var I=P=null,j=null,Y=S;do{var ie=Y.lane;if((el&ie)===ie)j!==null&&(j=j.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),m=Y.hasEagerState?Y.eagerState:s(m,Y.action);else{var re={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};j===null?(I=j=re,P=m):j=j.next=re,St.lanes|=ie,tl|=ie}Y=Y.next}while(Y!==null&&Y!==S);j===null?P=m:j.next=I,ni(m,o.memoizedState)||(Gn=!0),o.memoizedState=m,o.baseState=P,o.baseQueue=j,h.lastRenderedState=m}if(s=h.interleaved,s!==null){v=s;do S=v.lane,St.lanes|=S,tl|=S,v=v.next;while(v!==s)}else v===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function Av(s){var o=Fs(),h=o.queue;if(h===null)throw Error(e(311));h.lastRenderedReducer=s;var m=h.dispatch,v=h.pending,S=o.memoizedState;if(v!==null){h.pending=null;var P=v=v.next;do S=s(S,P.action),P=P.next;while(P!==v);ni(S,o.memoizedState)||(Gn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),h.lastRenderedState=S}return[S,m]}function $x(){}function Ux(s,o){var h=St,m=Fs(),v=o(),S=!ni(m.memoizedState,v);if(S&&(m.memoizedState=v,Gn=!0),m=m.queue,_v(Wx.bind(null,h,m,s),[s]),m.getSnapshot!==o||S||Kt!==null&&Kt.memoizedState.tag&1){if(h.flags|=2048,Ad(9,Gx.bind(null,h,m,v,o),void 0,null),Qt===null)throw Error(e(349));(el&30)!==0||Hx(h,o,v)}return v}function Hx(s,o,h){s.flags|=16384,s={getSnapshot:o,value:h},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.stores=[s]):(h=o.stores,h===null?o.stores=[s]:h.push(s))}function Gx(s,o,h,m){o.value=h,o.getSnapshot=m,Vx(o)&&Xx(s)}function Wx(s,o,h){return h(function(){Vx(o)&&Xx(s)})}function Vx(s){var o=s.getSnapshot;s=s.value;try{var h=o();return!ni(s,h)}catch{return!0}}function Xx(s){var o=pr(s,1);o!==null&&ai(o,s,1,-1)}function Yx(s){var o=Ci();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:s},o.queue=s,s=s.dispatch=DT.bind(null,St,s),[o.memoizedState,s]}function Ad(s,o,h,m){return s={tag:s,create:o,destroy:h,deps:m,next:null},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.lastEffect=s.next=s):(h=o.lastEffect,h===null?o.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,o.lastEffect=s)),s}function qx(){return Fs().memoizedState}function Um(s,o,h,m){var v=Ci();St.flags|=s,v.memoizedState=Ad(1|o,h,void 0,m===void 0?null:m)}function Hm(s,o,h,m){var v=Fs();m=m===void 0?null:m;var S=void 0;if(jt!==null){var P=jt.memoizedState;if(S=P.destroy,m!==null&&wv(m,P.deps)){v.memoizedState=Ad(o,h,S,m);return}}St.flags|=s,v.memoizedState=Ad(1|o,h,S,m)}function Kx(s,o){return Um(8390656,8,s,o)}function _v(s,o){return Hm(2048,8,s,o)}function Qx(s,o){return Hm(4,2,s,o)}function Jx(s,o){return Hm(4,4,s,o)}function Zx(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function eb(s,o,h){return h=h!=null?h.concat([s]):null,Hm(4,4,Zx.bind(null,o,s),h)}function Ev(){}function tb(s,o){var h=Fs();o=o===void 0?null:o;var m=h.memoizedState;return m!==null&&o!==null&&wv(o,m[1])?m[0]:(h.memoizedState=[s,o],s)}function nb(s,o){var h=Fs();o=o===void 0?null:o;var m=h.memoizedState;return m!==null&&o!==null&&wv(o,m[1])?m[0]:(s=s(),h.memoizedState=[s,o],s)}function sb(s,o,h){return(el&21)===0?(s.baseState&&(s.baseState=!1,Gn=!0),s.memoizedState=h):(ni(h,o)||(h=NS(),St.lanes|=h,tl|=h,s.baseState=!0),o)}function NT(s,o){var h=Qe;Qe=h!==0&&4>h?h:4,s(!0);var m=vv.transition;vv.transition={};try{s(!1),o()}finally{Qe=h,vv.transition=m}}function ib(){return Fs().memoizedState}function IT(s,o,h){var m=Io(s);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},rb(s))ob(o,h);else if(h=Ox(s,o,h,m),h!==null){var v=Rn();ai(h,s,m,v),ab(h,o,m)}}function DT(s,o,h){var m=Io(s),v={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(rb(s))ob(o,v);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var P=o.lastRenderedState,I=S(P,h);if(v.hasEagerState=!0,v.eagerState=I,ni(I,P)){var j=o.interleaved;j===null?(v.next=v,dv(o)):(v.next=j.next,j.next=v),o.interleaved=v;return}}catch{}finally{}h=Ox(s,o,v,m),h!==null&&(v=Rn(),ai(h,s,m,v),ab(h,o,m))}}function rb(s){var o=s.alternate;return s===St||o!==null&&o===St}function ob(s,o){Sd=$m=!0;var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}function ab(s,o,h){if((h&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,ky(s,h)}}var Gm={readContext:Os,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},OT={readContext:Os,useCallback:function(s,o){return Ci().memoizedState=[s,o===void 0?null:o],s},useContext:Os,useEffect:Kx,useImperativeHandle:function(s,o,h){return h=h!=null?h.concat([s]):null,Um(4194308,4,Zx.bind(null,o,s),h)},useLayoutEffect:function(s,o){return Um(4194308,4,s,o)},useInsertionEffect:function(s,o){return Um(4,2,s,o)},useMemo:function(s,o){var h=Ci();return o=o===void 0?null:o,s=s(),h.memoizedState=[s,o],s},useReducer:function(s,o,h){var m=Ci();return o=h!==void 0?h(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=IT.bind(null,St,s),[m.memoizedState,s]},useRef:function(s){var o=Ci();return s={current:s},o.memoizedState=s},useState:Yx,useDebugValue:Ev,useDeferredValue:function(s){return Ci().memoizedState=s},useTransition:function(){var s=Yx(!1),o=s[0];return s=NT.bind(null,s[1]),Ci().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,h){var m=St,v=Ci();if(dt){if(h===void 0)throw Error(e(407));h=h()}else{if(h=o(),Qt===null)throw Error(e(349));(el&30)!==0||Hx(m,o,h)}v.memoizedState=h;var S={value:h,getSnapshot:o};return v.queue=S,Kx(Wx.bind(null,m,S,s),[s]),m.flags|=2048,Ad(9,Gx.bind(null,m,S,h,o),void 0,null),h},useId:function(){var s=Ci(),o=Qt.identifierPrefix;if(dt){var h=fr,m=dr;h=(m&~(1<<32-ti(m)-1)).toString(32)+h,o=":"+o+"R"+h,h=xd++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=LT++,o=":"+o+"r"+h.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},FT={readContext:Os,useCallback:tb,useContext:Os,useEffect:_v,useImperativeHandle:eb,useInsertionEffect:Qx,useLayoutEffect:Jx,useMemo:nb,useReducer:bv,useRef:qx,useState:function(){return bv(bd)},useDebugValue:Ev,useDeferredValue:function(s){var o=Fs();return sb(o,jt.memoizedState,s)},useTransition:function(){var s=bv(bd)[0],o=Fs().memoizedState;return[s,o]},useMutableSource:$x,useSyncExternalStore:Ux,useId:ib,unstable_isNewReconciler:!1},jT={readContext:Os,useCallback:tb,useContext:Os,useEffect:_v,useImperativeHandle:eb,useInsertionEffect:Qx,useLayoutEffect:Jx,useMemo:nb,useReducer:Av,useRef:qx,useState:function(){return Av(bd)},useDebugValue:Ev,useDeferredValue:function(s){var o=Fs();return jt===null?o.memoizedState=s:sb(o,jt.memoizedState,s)},useTransition:function(){var s=Av(bd)[0],o=Fs().memoizedState;return[s,o]},useMutableSource:$x,useSyncExternalStore:Ux,useId:ib,unstable_isNewReconciler:!1};function ii(s,o){if(s&&s.defaultProps){o=Z({},o),s=s.defaultProps;for(var h in s)o[h]===void 0&&(o[h]=s[h]);return o}return o}function Cv(s,o,h,m){o=s.memoizedState,h=h(m,o),h=h==null?o:Z({},o,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Wm={isMounted:function(s){return(s=s._reactInternals)?Xa(s)===s:!1},enqueueSetState:function(s,o,h){s=s._reactInternals;var m=Rn(),v=Io(s),S=mr(m,v);S.payload=o,h!=null&&(S.callback=h),o=Ro(s,S,v),o!==null&&(ai(o,s,v,m),Fm(o,s,v))},enqueueReplaceState:function(s,o,h){s=s._reactInternals;var m=Rn(),v=Io(s),S=mr(m,v);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=Ro(s,S,v),o!==null&&(ai(o,s,v,m),Fm(o,s,v))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var h=Rn(),m=Io(s),v=mr(h,m);v.tag=2,o!=null&&(v.callback=o),o=Ro(s,v,m),o!==null&&(ai(o,s,m,h),Fm(o,s,m))}};function lb(s,o,h,m,v,S,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,P):o.prototype&&o.prototype.isPureReactComponent?!cd(h,m)||!cd(v,S):!0}function cb(s,o,h){var m=!1,v=ko,S=o.contextType;return typeof S=="object"&&S!==null?S=Os(S):(v=Hn(o)?qa:Sn.current,m=o.contextTypes,S=(m=m!=null)?Wc(s,v):ko),o=new o(h,S),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Wm,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=S),o}function ub(s,o,h,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==s&&Wm.enqueueReplaceState(o,o.state,null)}function kv(s,o,h,m){var v=s.stateNode;v.props=h,v.state=s.memoizedState,v.refs={},fv(s);var S=o.contextType;typeof S=="object"&&S!==null?v.context=Os(S):(S=Hn(o)?qa:Sn.current,v.context=Wc(s,S)),v.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Cv(s,o,S,h),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Wm.enqueueReplaceState(v,v.state,null),jm(s,h,v,m),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function Zc(s,o){try{var h="",m=o;do h+=ve(m),m=m.return;while(m);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:o,stack:v,digest:null}}function Tv(s,o,h){return{value:s,source:null,stack:h??null,digest:o??null}}function Pv(s,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function hb(s,o,h){h=mr(-1,h),h.tag=3,h.payload={element:null};var m=o.value;return h.callback=function(){Jm||(Jm=!0,Gv=m),Pv(s,o)},h}function db(s,o,h){h=mr(-1,h),h.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=o.value;h.payload=function(){return m(v)},h.callback=function(){Pv(s,o)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Pv(s,o),typeof m!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),h}function fb(s,o,h){var m=s.pingCache;if(m===null){m=s.pingCache=new BT;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(h)||(v.add(h),s=ZT.bind(null,s,o,h),o.then(s,s))}function pb(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function mb(s,o,h,m,v){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=mr(-1,1),o.tag=2,Ro(h,o,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var zT=L.ReactCurrentOwner,Gn=!1;function Pn(s,o,h,m){o.child=s===null?Dx(o,null,h,m):qc(o,s.child,h,m)}function gb(s,o,h,m,v){h=h.render;var S=o.ref;return Qc(o,v),m=Sv(s,o,h,m,S,v),h=xv(),s!==null&&!Gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,gr(s,o,v)):(dt&&h&&sv(o),o.flags|=1,Pn(s,o,m,v),o.child)}function yb(s,o,h,m,v){if(s===null){var S=h.type;return typeof S=="function"&&!Qv(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=S,vb(s,o,S,m,v)):(s=ig(h.type,null,m,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(S=s.child,(s.lanes&v)===0){var P=S.memoizedProps;if(h=h.compare,h=h!==null?h:cd,h(P,m)&&s.ref===o.ref)return gr(s,o,v)}return o.flags|=1,s=Oo(S,m),s.ref=o.ref,s.return=o,o.child=s}function vb(s,o,h,m,v){if(s!==null){var S=s.memoizedProps;if(cd(S,m)&&s.ref===o.ref)if(Gn=!1,o.pendingProps=m=S,(s.lanes&v)!==0)(s.flags&131072)!==0&&(Gn=!0);else return o.lanes=s.lanes,gr(s,o,v)}return Rv(s,o,h,m,v)}function wb(s,o,h){var m=o.pendingProps,v=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(tu,rs),rs|=h;else{if((h&1073741824)===0)return s=S!==null?S.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,rt(tu,rs),rs|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:h,rt(tu,rs),rs|=m}else S!==null?(m=S.baseLanes|h,o.memoizedState=null):m=h,rt(tu,rs),rs|=m;return Pn(s,o,v,h),o.child}function Sb(s,o){var h=o.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function Rv(s,o,h,m,v){var S=Hn(h)?qa:Sn.current;return S=Wc(o,S),Qc(o,v),h=Sv(s,o,h,m,S,v),m=xv(),s!==null&&!Gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~v,gr(s,o,v)):(dt&&m&&sv(o),o.flags|=1,Pn(s,o,h,v),o.child)}function xb(s,o,h,m,v){if(Hn(h)){var S=!0;Pm(o)}else S=!1;if(Qc(o,v),o.stateNode===null)Xm(s,o),cb(o,h,m),kv(o,h,m,v),m=!0;else if(s===null){var P=o.stateNode,I=o.memoizedProps;P.props=I;var j=P.context,Y=h.contextType;typeof Y=="object"&&Y!==null?Y=Os(Y):(Y=Hn(h)?qa:Sn.current,Y=Wc(o,Y));var ie=h.getDerivedStateFromProps,re=typeof ie=="function"||typeof P.getSnapshotBeforeUpdate=="function";re||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(I!==m||j!==Y)&&ub(o,P,m,Y),Po=!1;var se=o.memoizedState;P.state=se,jm(o,m,P,v),j=o.memoizedState,I!==m||se!==j||Un.current||Po?(typeof ie=="function"&&(Cv(o,h,ie,m),j=o.memoizedState),(I=Po||lb(o,h,I,m,se,j,Y))?(re||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=j),P.props=m,P.state=j,P.context=Y,m=I):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{P=o.stateNode,Fx(s,o),I=o.memoizedProps,Y=o.type===o.elementType?I:ii(o.type,I),P.props=Y,re=o.pendingProps,se=P.context,j=h.contextType,typeof j=="object"&&j!==null?j=Os(j):(j=Hn(h)?qa:Sn.current,j=Wc(o,j));var fe=h.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(I!==re||se!==j)&&ub(o,P,m,j),Po=!1,se=o.memoizedState,P.state=se,jm(o,m,P,v);var xe=o.memoizedState;I!==re||se!==xe||Un.current||Po?(typeof fe=="function"&&(Cv(o,h,fe,m),xe=o.memoizedState),(Y=Po||lb(o,h,Y,m,se,xe,j)||!1)?(ie||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(m,xe,j),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(m,xe,j)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||I===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=xe),P.props=m,P.state=xe,P.context=j,m=Y):(typeof P.componentDidUpdate!="function"||I===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),m=!1)}return Mv(s,o,h,m,S,v)}function Mv(s,o,h,m,v,S){Sb(s,o);var P=(o.flags&128)!==0;if(!m&&!P)return v&&Cx(o,h,!1),gr(s,o,S);m=o.stateNode,zT.current=o;var I=P&&typeof h.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&P?(o.child=qc(o,s.child,null,S),o.child=qc(o,null,I,S)):Pn(s,o,I,S),o.memoizedState=m.state,v&&Cx(o,h,!0),o.child}function bb(s){var o=s.stateNode;o.pendingContext?_x(s,o.pendingContext,o.pendingContext!==o.context):o.context&&_x(s,o.context,!1),pv(s,o.containerInfo)}function Ab(s,o,h,m,v){return Yc(),av(v),o.flags|=256,Pn(s,o,h,m),o.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Nv(s){return{baseLanes:s,cachePool:null,transitions:null}}function _b(s,o,h){var m=o.pendingProps,v=wt.current,S=!1,P=(o.flags&128)!==0,I;if((I=P)||(I=s!==null&&s.memoizedState===null?!1:(v&2)!==0),I?(S=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),rt(wt,v&1),s===null)return ov(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(P=m.children,s=m.fallback,S?(m=o.mode,S=o.child,P={mode:"hidden",children:P},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=P):S=rg(P,m,0,null),s=rl(s,m,h,null),S.return=o,s.return=o,S.sibling=s,o.child=S,o.child.memoizedState=Nv(h),o.memoizedState=Lv,s):Iv(o,P));if(v=s.memoizedState,v!==null&&(I=v.dehydrated,I!==null))return $T(s,o,P,m,I,v,h);if(S){S=m.fallback,P=o.mode,v=s.child,I=v.sibling;var j={mode:"hidden",children:m.children};return(P&1)===0&&o.child!==v?(m=o.child,m.childLanes=0,m.pendingProps=j,o.deletions=null):(m=Oo(v,j),m.subtreeFlags=v.subtreeFlags&14680064),I!==null?S=Oo(I,S):(S=rl(S,P,h,null),S.flags|=2),S.return=o,m.return=o,m.sibling=S,o.child=m,m=S,S=o.child,P=s.child.memoizedState,P=P===null?Nv(h):{baseLanes:P.baseLanes|h,cachePool:null,transitions:P.transitions},S.memoizedState=P,S.childLanes=s.childLanes&~h,o.memoizedState=Lv,m}return S=s.child,s=S.sibling,m=Oo(S,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=h),m.return=o,m.sibling=null,s!==null&&(h=o.deletions,h===null?(o.deletions=[s],o.flags|=16):h.push(s)),o.child=m,o.memoizedState=null,m}function Iv(s,o){return o=rg({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Vm(s,o,h,m){return m!==null&&av(m),qc(o,s.child,null,h),s=Iv(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function $T(s,o,h,m,v,S,P){if(h)return o.flags&256?(o.flags&=-257,m=Tv(Error(e(422))),Vm(s,o,P,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(S=m.fallback,v=o.mode,m=rg({mode:"visible",children:m.children},v,0,null),S=rl(S,v,P,null),S.flags|=2,m.return=o,S.return=o,m.sibling=S,o.child=m,(o.mode&1)!==0&&qc(o,s.child,null,P),o.child.memoizedState=Nv(P),o.memoizedState=Lv,S);if((o.mode&1)===0)return Vm(s,o,P,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var I=m.dgst;return m=I,S=Error(e(419)),m=Tv(S,m,void 0),Vm(s,o,P,m)}if(I=(P&s.childLanes)!==0,Gn||I){if(m=Qt,m!==null){switch(P&-P){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|P))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,pr(s,v),ai(m,s,v,-1))}return Kv(),m=Tv(Error(e(421))),Vm(s,o,P,m)}return v.data==="$?"?(o.flags|=128,o.child=s.child,o=eP.bind(null,s),v._reactRetry=o,null):(s=S.treeContext,is=Eo(v.nextSibling),ss=o,dt=!0,si=null,s!==null&&(Is[Ds++]=dr,Is[Ds++]=fr,Is[Ds++]=Ka,dr=s.id,fr=s.overflow,Ka=o),o=Iv(o,m.children),o.flags|=4096,o)}function Eb(s,o,h){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),hv(s.return,o,h)}function Dv(s,o,h,m,v){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:v}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=h,S.tailMode=v)}function Cb(s,o,h){var m=o.pendingProps,v=m.revealOrder,S=m.tail;if(Pn(s,o,m.children,h),m=wt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Eb(s,h,o);else if(s.tag===19)Eb(s,h,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(rt(wt,m),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(h=o.child,v=null;h!==null;)s=h.alternate,s!==null&&Bm(s)===null&&(v=h),h=h.sibling;h=v,h===null?(v=o.child,o.child=null):(v=h.sibling,h.sibling=null),Dv(o,!1,v,h,S);break;case"backwards":for(h=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&Bm(s)===null){o.child=v;break}s=v.sibling,v.sibling=h,h=v,v=s}Dv(o,!0,h,null,S);break;case"together":Dv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xm(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function gr(s,o,h){if(s!==null&&(o.dependencies=s.dependencies),tl|=o.lanes,(h&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(e(153));if(o.child!==null){for(s=o.child,h=Oo(s,s.pendingProps),o.child=h,h.return=o;s.sibling!==null;)s=s.sibling,h=h.sibling=Oo(s,s.pendingProps),h.return=o;h.sibling=null}return o.child}function UT(s,o,h){switch(o.tag){case 3:bb(o),Yc();break;case 5:zx(o);break;case 1:Hn(o.type)&&Pm(o);break;case 4:pv(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,v=o.memoizedProps.value;rt(Dm,m._currentValue),m._currentValue=v;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(rt(wt,wt.current&1),o.flags|=128,null):(h&o.child.childLanes)!==0?_b(s,o,h):(rt(wt,wt.current&1),s=gr(s,o,h),s!==null?s.sibling:null);rt(wt,wt.current&1);break;case 19:if(m=(h&o.childLanes)!==0,(s.flags&128)!==0){if(m)return Cb(s,o,h);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(wt,wt.current),m)break;return null;case 22:case 23:return o.lanes=0,wb(s,o,h)}return gr(s,o,h)}var kb,Ov,Tb,Pb;kb=function(s,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ov=function(){},Tb=function(s,o,h,m){var v=s.memoizedProps;if(v!==m){s=o.stateNode,Za(Ei.current);var S=null;switch(h){case"input":v=xi(s,v),m=xi(s,m),S=[];break;case"select":v=Z({},v,{value:void 0}),m=Z({},m,{value:void 0}),S=[];break;case"textarea":v=ts(s,v),m=ts(s,m),S=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Cm)}gy(h,m);var P;h=null;for(Y in v)if(!m.hasOwnProperty(Y)&&v.hasOwnProperty(Y)&&v[Y]!=null)if(Y==="style"){var I=v[Y];for(P in I)I.hasOwnProperty(P)&&(h||(h={}),h[P]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?S||(S=[]):(S=S||[]).push(Y,null));for(Y in m){var j=m[Y];if(I=v!=null?v[Y]:void 0,m.hasOwnProperty(Y)&&j!==I&&(j!=null||I!=null))if(Y==="style")if(I){for(P in I)!I.hasOwnProperty(P)||j&&j.hasOwnProperty(P)||(h||(h={}),h[P]="");for(P in j)j.hasOwnProperty(P)&&I[P]!==j[P]&&(h||(h={}),h[P]=j[P])}else h||(S||(S=[]),S.push(Y,h)),h=j;else Y==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,I=I?I.__html:void 0,j!=null&&I!==j&&(S=S||[]).push(Y,j)):Y==="children"?typeof j!="string"&&typeof j!="number"||(S=S||[]).push(Y,""+j):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(j!=null&&Y==="onScroll"&&at("scroll",s),S||I===j||(S=[])):(S=S||[]).push(Y,j))}h&&(S=S||[]).push("style",h);var Y=S;(o.updateQueue=Y)&&(o.flags|=4)}},Pb=function(s,o,h,m){h!==m&&(o.flags|=4)};function _d(s,o){if(!dt)switch(s.tailMode){case"hidden":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function bn(s){var o=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(o)for(var v=s.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)h|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=h,o}function HT(s,o,h){var m=o.pendingProps;switch(iv(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(o),null;case 1:return Hn(o.type)&&Tm(),bn(o),null;case 3:return m=o.stateNode,Jc(),lt(Un),lt(Sn),yv(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Nm(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,si!==null&&(Xv(si),si=null))),Ov(s,o),bn(o),null;case 5:mv(o);var v=Za(wd.current);if(h=o.type,s!==null&&o.stateNode!=null)Tb(s,o,h,m,v),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(e(166));return bn(o),null}if(s=Za(Ei.current),Nm(o)){m=o.stateNode,h=o.type;var S=o.memoizedProps;switch(m[_i]=o,m[pd]=S,s=(o.mode&1)!==0,h){case"dialog":at("cancel",m),at("close",m);break;case"iframe":case"object":case"embed":at("load",m);break;case"video":case"audio":for(v=0;v<hd.length;v++)at(hd[v],m);break;case"source":at("error",m);break;case"img":case"image":case"link":at("error",m),at("load",m);break;case"details":at("toggle",m);break;case"input":Tn(m,S),at("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},at("invalid",m);break;case"textarea":Ue(m,S),at("invalid",m)}gy(h,S),v=null;for(var P in S)if(S.hasOwnProperty(P)){var I=S[P];P==="children"?typeof I=="string"?m.textContent!==I&&(S.suppressHydrationWarning!==!0&&Em(m.textContent,I,s),v=["children",I]):typeof I=="number"&&m.textContent!==""+I&&(S.suppressHydrationWarning!==!0&&Em(m.textContent,I,s),v=["children",""+I]):i.hasOwnProperty(P)&&I!=null&&P==="onScroll"&&at("scroll",m)}switch(h){case"input":it(m),_t(m,S,!0);break;case"textarea":it(m),qt(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Cm)}m=v,o.updateQueue=m,m!==null&&(o.flags|=4)}else{P=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=cr(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=P.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=P.createElement(h,{is:m.is}):(s=P.createElement(h),h==="select"&&(P=s,m.multiple?P.multiple=!0:m.size&&(P.size=m.size))):s=P.createElementNS(s,h),s[_i]=o,s[pd]=m,kb(s,o,!1,!1),o.stateNode=s;e:{switch(P=yy(h,m),h){case"dialog":at("cancel",s),at("close",s),v=m;break;case"iframe":case"object":case"embed":at("load",s),v=m;break;case"video":case"audio":for(v=0;v<hd.length;v++)at(hd[v],s);v=m;break;case"source":at("error",s),v=m;break;case"img":case"image":case"link":at("error",s),at("load",s),v=m;break;case"details":at("toggle",s),v=m;break;case"input":Tn(s,m),v=xi(s,m),at("invalid",s);break;case"option":v=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},v=Z({},m,{value:void 0}),at("invalid",s);break;case"textarea":Ue(s,m),v=ts(s,m),at("invalid",s);break;default:v=m}gy(h,v),I=v;for(S in I)if(I.hasOwnProperty(S)){var j=I[S];S==="style"?vS(s,j):S==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&gS(s,j)):S==="children"?typeof j=="string"?(h!=="textarea"||j!=="")&&Vh(s,j):typeof j=="number"&&Vh(s,""+j):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?j!=null&&S==="onScroll"&&at("scroll",s):j!=null&&R(s,S,j,P))}switch(h){case"input":it(s),_t(s,m,!1);break;case"textarea":it(s),qt(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Le(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?bi(s,!!m.multiple,S,!1):m.defaultValue!=null&&bi(s,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Cm)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return bn(o),null;case 6:if(s&&o.stateNode!=null)Pb(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(e(166));if(h=Za(wd.current),Za(Ei.current),Nm(o)){if(m=o.stateNode,h=o.memoizedProps,m[_i]=o,(S=m.nodeValue!==h)&&(s=ss,s!==null))switch(s.tag){case 3:Em(m.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Em(m.nodeValue,h,(s.mode&1)!==0)}S&&(o.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[_i]=o,o.stateNode=m}return bn(o),null;case 13:if(lt(wt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(dt&&is!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Lx(),Yc(),o.flags|=98560,S=!1;else if(S=Nm(o),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(e(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(e(317));S[_i]=o}else Yc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;bn(o),S=!1}else si!==null&&(Xv(si),si=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=h,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(wt.current&1)!==0?Bt===0&&(Bt=3):Kv())),o.updateQueue!==null&&(o.flags|=4),bn(o),null);case 4:return Jc(),Ov(s,o),s===null&&dd(o.stateNode.containerInfo),bn(o),null;case 10:return uv(o.type._context),bn(o),null;case 17:return Hn(o.type)&&Tm(),bn(o),null;case 19:if(lt(wt),S=o.memoizedState,S===null)return bn(o),null;if(m=(o.flags&128)!==0,P=S.rendering,P===null)if(m)_d(S,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(P=Bm(s),P!==null){for(o.flags|=128,_d(S,!1),m=P.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=h,h=o.child;h!==null;)S=h,s=m,S.flags&=14680066,P=S.alternate,P===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=P.childLanes,S.lanes=P.lanes,S.child=P.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=P.memoizedProps,S.memoizedState=P.memoizedState,S.updateQueue=P.updateQueue,S.type=P.type,s=P.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return rt(wt,wt.current&1|2),o.child}s=s.sibling}S.tail!==null&&kt()>nu&&(o.flags|=128,m=!0,_d(S,!1),o.lanes=4194304)}else{if(!m)if(s=Bm(P),s!==null){if(o.flags|=128,m=!0,h=s.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),_d(S,!0),S.tail===null&&S.tailMode==="hidden"&&!P.alternate&&!dt)return bn(o),null}else 2*kt()-S.renderingStartTime>nu&&h!==1073741824&&(o.flags|=128,m=!0,_d(S,!1),o.lanes=4194304);S.isBackwards?(P.sibling=o.child,o.child=P):(h=S.last,h!==null?h.sibling=P:o.child=P,S.last=P)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=kt(),o.sibling=null,h=wt.current,rt(wt,m?h&1|2:h&1),o):(bn(o),null);case 22:case 23:return qv(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(rs&1073741824)!==0&&(bn(o),o.subtreeFlags&6&&(o.flags|=8192)):bn(o),null;case 24:return null;case 25:return null}throw Error(e(156,o.tag))}function GT(s,o){switch(iv(o),o.tag){case 1:return Hn(o.type)&&Tm(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Jc(),lt(Un),lt(Sn),yv(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return mv(o),null;case 13:if(lt(wt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(e(340));Yc()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return lt(wt),null;case 4:return Jc(),null;case 10:return uv(o.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var Ym=!1,An=!1,WT=typeof WeakSet=="function"?WeakSet:Set,ye=null;function eu(s,o){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Et(s,o,m)}else h.current=null}function Fv(s,o,h){try{h()}catch(m){Et(s,o,m)}}var Rb=!1;function VT(s,o){if(qy=pm,s=lx(),$y(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var v=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var P=0,I=-1,j=-1,Y=0,ie=0,re=s,se=null;t:for(;;){for(var fe;re!==h||v!==0&&re.nodeType!==3||(I=P+v),re!==S||m!==0&&re.nodeType!==3||(j=P+m),re.nodeType===3&&(P+=re.nodeValue.length),(fe=re.firstChild)!==null;)se=re,re=fe;for(;;){if(re===s)break t;if(se===h&&++Y===v&&(I=P),se===S&&++ie===m&&(j=P),(fe=re.nextSibling)!==null)break;re=se,se=re.parentNode}re=fe}h=I===-1||j===-1?null:{start:I,end:j}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ky={focusedElem:s,selectionRange:h},pm=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,Tt=xe.memoizedState,U=o.stateNode,z=U.getSnapshotBeforeUpdate(o.elementType===o.type?be:ii(o.type,be),Tt);U.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var V=o.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(le){Et(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return xe=Rb,Rb=!1,xe}function Ed(s,o,h){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&s)===s){var S=v.destroy;v.destroy=void 0,S!==void 0&&Fv(o,h,S)}v=v.next}while(v!==m)}}function qm(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&s)===s){var m=h.create;h.destroy=m()}h=h.next}while(h!==o)}}function jv(s){var o=s.ref;if(o!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof o=="function"?o(s):o.current=s}}function Mb(s){var o=s.alternate;o!==null&&(s.alternate=null,Mb(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[_i],delete o[pd],delete o[ev],delete o[TT],delete o[PT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Lb(s){return s.tag===5||s.tag===3||s.tag===4}function Nb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Lb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Bv(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.nodeType===8?h.parentNode.insertBefore(s,o):h.insertBefore(s,o):(h.nodeType===8?(o=h.parentNode,o.insertBefore(s,h)):(o=h,o.appendChild(s)),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Cm));else if(m!==4&&(s=s.child,s!==null))for(Bv(s,o,h),s=s.sibling;s!==null;)Bv(s,o,h),s=s.sibling}function zv(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.insertBefore(s,o):h.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(zv(s,o,h),s=s.sibling;s!==null;)zv(s,o,h),s=s.sibling}var on=null,ri=!1;function Mo(s,o,h){for(h=h.child;h!==null;)Ib(s,o,h),h=h.sibling}function Ib(s,o,h){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(lm,h)}catch{}switch(h.tag){case 5:An||eu(h,o);case 6:var m=on,v=ri;on=null,Mo(s,o,h),on=m,ri=v,on!==null&&(ri?(s=on,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):on.removeChild(h.stateNode));break;case 18:on!==null&&(ri?(s=on,h=h.stateNode,s.nodeType===8?Zy(s.parentNode,h):s.nodeType===1&&Zy(s,h),sd(s)):Zy(on,h.stateNode));break;case 4:m=on,v=ri,on=h.stateNode.containerInfo,ri=!0,Mo(s,o,h),on=m,ri=v;break;case 0:case 11:case 14:case 15:if(!An&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var S=v,P=S.destroy;S=S.tag,P!==void 0&&((S&2)!==0||(S&4)!==0)&&Fv(h,o,P),v=v.next}while(v!==m)}Mo(s,o,h);break;case 1:if(!An&&(eu(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(I){Et(h,o,I)}Mo(s,o,h);break;case 21:Mo(s,o,h);break;case 22:h.mode&1?(An=(m=An)||h.memoizedState!==null,Mo(s,o,h),An=m):Mo(s,o,h);break;default:Mo(s,o,h)}}function Db(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new WT),o.forEach(function(m){var v=tP.bind(null,s,m);h.has(m)||(h.add(m),m.then(v,v))})}}function oi(s,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var v=h[m];try{var S=s,P=o,I=P;e:for(;I!==null;){switch(I.tag){case 5:on=I.stateNode,ri=!1;break e;case 3:on=I.stateNode.containerInfo,ri=!0;break e;case 4:on=I.stateNode.containerInfo,ri=!0;break e}I=I.return}if(on===null)throw Error(e(160));Ib(S,P,v),on=null,ri=!1;var j=v.alternate;j!==null&&(j.return=null),v.return=null}catch(Y){Et(v,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Ob(o,s),o=o.sibling}function Ob(s,o){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(oi(o,s),ki(s),m&4){try{Ed(3,s,s.return),qm(3,s)}catch(be){Et(s,s.return,be)}try{Ed(5,s,s.return)}catch(be){Et(s,s.return,be)}}break;case 1:oi(o,s),ki(s),m&512&&h!==null&&eu(h,h.return);break;case 5:if(oi(o,s),ki(s),m&512&&h!==null&&eu(h,h.return),s.flags&32){var v=s.stateNode;try{Vh(v,"")}catch(be){Et(s,s.return,be)}}if(m&4&&(v=s.stateNode,v!=null)){var S=s.memoizedProps,P=h!==null?h.memoizedProps:S,I=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{I==="input"&&S.type==="radio"&&S.name!=null&&$n(v,S),yy(I,P);var Y=yy(I,S);for(P=0;P<j.length;P+=2){var ie=j[P],re=j[P+1];ie==="style"?vS(v,re):ie==="dangerouslySetInnerHTML"?gS(v,re):ie==="children"?Vh(v,re):R(v,ie,re,Y)}switch(I){case"input":Va(v,S);break;case"textarea":ht(v,S);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var fe=S.value;fe!=null?bi(v,!!S.multiple,fe,!1):se!==!!S.multiple&&(S.defaultValue!=null?bi(v,!!S.multiple,S.defaultValue,!0):bi(v,!!S.multiple,S.multiple?[]:"",!1))}v[pd]=S}catch(be){Et(s,s.return,be)}}break;case 6:if(oi(o,s),ki(s),m&4){if(s.stateNode===null)throw Error(e(162));v=s.stateNode,S=s.memoizedProps;try{v.nodeValue=S}catch(be){Et(s,s.return,be)}}break;case 3:if(oi(o,s),ki(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{sd(o.containerInfo)}catch(be){Et(s,s.return,be)}break;case 4:oi(o,s),ki(s);break;case 13:oi(o,s),ki(s),v=s.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(Hv=kt())),m&4&&Db(s);break;case 22:if(ie=h!==null&&h.memoizedState!==null,s.mode&1?(An=(Y=An)||ie,oi(o,s),An=Y):oi(o,s),ki(s),m&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!ie&&(s.mode&1)!==0)for(ye=s,ie=s.child;ie!==null;){for(re=ye=ie;ye!==null;){switch(se=ye,fe=se.child,se.tag){case 0:case 11:case 14:case 15:Ed(4,se,se.return);break;case 1:eu(se,se.return);var xe=se.stateNode;if(typeof xe.componentWillUnmount=="function"){m=se,h=se.return;try{o=m,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(be){Et(m,h,be)}}break;case 5:eu(se,se.return);break;case 22:if(se.memoizedState!==null){Bb(re);continue}}fe!==null?(fe.return=se,ye=fe):Bb(re)}ie=ie.sibling}e:for(ie=null,re=s;;){if(re.tag===5){if(ie===null){ie=re;try{v=re.stateNode,Y?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(I=re.stateNode,j=re.memoizedProps.style,P=j!=null&&j.hasOwnProperty("display")?j.display:null,I.style.display=yS("display",P))}catch(be){Et(s,s.return,be)}}}else if(re.tag===6){if(ie===null)try{re.stateNode.nodeValue=Y?"":re.memoizedProps}catch(be){Et(s,s.return,be)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ie===re&&(ie=null),re=re.return}ie===re&&(ie=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:oi(o,s),ki(s),m&4&&Db(s);break;case 21:break;default:oi(o,s),ki(s)}}function ki(s){var o=s.flags;if(o&2){try{e:{for(var h=s.return;h!==null;){if(Lb(h)){var m=h;break e}h=h.return}throw Error(e(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Vh(v,""),m.flags&=-33);var S=Nb(s);zv(s,S,v);break;case 3:case 4:var P=m.stateNode.containerInfo,I=Nb(s);Bv(s,I,P);break;default:throw Error(e(161))}}catch(j){Et(s,s.return,j)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function XT(s,o,h){ye=s,Fb(s)}function Fb(s,o,h){for(var m=(s.mode&1)!==0;ye!==null;){var v=ye,S=v.child;if(v.tag===22&&m){var P=v.memoizedState!==null||Ym;if(!P){var I=v.alternate,j=I!==null&&I.memoizedState!==null||An;I=Ym;var Y=An;if(Ym=P,(An=j)&&!Y)for(ye=v;ye!==null;)P=ye,j=P.child,P.tag===22&&P.memoizedState!==null?zb(v):j!==null?(j.return=P,ye=j):zb(v);for(;S!==null;)ye=S,Fb(S),S=S.sibling;ye=v,Ym=I,An=Y}jb(s)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,ye=S):jb(s)}}function jb(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var h=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:An||qm(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!An)if(h===null)m.componentDidMount();else{var v=o.elementType===o.type?h.memoizedProps:ii(o.type,h.memoizedProps);m.componentDidUpdate(v,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&Bx(o,S,m);break;case 3:var P=o.updateQueue;if(P!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=o.child.stateNode;break;case 1:h=o.child.stateNode}Bx(o,P,h)}break;case 5:var I=o.stateNode;if(h===null&&o.flags&4){h=I;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&h.focus();break;case"img":j.src&&(h.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var ie=Y.memoizedState;if(ie!==null){var re=ie.dehydrated;re!==null&&sd(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}An||o.flags&512&&jv(o)}catch(se){Et(o,o.return,se)}}if(o===s){ye=null;break}if(h=o.sibling,h!==null){h.return=o.return,ye=h;break}ye=o.return}}function Bb(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var h=o.sibling;if(h!==null){h.return=o.return,ye=h;break}ye=o.return}}function zb(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{qm(4,o)}catch(j){Et(o,h,j)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var v=o.return;try{m.componentDidMount()}catch(j){Et(o,v,j)}}var S=o.return;try{jv(o)}catch(j){Et(o,S,j)}break;case 5:var P=o.return;try{jv(o)}catch(j){Et(o,P,j)}}}catch(j){Et(o,o.return,j)}if(o===s){ye=null;break}var I=o.sibling;if(I!==null){I.return=o.return,ye=I;break}ye=o.return}}var YT=Math.ceil,Km=L.ReactCurrentDispatcher,$v=L.ReactCurrentOwner,js=L.ReactCurrentBatchConfig,Ge=0,Qt=null,Lt=null,an=0,rs=0,tu=Co(0),Bt=0,Cd=null,tl=0,Qm=0,Uv=0,kd=null,Wn=null,Hv=0,nu=1/0,yr=null,Jm=!1,Gv=null,Lo=null,Zm=!1,No=null,eg=0,Td=0,Wv=null,tg=-1,ng=0;function Rn(){return(Ge&6)!==0?kt():tg!==-1?tg:tg=kt()}function Io(s){return(s.mode&1)===0?1:(Ge&2)!==0&&an!==0?an&-an:MT.transition!==null?(ng===0&&(ng=NS()),ng):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:US(s.type)),s)}function ai(s,o,h,m){if(50<Td)throw Td=0,Wv=null,Error(e(185));Jh(s,h,m),((Ge&2)===0||s!==Qt)&&(s===Qt&&((Ge&2)===0&&(Qm|=h),Bt===4&&Do(s,an)),Vn(s,m),h===1&&Ge===0&&(o.mode&1)===0&&(nu=kt()+500,Rm&&To()))}function Vn(s,o){var h=s.callbackNode;M3(s,o);var m=hm(s,s===Qt?an:0);if(m===0)h!==null&&RS(h),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(h!=null&&RS(h),o===1)s.tag===0?RT(Ub.bind(null,s)):kx(Ub.bind(null,s)),CT(function(){(Ge&6)===0&&To()}),h=null;else{switch(IS(m)){case 1:h=_y;break;case 4:h=MS;break;case 16:h=am;break;case 536870912:h=LS;break;default:h=am}h=Kb(h,$b.bind(null,s))}s.callbackPriority=o,s.callbackNode=h}}function $b(s,o){if(tg=-1,ng=0,(Ge&6)!==0)throw Error(e(327));var h=s.callbackNode;if(su()&&s.callbackNode!==h)return null;var m=hm(s,s===Qt?an:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=sg(s,m);else{o=m;var v=Ge;Ge|=2;var S=Gb();(Qt!==s||an!==o)&&(yr=null,nu=kt()+500,sl(s,o));do try{QT();break}catch(I){Hb(s,I)}while(!0);cv(),Km.current=S,Ge=v,Lt!==null?o=0:(Qt=null,an=0,o=Bt)}if(o!==0){if(o===2&&(v=Ey(s),v!==0&&(m=v,o=Vv(s,v))),o===1)throw h=Cd,sl(s,0),Do(s,m),Vn(s,kt()),h;if(o===6)Do(s,m);else{if(v=s.current.alternate,(m&30)===0&&!qT(v)&&(o=sg(s,m),o===2&&(S=Ey(s),S!==0&&(m=S,o=Vv(s,S))),o===1))throw h=Cd,sl(s,0),Do(s,m),Vn(s,kt()),h;switch(s.finishedWork=v,s.finishedLanes=m,o){case 0:case 1:throw Error(e(345));case 2:il(s,Wn,yr);break;case 3:if(Do(s,m),(m&130023424)===m&&(o=Hv+500-kt(),10<o)){if(hm(s,0)!==0)break;if(v=s.suspendedLanes,(v&m)!==m){Rn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Jy(il.bind(null,s,Wn,yr),o);break}il(s,Wn,yr);break;case 4:if(Do(s,m),(m&4194240)===m)break;for(o=s.eventTimes,v=-1;0<m;){var P=31-ti(m);S=1<<P,P=o[P],P>v&&(v=P),m&=~S}if(m=v,m=kt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*YT(m/1960))-m,10<m){s.timeoutHandle=Jy(il.bind(null,s,Wn,yr),m);break}il(s,Wn,yr);break;case 5:il(s,Wn,yr);break;default:throw Error(e(329))}}}return Vn(s,kt()),s.callbackNode===h?$b.bind(null,s):null}function Vv(s,o){var h=kd;return s.current.memoizedState.isDehydrated&&(sl(s,o).flags|=256),s=sg(s,o),s!==2&&(o=Wn,Wn=h,o!==null&&Xv(o)),s}function Xv(s){Wn===null?Wn=s:Wn.push.apply(Wn,s)}function qT(s){for(var o=s;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var v=h[m],S=v.getSnapshot;v=v.value;try{if(!ni(S(),v))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Do(s,o){for(o&=~Uv,o&=~Qm,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var h=31-ti(o),m=1<<h;s[h]=-1,o&=~m}}function Ub(s){if((Ge&6)!==0)throw Error(e(327));su();var o=hm(s,0);if((o&1)===0)return Vn(s,kt()),null;var h=sg(s,o);if(s.tag!==0&&h===2){var m=Ey(s);m!==0&&(o=m,h=Vv(s,m))}if(h===1)throw h=Cd,sl(s,0),Do(s,o),Vn(s,kt()),h;if(h===6)throw Error(e(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,il(s,Wn,yr),Vn(s,kt()),null}function Yv(s,o){var h=Ge;Ge|=1;try{return s(o)}finally{Ge=h,Ge===0&&(nu=kt()+500,Rm&&To())}}function nl(s){No!==null&&No.tag===0&&(Ge&6)===0&&su();var o=Ge;Ge|=1;var h=js.transition,m=Qe;try{if(js.transition=null,Qe=1,s)return s()}finally{Qe=m,js.transition=h,Ge=o,(Ge&6)===0&&To()}}function qv(){rs=tu.current,lt(tu)}function sl(s,o){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,ET(h)),Lt!==null)for(h=Lt.return;h!==null;){var m=h;switch(iv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Tm();break;case 3:Jc(),lt(Un),lt(Sn),yv();break;case 5:mv(m);break;case 4:Jc();break;case 13:lt(wt);break;case 19:lt(wt);break;case 10:uv(m.type._context);break;case 22:case 23:qv()}h=h.return}if(Qt=s,Lt=s=Oo(s.current,null),an=rs=o,Bt=0,Cd=null,Uv=Qm=tl=0,Wn=kd=null,Ja!==null){for(o=0;o<Ja.length;o++)if(h=Ja[o],m=h.interleaved,m!==null){h.interleaved=null;var v=m.next,S=h.pending;if(S!==null){var P=S.next;S.next=v,m.next=P}h.pending=m}Ja=null}return s}function Hb(s,o){do{var h=Lt;try{if(cv(),zm.current=Gm,$m){for(var m=St.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}$m=!1}if(el=0,Kt=jt=St=null,Sd=!1,xd=0,$v.current=null,h===null||h.return===null){Bt=1,Cd=o,Lt=null;break}e:{var S=s,P=h.return,I=h,j=o;if(o=an,I.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=j,ie=I,re=ie.tag;if((ie.mode&1)===0&&(re===0||re===11||re===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=pb(P);if(fe!==null){fe.flags&=-257,mb(fe,P,I,S,o),fe.mode&1&&fb(S,Y,o),o=fe,j=Y;var xe=o.updateQueue;if(xe===null){var be=new Set;be.add(j),o.updateQueue=be}else xe.add(j);break e}else{if((o&1)===0){fb(S,Y,o),Kv();break e}j=Error(e(426))}}else if(dt&&I.mode&1){var Tt=pb(P);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),mb(Tt,P,I,S,o),av(Zc(j,I));break e}}S=j=Zc(j,I),Bt!==4&&(Bt=2),kd===null?kd=[S]:kd.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var U=hb(S,j,o);jx(S,U);break e;case 1:I=j;var z=S.type,V=S.stateNode;if((S.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Lo===null||!Lo.has(V)))){S.flags|=65536,o&=-o,S.lanes|=o;var le=db(S,I,o);jx(S,le);break e}}S=S.return}while(S!==null)}Vb(h)}catch(_e){o=_e,Lt===h&&h!==null&&(Lt=h=h.return);continue}break}while(!0)}function Gb(){var s=Km.current;return Km.current=Gm,s===null?Gm:s}function Kv(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Qt===null||(tl&268435455)===0&&(Qm&268435455)===0||Do(Qt,an)}function sg(s,o){var h=Ge;Ge|=2;var m=Gb();(Qt!==s||an!==o)&&(yr=null,sl(s,o));do try{KT();break}catch(v){Hb(s,v)}while(!0);if(cv(),Ge=h,Km.current=m,Lt!==null)throw Error(e(261));return Qt=null,an=0,Bt}function KT(){for(;Lt!==null;)Wb(Lt)}function QT(){for(;Lt!==null&&!b3();)Wb(Lt)}function Wb(s){var o=qb(s.alternate,s,rs);s.memoizedProps=s.pendingProps,o===null?Vb(s):Lt=o,$v.current=null}function Vb(s){var o=s;do{var h=o.alternate;if(s=o.return,(o.flags&32768)===0){if(h=HT(h,o,rs),h!==null){Lt=h;return}}else{if(h=GT(h,o),h!==null){h.flags&=32767,Lt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,Lt=null;return}}if(o=o.sibling,o!==null){Lt=o;return}Lt=o=s}while(o!==null);Bt===0&&(Bt=5)}function il(s,o,h){var m=Qe,v=js.transition;try{js.transition=null,Qe=1,JT(s,o,h,m)}finally{js.transition=v,Qe=m}return null}function JT(s,o,h,m){do su();while(No!==null);if((Ge&6)!==0)throw Error(e(327));h=s.finishedWork;var v=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(e(177));s.callbackNode=null,s.callbackPriority=0;var S=h.lanes|h.childLanes;if(L3(s,S),s===Qt&&(Lt=Qt=null,an=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Zm||(Zm=!0,Kb(am,function(){return su(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=js.transition,js.transition=null;var P=Qe;Qe=1;var I=Ge;Ge|=4,$v.current=null,VT(s,h),Ob(h,s),vT(Ky),pm=!!qy,Ky=qy=null,s.current=h,XT(h),A3(),Ge=I,Qe=P,js.transition=S}else s.current=h;if(Zm&&(Zm=!1,No=s,eg=v),S=s.pendingLanes,S===0&&(Lo=null),C3(h.stateNode),Vn(s,kt()),o!==null)for(m=s.onRecoverableError,h=0;h<o.length;h++)v=o[h],m(v.value,{componentStack:v.stack,digest:v.digest});if(Jm)throw Jm=!1,s=Gv,Gv=null,s;return(eg&1)!==0&&s.tag!==0&&su(),S=s.pendingLanes,(S&1)!==0?s===Wv?Td++:(Td=0,Wv=s):Td=0,To(),null}function su(){if(No!==null){var s=IS(eg),o=js.transition,h=Qe;try{if(js.transition=null,Qe=16>s?16:s,No===null)var m=!1;else{if(s=No,No=null,eg=0,(Ge&6)!==0)throw Error(e(331));var v=Ge;for(Ge|=4,ye=s.current;ye!==null;){var S=ye,P=S.child;if((ye.flags&16)!==0){var I=S.deletions;if(I!==null){for(var j=0;j<I.length;j++){var Y=I[j];for(ye=Y;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Ed(8,ie,S)}var re=ie.child;if(re!==null)re.return=ie,ye=re;else for(;ye!==null;){ie=ye;var se=ie.sibling,fe=ie.return;if(Mb(ie),ie===Y){ye=null;break}if(se!==null){se.return=fe,ye=se;break}ye=fe}}}var xe=S.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var Tt=be.sibling;be.sibling=null,be=Tt}while(be!==null)}}ye=S}}if((S.subtreeFlags&2064)!==0&&P!==null)P.return=S,ye=P;else e:for(;ye!==null;){if(S=ye,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ed(9,S,S.return)}var U=S.sibling;if(U!==null){U.return=S.return,ye=U;break e}ye=S.return}}var z=s.current;for(ye=z;ye!==null;){P=ye;var V=P.child;if((P.subtreeFlags&2064)!==0&&V!==null)V.return=P,ye=V;else e:for(P=z;ye!==null;){if(I=ye,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:qm(9,I)}}catch(_e){Et(I,I.return,_e)}if(I===P){ye=null;break e}var le=I.sibling;if(le!==null){le.return=I.return,ye=le;break e}ye=I.return}}if(Ge=v,To(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(lm,s)}catch{}m=!0}return m}finally{Qe=h,js.transition=o}}return!1}function Xb(s,o,h){o=Zc(h,o),o=hb(s,o,1),s=Ro(s,o,1),o=Rn(),s!==null&&(Jh(s,1,o),Vn(s,o))}function Et(s,o,h){if(s.tag===3)Xb(s,s,h);else for(;o!==null;){if(o.tag===3){Xb(o,s,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Lo===null||!Lo.has(m))){s=Zc(h,s),s=db(o,s,1),o=Ro(o,s,1),s=Rn(),o!==null&&(Jh(o,1,s),Vn(o,s));break}}o=o.return}}function ZT(s,o,h){var m=s.pingCache;m!==null&&m.delete(o),o=Rn(),s.pingedLanes|=s.suspendedLanes&h,Qt===s&&(an&h)===h&&(Bt===4||Bt===3&&(an&130023424)===an&&500>kt()-Hv?sl(s,0):Uv|=h),Vn(s,o)}function Yb(s,o){o===0&&((s.mode&1)===0?o=1:(o=um,um<<=1,(um&130023424)===0&&(um=4194304)));var h=Rn();s=pr(s,o),s!==null&&(Jh(s,o,h),Vn(s,h))}function eP(s){var o=s.memoizedState,h=0;o!==null&&(h=o.retryLane),Yb(s,h)}function tP(s,o){var h=0;switch(s.tag){case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(h=v.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(e(314))}m!==null&&m.delete(o),Yb(s,h)}var qb;qb=function(s,o,h){if(s!==null)if(s.memoizedProps!==o.pendingProps||Un.current)Gn=!0;else{if((s.lanes&h)===0&&(o.flags&128)===0)return Gn=!1,UT(s,o,h);Gn=(s.flags&131072)!==0}else Gn=!1,dt&&(o.flags&1048576)!==0&&Tx(o,Lm,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Xm(s,o),s=o.pendingProps;var v=Wc(o,Sn.current);Qc(o,h),v=Sv(null,o,m,s,v,h);var S=xv();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Hn(m)?(S=!0,Pm(o)):S=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,fv(o),v.updater=Wm,o.stateNode=v,v._reactInternals=o,kv(o,m,s,h),o=Mv(null,o,m,!0,S,h)):(o.tag=0,dt&&S&&sv(o),Pn(null,o,v,h),o=o.child),o;case 16:m=o.elementType;e:{switch(Xm(s,o),s=o.pendingProps,v=m._init,m=v(m._payload),o.type=m,v=o.tag=sP(m),s=ii(m,s),v){case 0:o=Rv(null,o,m,s,h);break e;case 1:o=xb(null,o,m,s,h);break e;case 11:o=gb(null,o,m,s,h);break e;case 14:o=yb(null,o,m,ii(m.type,s),h);break e}throw Error(e(306,m,""))}return o;case 0:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ii(m,v),Rv(s,o,m,v,h);case 1:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ii(m,v),xb(s,o,m,v,h);case 3:e:{if(bb(o),s===null)throw Error(e(387));m=o.pendingProps,S=o.memoizedState,v=S.element,Fx(s,o),jm(o,m,null,h);var P=o.memoizedState;if(m=P.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){v=Zc(Error(e(423)),o),o=Ab(s,o,m,h,v);break e}else if(m!==v){v=Zc(Error(e(424)),o),o=Ab(s,o,m,h,v);break e}else for(is=Eo(o.stateNode.containerInfo.firstChild),ss=o,dt=!0,si=null,h=Dx(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Yc(),m===v){o=gr(s,o,h);break e}Pn(s,o,m,h)}o=o.child}return o;case 5:return zx(o),s===null&&ov(o),m=o.type,v=o.pendingProps,S=s!==null?s.memoizedProps:null,P=v.children,Qy(m,v)?P=null:S!==null&&Qy(m,S)&&(o.flags|=32),Sb(s,o),Pn(s,o,P,h),o.child;case 6:return s===null&&ov(o),null;case 13:return _b(s,o,h);case 4:return pv(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=qc(o,null,m,h):Pn(s,o,m,h),o.child;case 11:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ii(m,v),gb(s,o,m,v,h);case 7:return Pn(s,o,o.pendingProps,h),o.child;case 8:return Pn(s,o,o.pendingProps.children,h),o.child;case 12:return Pn(s,o,o.pendingProps.children,h),o.child;case 10:e:{if(m=o.type._context,v=o.pendingProps,S=o.memoizedProps,P=v.value,rt(Dm,m._currentValue),m._currentValue=P,S!==null)if(ni(S.value,P)){if(S.children===v.children&&!Un.current){o=gr(s,o,h);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var I=S.dependencies;if(I!==null){P=S.child;for(var j=I.firstContext;j!==null;){if(j.context===m){if(S.tag===1){j=mr(-1,h&-h),j.tag=2;var Y=S.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?j.next=j:(j.next=ie.next,ie.next=j),Y.pending=j}}S.lanes|=h,j=S.alternate,j!==null&&(j.lanes|=h),hv(S.return,h,o),I.lanes|=h;break}j=j.next}}else if(S.tag===10)P=S.type===o.type?null:S.child;else if(S.tag===18){if(P=S.return,P===null)throw Error(e(341));P.lanes|=h,I=P.alternate,I!==null&&(I.lanes|=h),hv(P,h,o),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===o){P=null;break}if(S=P.sibling,S!==null){S.return=P.return,P=S;break}P=P.return}S=P}Pn(s,o,v.children,h),o=o.child}return o;case 9:return v=o.type,m=o.pendingProps.children,Qc(o,h),v=Os(v),m=m(v),o.flags|=1,Pn(s,o,m,h),o.child;case 14:return m=o.type,v=ii(m,o.pendingProps),v=ii(m.type,v),yb(s,o,m,v,h);case 15:return vb(s,o,o.type,o.pendingProps,h);case 17:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ii(m,v),Xm(s,o),o.tag=1,Hn(m)?(s=!0,Pm(o)):s=!1,Qc(o,h),cb(o,m,v),kv(o,m,v,h),Mv(null,o,m,!0,s,h);case 19:return Cb(s,o,h);case 22:return wb(s,o,h)}throw Error(e(156,o.tag))};function Kb(s,o){return PS(s,o)}function nP(s,o,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(s,o,h,m){return new nP(s,o,h,m)}function Qv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function sP(s){if(typeof s=="function")return Qv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===J)return 11;if(s===te)return 14}return 2}function Oo(s,o){var h=s.alternate;return h===null?(h=Bs(s.tag,o,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=o,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,o=s.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function ig(s,o,h,m,v,S){var P=2;if(m=s,typeof s=="function")Qv(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case B:return rl(h.children,v,S,o);case X:P=8,v|=8;break;case ee:return s=Bs(12,h,o,v|2),s.elementType=ee,s.lanes=S,s;case oe:return s=Bs(13,h,o,v),s.elementType=oe,s.lanes=S,s;case ce:return s=Bs(19,h,o,v),s.elementType=ce,s.lanes=S,s;case H:return rg(h,v,S,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case $:P=10;break e;case F:P=9;break e;case J:P=11;break e;case te:P=14;break e;case W:P=16,m=null;break e}throw Error(e(130,s==null?s:typeof s,""))}return o=Bs(P,h,o,v),o.elementType=s,o.type=m,o.lanes=S,o}function rl(s,o,h,m){return s=Bs(7,s,m,o),s.lanes=h,s}function rg(s,o,h,m){return s=Bs(22,s,m,o),s.elementType=H,s.lanes=h,s.stateNode={isHidden:!1},s}function Jv(s,o,h){return s=Bs(6,s,null,o),s.lanes=h,s}function Zv(s,o,h){return o=Bs(4,s.children!==null?s.children:[],s.key,o),o.lanes=h,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function iP(s,o,h,m,v){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cy(0),this.expirationTimes=Cy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cy(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function e1(s,o,h,m,v,S,P,I,j){return s=new iP(s,o,h,I,j),o===1?(o=1,S===!0&&(o|=8)):o=0,S=Bs(3,null,null,o),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},fv(S),s}function rP(s,o,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:m==null?null:""+m,children:s,containerInfo:o,implementation:h}}function Qb(s){if(!s)return ko;s=s._reactInternals;e:{if(Xa(s)!==s||s.tag!==1)throw Error(e(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(e(171))}if(s.tag===1){var h=s.type;if(Hn(h))return Ex(s,h,o)}return o}function Jb(s,o,h,m,v,S,P,I,j){return s=e1(h,m,!0,s,v,S,P,I,j),s.context=Qb(null),h=s.current,m=Rn(),v=Io(h),S=mr(m,v),S.callback=o??null,Ro(h,S,v),s.current.lanes=v,Jh(s,v,m),Vn(s,m),s}function og(s,o,h,m){var v=o.current,S=Rn(),P=Io(v);return h=Qb(h),o.context===null?o.context=h:o.pendingContext=h,o=mr(S,P),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Ro(v,o,P),s!==null&&(ai(s,v,P,S),Fm(s,v,P)),P}function ag(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Zb(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<o?h:o}}function t1(s,o){Zb(s,o),(s=s.alternate)&&Zb(s,o)}function oP(){return null}var eA=typeof reportError=="function"?reportError:function(s){console.error(s)};function n1(s){this._internalRoot=s}lg.prototype.render=n1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(e(409));og(s,o,null,null)},lg.prototype.unmount=n1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;nl(function(){og(null,s,null,null)}),o[ur]=null}};function lg(s){this._internalRoot=s}lg.prototype.unstable_scheduleHydration=function(s){if(s){var o=FS();s={blockedOn:null,target:s,priority:o};for(var h=0;h<bo.length&&o!==0&&o<bo[h].priority;h++);bo.splice(h,0,s),h===0&&zS(s)}};function s1(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function tA(){}function aP(s,o,h,m,v){if(v){if(typeof m=="function"){var S=m;m=function(){var Y=ag(P);S.call(Y)}}var P=Jb(o,m,s,0,null,!1,!1,"",tA);return s._reactRootContainer=P,s[ur]=P.current,dd(s.nodeType===8?s.parentNode:s),nl(),P}for(;v=s.lastChild;)s.removeChild(v);if(typeof m=="function"){var I=m;m=function(){var Y=ag(j);I.call(Y)}}var j=e1(s,0,!1,null,null,!1,!1,"",tA);return s._reactRootContainer=j,s[ur]=j.current,dd(s.nodeType===8?s.parentNode:s),nl(function(){og(o,j,h,m)}),j}function ug(s,o,h,m,v){var S=h._reactRootContainer;if(S){var P=S;if(typeof v=="function"){var I=v;v=function(){var j=ag(P);I.call(j)}}og(o,P,s,v)}else P=aP(h,o,s,v,m);return ag(P)}DS=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var h=Qh(o.pendingLanes);h!==0&&(ky(o,h|1),Vn(o,kt()),(Ge&6)===0&&(nu=kt()+500,To()))}break;case 13:nl(function(){var m=pr(s,1);if(m!==null){var v=Rn();ai(m,s,1,v)}}),t1(s,1)}},Ty=function(s){if(s.tag===13){var o=pr(s,134217728);if(o!==null){var h=Rn();ai(o,s,134217728,h)}t1(s,134217728)}},OS=function(s){if(s.tag===13){var o=Io(s),h=pr(s,o);if(h!==null){var m=Rn();ai(h,s,o,m)}t1(s,o)}},FS=function(){return Qe},jS=function(s,o){var h=Qe;try{return Qe=s,o()}finally{Qe=h}},Sy=function(s,o,h){switch(o){case"input":if(Va(s,h),o=h.name,h.type==="radio"&&o!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==s&&m.form===s.form){var v=km(m);if(!v)throw Error(e(90));vt(m),Va(m,v)}}}break;case"textarea":ht(s,h);break;case"select":o=h.value,o!=null&&bi(s,!!h.multiple,o,!1)}},bS=Yv,AS=nl;var lP={usingClientEntryPoint:!1,Events:[md,Hc,km,SS,xS,Yv]},Pd={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cP={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=kS(s),s===null?null:s.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||oP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hg.isDisabled&&hg.supportsFiber)try{lm=hg.inject(cP),Ai=hg}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lP,Xn.createPortal=function(s,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(o))throw Error(e(200));return rP(s,o,null,h)},Xn.createRoot=function(s,o){if(!s1(s))throw Error(e(299));var h=!1,m="",v=eA;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=e1(s,1,!1,null,null,h,!1,m,v),s[ur]=o.current,dd(s.nodeType===8?s.parentNode:s),new n1(o)},Xn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(e(188)):(s=Object.keys(s).join(","),Error(e(268,s)));return s=kS(o),s=s===null?null:s.stateNode,s},Xn.flushSync=function(s){return nl(s)},Xn.hydrate=function(s,o,h){if(!cg(o))throw Error(e(200));return ug(null,s,o,!0,h)},Xn.hydrateRoot=function(s,o,h){if(!s1(s))throw Error(e(405));var m=h!=null&&h.hydratedSources||null,v=!1,S="",P=eA;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),o=Jb(o,null,s,1,h??null,v,!1,S,P),s[ur]=o.current,dd(s),m)for(s=0;s<m.length;s++)h=m[s],v=h._getVersion,v=v(h._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[h,v]:o.mutableSourceEagerHydrationData.push(h,v);return new lg(o)},Xn.render=function(s,o,h){if(!cg(o))throw Error(e(200));return ug(null,s,o,!1,h)},Xn.unmountComponentAtNode=function(s){if(!cg(s))throw Error(e(40));return s._reactRootContainer?(nl(function(){ug(null,null,s,!1,function(){s._reactRootContainer=null,s[ur]=null})}),!0):!1},Xn.unstable_batchedUpdates=Yv,Xn.unstable_renderSubtreeIntoContainer=function(s,o,h,m){if(!cg(h))throw Error(e(200));if(s==null||s._reactInternals===void 0)throw Error(e(38));return ug(s,o,h,!1,m)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var uA;function B_(){if(uA)return a1.exports;uA=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),a1.exports=vP(),a1.exports}var hA;function wP(){if(hA)return dg;hA=1;var a=B_();return dg.createRoot=a.createRoot,dg.hydrateRoot=a.hydrateRoot,dg}var SP=wP();const xP=Rw(SP),Su=new WeakMap,Tg=new WeakMap,l0={current:[]};let u1=!1,lf=0;const jd=new Set,fg=new Map;function z_(a){const t=Array.from(a).sort((e,n)=>e instanceof xu&&e.options.deps.includes(n)?1:n instanceof xu&&n.options.deps.includes(e)?-1:0);for(const e of t){if(l0.current.includes(e))continue;l0.current.push(e),e.recompute();const n=Tg.get(e);if(n)for(const i of n){const r=Su.get(i);r&&z_(r)}}}function bP(a){const t={prevVal:a.prevState,currentVal:a.state};for(const e of a.listeners)e(t)}function AP(a){const t={prevVal:a.prevState,currentVal:a.state};for(const e of a.listeners)e(t)}function $_(a){if(lf>0&&!fg.has(a)&&fg.set(a,a.prevState),jd.add(a),!(lf>0)&&!u1)try{for(u1=!0;jd.size>0;){const t=Array.from(jd);jd.clear();for(const e of t){const n=fg.get(e)??e.prevState;e.prevState=n,bP(e)}for(const e of t){const n=Su.get(e);n&&(l0.current.push(e),z_(n))}for(const e of t){const n=Su.get(e);if(n)for(const i of n)AP(i)}}}finally{u1=!1,l0.current=[],fg.clear()}}function cf(a){lf++;try{a()}finally{if(lf--,lf===0){const t=jd.values().next().value;t&&$_(t)}}}function _P(a){return typeof a=="function"}class F1{constructor(t,e){this.listeners=new Set,this.subscribe=n=>{var i,r;this.listeners.add(n);const l=(r=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:r.call(i,n,this);return()=>{this.listeners.delete(n),l==null||l()}},this.prevState=t,this.state=t,this.options=e}setState(t){var e,n,i;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(t):_P(t)?this.state=t(this.prevState):this.state=t,(i=(n=this.options)==null?void 0:n.onUpdate)==null||i.call(n),$_(this)}}class xu{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const e=this.options.deps.length,n=new Array(e),i=new Array(e);for(let r=0;r<e;r++){const l=this.options.deps[r];n[r]=l.prevState,i[r]=l.state}return this.lastSeenDepValues=i,{prevDepVals:n,currDepVals:i,prevVal:this.prevState??void 0}},this.recompute=()=>{var e,n;this.prevState=this.state;const i=this.getDepVals();this.state=this.options.fn(i),(n=(e=this.options).onUpdate)==null||n.call(e)},this.checkIfRecalculationNeededDeeply=()=>{for(const r of this.options.deps)r instanceof xu&&r.checkIfRecalculationNeededDeeply();let e=!1;const n=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let r=0;r<i.length;r++)if(i[r]!==n[r]){e=!0;break}e&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const e of this._subscriptions)e()}),this.subscribe=e=>{var n,i;this.listeners.add(e);const r=(i=(n=this.options).onSubscribe)==null?void 0:i.call(n,e,this);return()=>{this.listeners.delete(e),r==null||r()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const e of t)if(e instanceof xu)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof F1){let n=Su.get(e);n||(n=new Set,Su.set(e,n)),n.add(this);let i=Tg.get(this);i||(i=new Set,Tg.set(this,i)),i.add(e)}}unregisterFromGraph(t=this.options.deps){for(const e of t)if(e instanceof xu)this.unregisterFromGraph(e.options.deps);else if(e instanceof F1){const n=Su.get(e);n&&n.delete(this);const i=Tg.get(this);i&&i.delete(e)}}}const Da="__TSR_index",dA="popstate",fA="beforeunload";function EP(a){let t=a.getLocation();const e=new Set,n=l=>{t=a.getLocation(),e.forEach(u=>u({location:t,action:l}))},i=l=>{a.notifyOnIndexChange??!0?n(l):t=a.getLocation()},r=async({task:l,navigateOpts:u,...d})=>{var y,w;if((u==null?void 0:u.ignoreBlocker)??!1){l();return}const p=((y=a.getBlockers)==null?void 0:y.call(a))??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&p.length&&g)for(const b of p){const A=c0(d.path,d.state);if(await b.blockerFn({currentLocation:t,nextLocation:A,action:d.type})){(w=a.onBlocked)==null||w.call(a);return}}l()};return{get location(){return t},get length(){return a.getLength()},subscribers:e,subscribe:l=>(e.add(l),()=>{e.delete(l)}),push:(l,u,d)=>{const f=t.state[Da];u=pA(f+1,u),r({task:()=>{a.pushState(l,u),n({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{const f=t.state[Da];u=pA(f,u),r({task:()=>{a.replaceState(l,u),n({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{r({task:()=>{a.go(l),i({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{r({task:()=>{a.back((l==null?void 0:l.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{r({task:()=>{a.forward((l==null?void 0:l.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>t.state[Da]!==0,createHref:l=>a.createHref(l),block:l=>{var d;if(!a.setBlockers)return()=>{};const u=((d=a.getBlockers)==null?void 0:d.call(a))??[];return a.setBlockers([...u,l]),()=>{var p,g;const f=((p=a.getBlockers)==null?void 0:p.call(a))??[];(g=a.setBlockers)==null||g.call(a,f.filter(y=>y!==l))}},flush:()=>{var l;return(l=a.flush)==null?void 0:l.call(a)},destroy:()=>{var l;return(l=a.destroy)==null?void 0:l.call(a)},notify:n}}function pA(a,t){t||(t={});const e=Mw();return{...t,key:e,__TSR_key:e,[Da]:a}}function CP(a){var X,ee;const t=typeof document<"u"?window:void 0,e=t.history.pushState,n=t.history.replaceState;let i=[];const r=()=>i,l=$=>i=$,u=$=>$,d=()=>c0(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);if(!((X=t.history.state)!=null&&X.__TSR_key)&&!((ee=t.history.state)!=null&&ee.key)){const $=Mw();t.history.replaceState({[Da]:0,key:$,__TSR_key:$},"")}let f=d(),p,g=!1,y=!1,w=!1,b=!1;const A=()=>f;let E,T;const M=()=>{E&&(B._ignoreSubscribers=!0,(E.isPush?t.history.pushState:t.history.replaceState)(E.state,"",E.href),B._ignoreSubscribers=!1,E=void 0,T=void 0,p=void 0)},R=($,F,J)=>{const oe=u(F);T||(p=f),f=c0(F,J),E={href:oe,state:J,isPush:(E==null?void 0:E.isPush)||$==="push"},T||(T=Promise.resolve().then(()=>M()))},L=$=>{f=d(),B.notify({type:$})},N=async()=>{if(y){y=!1;return}const $=d(),F=$.state[Da]-f.state[Da],J=F===1,oe=F===-1,ce=!J&&!oe||g;g=!1;const te=ce?"GO":oe?"BACK":"FORWARD",W=ce?{type:"GO",index:F}:{type:oe?"BACK":"FORWARD"};if(w)w=!1;else{const H=r();if(typeof document<"u"&&H.length){for(const q of H)if(await q.blockerFn({currentLocation:f,nextLocation:$,action:te})){y=!0,t.history.go(1),B.notify(W);return}}}f=d(),B.notify(W)},D=$=>{if(b){b=!1;return}let F=!1;const J=r();if(typeof document<"u"&&J.length)for(const oe of J){const ce=oe.enableBeforeUnload??!0;if(ce===!0){F=!0;break}if(typeof ce=="function"&&ce()===!0){F=!0;break}}if(F)return $.preventDefault(),$.returnValue=""},B=EP({getLocation:A,getLength:()=>t.history.length,pushState:($,F)=>R("push",$,F),replaceState:($,F)=>R("replace",$,F),back:$=>($&&(w=!0),b=!0,t.history.back()),forward:$=>{$&&(w=!0),b=!0,t.history.forward()},go:$=>{g=!0,t.history.go($)},createHref:$=>u($),flush:M,destroy:()=>{t.history.pushState=e,t.history.replaceState=n,t.removeEventListener(fA,D,{capture:!0}),t.removeEventListener(dA,N)},onBlocked:()=>{p&&f!==p&&(f=p)},getBlockers:r,setBlockers:l,notifyOnIndexChange:!1});return t.addEventListener(fA,D,{capture:!0}),t.addEventListener(dA,N),t.history.pushState=function(...$){const F=e.apply(t.history,$);return B._ignoreSubscribers||L("PUSH"),F},t.history.replaceState=function(...$){const F=n.apply(t.history,$);return B._ignoreSubscribers||L("REPLACE"),F},B}function c0(a,t){const e=a.indexOf("#"),n=a.indexOf("?"),i=Mw();return{href:a,pathname:a.substring(0,e>0?n>0?Math.min(e,n):e:n>0?n:a.length),hash:e>-1?a.substring(e):"",search:n>-1?a.slice(n,e===-1?void 0:e):"",state:t||{[Da]:0,key:i,__TSR_key:i}}}function Mw(){return(Math.random()+1).toString(36).substring(7)}function j1(a){return a[a.length-1]}function kP(a){return typeof a=="function"}function wc(a,t){return kP(a)?a(t):a}const TP=Object.prototype.hasOwnProperty;function Us(a,t){if(a===t)return a;const e=t,n=yA(a)&&yA(e);if(!n&&!(u0(a)&&u0(e)))return e;const i=n?a:mA(a);if(!i)return e;const r=n?e:mA(e);if(!r)return e;const l=i.length,u=r.length,d=n?new Array(u):{};let f=0;for(let p=0;p<u;p++){const g=n?p:r[p],y=a[g],w=e[g];if(y===w){d[g]=y,(n?p<l:TP.call(a,g))&&f++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){d[g]=w;continue}const b=Us(y,w);d[g]=b,b===y&&f++}return l===u&&f===l?a:d}function mA(a){const t=[],e=Object.getOwnPropertyNames(a);for(const i of e){if(!Object.prototype.propertyIsEnumerable.call(a,i))return!1;t.push(i)}const n=Object.getOwnPropertySymbols(a);for(const i of n){if(!Object.prototype.propertyIsEnumerable.call(a,i))return!1;t.push(i)}return t}function u0(a){if(!gA(a))return!1;const t=a.constructor;if(typeof t>"u")return!0;const e=t.prototype;return!(!gA(e)||!e.hasOwnProperty("isPrototypeOf"))}function gA(a){return Object.prototype.toString.call(a)==="[object Object]"}function yA(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function Sc(a,t,e){if(a===t)return!0;if(typeof a!=typeof t)return!1;if(Array.isArray(a)&&Array.isArray(t)){if(a.length!==t.length)return!1;for(let n=0,i=a.length;n<i;n++)if(!Sc(a[n],t[n],e))return!1;return!0}if(u0(a)&&u0(t)){const n=(e==null?void 0:e.ignoreUndefined)??!0;if(e!=null&&e.partial){for(const l in t)if((!n||t[l]!==void 0)&&!Sc(a[l],t[l],e))return!1;return!0}let i=0;if(!n)i=Object.keys(a).length;else for(const l in a)a[l]!==void 0&&i++;let r=0;for(const l in t)if((!n||t[l]!==void 0)&&(r++,r>i||!Sc(a[l],t[l],e)))return!1;return i===r}return!1}function Bh(a){let t,e;const n=new Promise((i,r)=>{t=i,e=r});return n.status="pending",n.resolve=i=>{n.status="resolved",n.value=i,t(i),a==null||a(i)},n.reject=i=>{n.status="rejected",e(i)},n}function Oa(a){return!!(a&&typeof a=="object"&&typeof a.then=="function")}var PP="Invariant failed";function fo(a,t){if(!a)throw new Error(PP)}const Es="__root__",sr=0,_c=1,zh=2,$h=3;function co(a){return Lw(a.filter(t=>t!==void 0).join("/"))}function Lw(a){return a.replace(/\/{2,}/g,"/")}function Nw(a){return a==="/"?a:a.replace(/^\/{1,}/,"")}function Fa(a){return a==="/"?a:a.replace(/\/{1,}$/,"")}function B1(a){return Fa(Nw(a))}function h0(a,t){return a!=null&&a.endsWith("/")&&a!=="/"&&a!==`${t}/`?a.slice(0,-1):a}function RP(a,t,e){return h0(a,e)===h0(t,e)}function MP(a){const{type:t,value:e}=a;if(t===sr)return e;const{prefixSegment:n,suffixSegment:i}=a;if(t===_c){const r=e.substring(1);if(n&&i)return`${n}{$${r}}${i}`;if(n)return`${n}{$${r}}`;if(i)return`{$${r}}${i}`}if(t===$h){const r=e.substring(1);return n&&i?`${n}{-$${r}}${i}`:n?`${n}{-$${r}}`:i?`{-$${r}}${i}`:`{-$${r}}`}if(t===zh){if(n&&i)return`${n}{$}${i}`;if(n)return`${n}{$}`;if(i)return`{$}${i}`}return e}function LP({base:a,to:t,trailingSlash:e="never",parseCache:n}){var d;let i=U_(a,n).slice();const r=J0(t,n);i.length>1&&((d=j1(i))==null?void 0:d.value)==="/"&&i.pop();for(let f=0,p=r.length;f<p;f++){const g=r[f],y=g.value;y==="/"?f?f===p-1&&i.push(g):i=[g]:y===".."?i.pop():y==="."||i.push(g)}i.length>1&&(j1(i).value==="/"?e==="never"&&i.pop():e==="always"&&i.push({type:sr,value:"/"}));const l=i.map(MP);return co(l)}const U_=(a,t)=>H_(a,t,!0),J0=(a,t)=>H_(a,t,!1),H_=(a,t,e)=>{if(!a)return[];const n=t==null?void 0:t.get(a);if(n)return n;const i=jP(a,e);return t==null||t.set(a,i),i},NP=/^\$.{1,}$/,IP=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,DP=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,OP=/^\$$/,FP=/^(.*?)\{\$\}(.*)$/;function jP(a,t){a=Lw(a);const e=[];if(a.slice(0,1)==="/"&&(a=a.substring(1),e.push({type:sr,value:"/"})),!a)return e;const n=a.split("/").filter(Boolean);return e.push(...n.map(i=>{const r=!t&&i!==Es&&i.slice(-1)==="_"?i.slice(0,-1):i,l=r.match(FP);if(l){const f=l[1],p=l[2];return{type:zh,value:"$",prefixSegment:f||void 0,suffixSegment:p||void 0}}const u=r.match(DP);if(u){const f=u[1],p=u[2],g=u[3];return{type:$h,value:p,prefixSegment:f||void 0,suffixSegment:g||void 0}}const d=r.match(IP);if(d){const f=d[1],p=d[2],g=d[3];return{type:_c,value:""+p,prefixSegment:f||void 0,suffixSegment:g||void 0}}if(NP.test(r)){const f=r.substring(1);return{type:_c,value:"$"+f,prefixSegment:void 0,suffixSegment:void 0}}return OP.test(r)?{type:zh,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:sr,value:r.includes("%25")?r.split("%25").map(f=>decodeURI(f)).join("%25"):decodeURI(r)}})),a.slice(-1)==="/"&&(a=a.substring(1),e.push({type:sr,value:"/"})),e}function pg({path:a,params:t,leaveWildcards:e,leaveParams:n,decodeCharMap:i,parseCache:r}){const l=J0(a,r);function u(g){const y=t[g],w=typeof y=="string";return g==="*"||g==="_splat"?w?encodeURI(y):y:w?BP(y,i):y}let d=!1;const f={},p=co(l.map(g=>{if(g.type===sr)return g.value;if(g.type===zh){f._splat=t._splat,f["*"]=t._splat;const y=g.prefixSegment||"",w=g.suffixSegment||"";if(!("_splat"in t))return d=!0,e?`${y}${g.value}${w}`:y||w?`${y}${w}`:void 0;const b=u("_splat");return e?`${y}${g.value}${b??""}${w}`:`${y}${b}${w}`}if(g.type===_c){const y=g.value.substring(1);!d&&!(y in t)&&(d=!0),f[y]=t[y];const w=g.prefixSegment||"",b=g.suffixSegment||"";if(n){const A=u(g.value);return`${w}${g.value}${A??""}${b}`}return`${w}${u(y)??"undefined"}${b}`}if(g.type===$h){const y=g.value.substring(1),w=g.prefixSegment||"",b=g.suffixSegment||"";if(!(y in t)||t[y]==null)return e?`${w}${y}${b}`:w||b?`${w}${b}`:void 0;if(f[y]=t[y],n){const A=u(g.value);return`${w}${g.value}${A??""}${b}`}return e?`${w}${y}${u(y)??""}${b}`:`${w}${u(y)??""}${b}`}return g.value}));return{usedParams:f,interpolatedPath:p,isMissingParams:d}}function BP(a,t){let e=encodeURIComponent(a);if(t)for(const[n,i]of t)e=e.replaceAll(n,i);return e}function z1(a,t,e){const n=zP(a,t,e);if(!(t.to&&!n))return n??{}}function zP(a,{to:t,fuzzy:e,caseSensitive:n},i){const r=t,l=U_(a.startsWith("/")?a:`/${a}`,i),u=J0(r.startsWith("/")?r:`/${r}`,i),d={};return $P(l,u,d,e,n)?d:void 0}function $P(a,t,e,n,i){var u,d,f;let r=0,l=0;for(;r<a.length||l<t.length;){const p=a[r],g=t[l];if(g){if(g.type===zh){const y=a.slice(r);let w;if(g.prefixSegment||g.suffixSegment){if(!p)return!1;const b=g.prefixSegment||"",A=g.suffixSegment||"",E=p.value;if("prefixSegment"in g&&!E.startsWith(b)||"suffixSegment"in g&&!((u=a[a.length-1])!=null&&u.value.endsWith(A)))return!1;let T=decodeURI(co(y.map(M=>M.value)));b&&T.startsWith(b)&&(T=T.slice(b.length)),A&&T.endsWith(A)&&(T=T.slice(0,T.length-A.length)),w=T}else w=decodeURI(co(y.map(b=>b.value)));return e["*"]=w,e._splat=w,!0}if(g.type===sr){if(g.value==="/"&&!(p!=null&&p.value)){l++;continue}if(p){if(i){if(g.value!==p.value)return!1}else if(g.value.toLowerCase()!==p.value.toLowerCase())return!1;r++,l++;continue}else return!1}if(g.type===_c){if(!p||p.value==="/")return!1;let y="",w=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",A=g.suffixSegment||"",E=p.value;if(b&&!E.startsWith(b)||A&&!E.endsWith(A))return!1;let T=E;b&&T.startsWith(b)&&(T=T.slice(b.length)),A&&T.endsWith(A)&&(T=T.slice(0,T.length-A.length)),y=decodeURIComponent(T),w=!0}else y=decodeURIComponent(p.value),w=!0;w&&(e[g.value.substring(1)]=y,r++),l++;continue}if(g.type===$h){if(!p){l++;continue}if(p.value==="/"){l++;continue}let y="",w=!1;if(g.prefixSegment||g.suffixSegment){const b=g.prefixSegment||"",A=g.suffixSegment||"",E=p.value;if((!b||E.startsWith(b))&&(!A||E.endsWith(A))){let T=E;b&&T.startsWith(b)&&(T=T.slice(b.length)),A&&T.endsWith(A)&&(T=T.slice(0,T.length-A.length)),y=decodeURIComponent(T),w=!0}}else{let b=!0;for(let A=l+1;A<t.length;A++){const E=t[A];if((E==null?void 0:E.type)===sr&&E.value===p.value){b=!1;break}if((E==null?void 0:E.type)===_c||(E==null?void 0:E.type)===zh){a.length<t.length&&(b=!1);break}}b&&(y=decodeURIComponent(p.value),w=!0)}w&&(e[g.value.substring(1)]=y,r++),l++;continue}}if(r<a.length&&l>=t.length)return e["**"]=co(a.slice(r).map(y=>y.value)),!!n&&((d=t[t.length-1])==null?void 0:d.value)!=="/";if(l<t.length&&r>=a.length){for(let y=l;y<t.length;y++)if(((f=t[y])==null?void 0:f.type)!==$h)return!1;break}break}return!0}const UP=.75,HP=1,GP=.5,WP=.4,VP=.25,XP=.2,YP=.05,qP=.02,KP=.01,vA=2e-4,wA=1e-4;function SA(a,t){return a.prefixSegment&&a.suffixSegment?t+YP+vA*a.prefixSegment.length+wA*a.suffixSegment.length:a.prefixSegment?t+qP+vA*a.prefixSegment.length:a.suffixSegment?t+KP+wA*a.suffixSegment.length:t}function QP(a){const t=[];return a.forEach((n,i)=>{var g;if(n.isRoot||!n.path)return;const r=Nw(n.fullPath);let l=J0(r),u=0;for(;l.length>u+1&&((g=l[u])==null?void 0:g.value)==="/";)u++;u>0&&(l=l.slice(u));let d=0,f=!1;const p=l.map((y,w)=>{if(y.value==="/")return UP;if(y.type===sr)return HP;let b;y.type===_c?b=GP:y.type===$h?(b=WP,d++):b=VP;for(let A=w+1;A<l.length;A++){const E=l[A];if(E.type===sr&&E.value!=="/")return f=!0,SA(y,b+XP)}return SA(y,b)});t.push({child:n,trimmed:r,parsed:l,index:i,scores:p,optionalParamCount:d,hasStaticAfter:f})}),t.sort((n,i)=>{const r=Math.min(n.scores.length,i.scores.length);for(let l=0;l<r;l++)if(n.scores[l]!==i.scores[l])return i.scores[l]-n.scores[l];if(n.scores.length!==i.scores.length){if(n.optionalParamCount!==i.optionalParamCount){if(n.hasStaticAfter===i.hasStaticAfter)return n.optionalParamCount-i.optionalParamCount;if(n.hasStaticAfter&&!i.hasStaticAfter)return-1;if(!n.hasStaticAfter&&i.hasStaticAfter)return 1}return i.scores.length-n.scores.length}for(let l=0;l<r;l++)if(n.parsed[l].value!==i.parsed[l].value)return n.parsed[l].value>i.parsed[l].value?1:-1;return n.index-i.index}).map((n,i)=>(n.child.rank=i,n.child))}function JP({routeTree:a,initRoute:t}){const e={},n={},i=l=>{l.forEach((u,d)=>{t==null||t(u,d);const f=e[u.id];if(fo(!f,`Duplicate routes found with id: ${String(u.id)}`),e[u.id]=u,!u.isRoot&&u.path){const g=Fa(u.fullPath);(!n[g]||u.fullPath.endsWith("/"))&&(n[g]=u)}const p=u.children;p!=null&&p.length&&i(p)})};i([a]);const r=QP(Object.values(e));return{routesById:e,routesByPath:n,flatRoutes:r}}function ir(a){return!!(a!=null&&a.isNotFound)}function ZP(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const d0="tsr-scroll-restoration-v1_3",eR=(a,t)=>{let e;return(...n)=>{e||(e=setTimeout(()=>{a(...n),e=null},t))}};function tR(){const a=ZP();if(!a)return null;const t=a.getItem(d0);let e=t?JSON.parse(t):{};return{state:e,set:n=>(e=wc(n,e)||e,a.setItem(d0,JSON.stringify(e)))}}const mg=tR(),$1=a=>a.state.__TSR_key||a.href;function nR(a){const t=[];let e;for(;e=a.parentNode;)t.push(`${a.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,a)+1})`),a=e;return`${t.reverse().join(" > ")}`.toLowerCase()}let f0=!1;function G_({storageKey:a,key:t,behavior:e,shouldScrollRestoration:n,scrollToTopSelectors:i,location:r}){var f,p;let l;try{l=JSON.parse(sessionStorage.getItem(a)||"{}")}catch(g){console.error(g);return}const u=t||((f=window.history.state)==null?void 0:f.__TSR_key),d=l[u];f0=!0;e:{if(n&&d&&Object.keys(d).length>0){for(const w in d){const b=d[w];if(w==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:e});else if(w){const A=document.querySelector(w);A&&(A.scrollLeft=b.scrollX,A.scrollTop=b.scrollY)}}break e}const g=(r??window.location).hash.split("#",2)[1];if(g){const w=((p=window.history.state)==null?void 0:p.__hashScrollIntoViewOptions)??!0;if(w){const b=document.getElementById(g);b&&b.scrollIntoView(w)}break e}const y={top:0,left:0,behavior:e};if(window.scrollTo(y),i)for(const w of i){if(w==="window")continue;const b=typeof w=="function"?w():document.querySelector(w);b&&b.scrollTo(y)}}f0=!1}function sR(a,t){if(!mg&&!a.isServer||((a.options.scrollRestoration??!1)&&(a.isScrollRestoring=!0),a.isServer||a.isScrollRestorationSetup||!mg))return;a.isScrollRestorationSetup=!0,f0=!1;const n=a.options.getScrollRestorationKey||$1;window.history.scrollRestoration="manual";const i=r=>{if(f0||!a.isScrollRestoring)return;let l="";if(r.target===document||r.target===window)l="window";else{const d=r.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=nR(r.target)}const u=n(a.state.location);mg.set(d=>{const f=d[u]||(d[u]={}),p=f[l]||(f[l]={});if(l==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(l){const g=document.querySelector(l);g&&(p.scrollX=g.scrollLeft||0,p.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",eR(i,100),!0),a.subscribe("onRendered",r=>{const l=n(r.toLocation);if(!a.resetNextScroll){a.resetNextScroll=!0;return}typeof a.options.scrollRestoration=="function"&&!a.options.scrollRestoration({location:a.latestLocation})||(G_({storageKey:d0,key:l,behavior:a.options.scrollRestorationBehavior,shouldScrollRestoration:a.isScrollRestoring,scrollToTopSelectors:a.options.scrollToTopSelectors,location:a.history.location}),a.isScrollRestoring&&mg.set(u=>(u[l]||(u[l]={}),u)))})}function iR(a){if(typeof document<"u"&&document.querySelector){const t=a.state.location.state.__hashScrollIntoViewOptions??!0;if(t&&a.state.location.hash!==""){const e=document.getElementById(a.state.location.hash);e&&e.scrollIntoView(t)}}}function rR(a,t=String){const e=new URLSearchParams;for(const n in a){const i=a[n];i!==void 0&&e.set(n,t(i))}return e.toString()}function h1(a){return a?a==="false"?!1:a==="true"?!0:+a*0===0&&+a+""===a?+a:a:""}function oR(a){const t=new URLSearchParams(a),e={};for(const[n,i]of t.entries()){const r=e[n];r==null?e[n]=h1(i):Array.isArray(r)?r.push(h1(i)):e[n]=[r,h1(i)]}return e}const aR=cR(JSON.parse),lR=uR(JSON.stringify,JSON.parse);function cR(a){return t=>{t[0]==="?"&&(t=t.substring(1));const e=oR(t);for(const n in e){const i=e[n];if(typeof i=="string")try{e[n]=a(i)}catch{}}return e}}function uR(a,t){const e=typeof t=="function";function n(i){if(typeof i=="object"&&i!==null)try{return a(i)}catch{}else if(e&&typeof i=="string")try{return t(i),a(i)}catch{}return i}return i=>{const r=rR(i,n);return r?`?${r}`:""}}function hR(a){if(a.statusCode=a.statusCode||a.code||307,!a.reloadDocument&&typeof a.href=="string")try{new URL(a.href),a.reloadDocument=!0}catch{}const t=new Headers(a.headers);a.href&&t.get("Location")===null&&t.set("Location",a.href);const e=new Response(null,{status:a.statusCode,headers:t});if(e.options=a,a.throw)throw e;return e}function er(a){return a instanceof Response&&!!a.options}function dR(a){const t=new Map;let e,n;const i=r=>{r.next&&(r.prev?(r.prev.next=r.next,r.next.prev=r.prev,r.next=void 0,n&&(n.next=r,r.prev=n)):(r.next.prev=void 0,e=r.next,r.next=void 0,n&&(r.prev=n,n.next=r)),n=r)};return{get(r){const l=t.get(r);if(l)return i(l),l.value},set(r,l){if(t.size>=a&&e){const d=e;t.delete(d.key),d.next&&(e=d.next,d.next.prev=void 0),d===n&&(n=void 0)}const u=t.get(r);if(u)u.value=l,i(u);else{const d={key:r,value:l,prev:n};n&&(n.next=d),n=d,e||(e=d),t.set(r,d)}}}}const Pg=a=>{var t;if(!a.rendered)return a.rendered=!0,(t=a.onReady)==null?void 0:t.call(a)},Z0=(a,t)=>!!(a.preload&&!a.router.state.matches.some(e=>e.id===t)),W_=(a,t)=>{var i;const e=a.router.routesById[t.routeId??""]??a.router.routeTree;!e.options.notFoundComponent&&((i=a.router.options)!=null&&i.defaultNotFoundComponent)&&(e.options.notFoundComponent=a.router.options.defaultNotFoundComponent),fo(e.options.notFoundComponent);const n=a.matches.find(r=>r.routeId===e.id);fo(n,"Could not find match for route: "+e.id),a.updateMatch(n.id,r=>({...r,status:"notFound",error:t,isFetching:!1})),t.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(t.routeId=e.parentRoute.id,W_(a,t))},Na=(a,t,e)=>{var n,i,r;if(!(!er(e)&&!ir(e))){if(er(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(t){(n=t._nonReactive.beforeLoadPromise)==null||n.resolve(),(i=t._nonReactive.loaderPromise)==null||i.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loaderPromise=void 0;const l=er(e)?"redirected":"notFound";a.updateMatch(t.id,u=>({...u,status:l,isFetching:!1,error:e})),ir(e)&&!e.routeId&&(e.routeId=t.routeId),(r=t._nonReactive.loadPromise)==null||r.resolve()}throw er(e)?(a.rendered=!0,e.options._fromLocation=a.location,e.redirectHandled=!0,e=a.router.resolveRedirect(e),e):(W_(a,e),e)}},V_=(a,t)=>{const e=a.router.getMatch(t);return!!(!a.router.isServer&&e._nonReactive.dehydrated||a.router.isServer&&e.ssr===!1)},Md=(a,t,e,n)=>{var u,d;const{id:i,routeId:r}=a.matches[t],l=a.router.looseRoutesById[r];if(e instanceof Promise)throw e;e.routerCode=n,a.firstBadMatchIndex??(a.firstBadMatchIndex=t),Na(a,a.router.getMatch(i),e);try{(d=(u=l.options).onError)==null||d.call(u,e)}catch(f){e=f,Na(a,a.router.getMatch(i),e)}a.updateMatch(i,f=>{var p,g;return(p=f._nonReactive.beforeLoadPromise)==null||p.resolve(),f._nonReactive.beforeLoadPromise=void 0,(g=f._nonReactive.loadPromise)==null||g.resolve(),{...f,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},fR=(a,t,e,n)=>{var w;const i=a.router.getMatch(t),r=(w=a.matches[e-1])==null?void 0:w.id,l=r?a.router.getMatch(r):void 0;if(a.router.isShell()){i.ssr=t===Es;return}if((l==null?void 0:l.ssr)===!1){i.ssr=!1;return}const u=b=>b===!0&&(l==null?void 0:l.ssr)==="data-only"?"data-only":b,d=a.router.options.defaultSsr??!0;if(n.options.ssr===void 0){i.ssr=u(d);return}if(typeof n.options.ssr!="function"){i.ssr=u(n.options.ssr);return}const{search:f,params:p}=i,g={search:gg(f,i.searchError),params:gg(p,i.paramsError),location:a.location,matches:a.matches.map(b=>({index:b.index,pathname:b.pathname,fullPath:b.fullPath,staticData:b.staticData,id:b.id,routeId:b.routeId,search:gg(b.search,b.searchError),params:gg(b.params,b.paramsError),ssr:b.ssr}))},y=n.options.ssr(g);if(Oa(y))return y.then(b=>{i.ssr=u(b??d)});i.ssr=u(y??d)},X_=(a,t,e,n)=>{var l;if(n._nonReactive.pendingTimeout!==void 0)return;const i=e.options.pendingMs??a.router.options.defaultPendingMs;if(!!(a.onReady&&!a.router.isServer&&!Z0(a,t)&&(e.options.loader||e.options.beforeLoad||K_(e))&&typeof i=="number"&&i!==1/0&&(e.options.pendingComponent??((l=a.router.options)==null?void 0:l.defaultPendingComponent)))){const u=setTimeout(()=>{Pg(a)},i);n._nonReactive.pendingTimeout=u}},pR=(a,t,e)=>{const n=a.router.getMatch(t);if(!n._nonReactive.beforeLoadPromise&&!n._nonReactive.loaderPromise)return;X_(a,t,e,n);const i=()=>{const r=a.router.getMatch(t);r.preload&&(r.status==="redirected"||r.status==="notFound")&&Na(a,r,r.error)};return n._nonReactive.beforeLoadPromise?n._nonReactive.beforeLoadPromise.then(i):i()},mR=(a,t,e,n)=>{var B;const i=a.router.getMatch(t),r=i._nonReactive.loadPromise;i._nonReactive.loadPromise=Bh(()=>{r==null||r.resolve()});const{paramsError:l,searchError:u}=i;l&&Md(a,e,l,"PARSE_PARAMS"),u&&Md(a,e,u,"VALIDATE_SEARCH"),X_(a,t,n,i);const d=new AbortController,f=(B=a.matches[e-1])==null?void 0:B.id,p=f?a.router.getMatch(f):void 0,y={...(p==null?void 0:p.context)??a.router.options.context??void 0,...i.__routeContext};let w=!1;const b=()=>{w||(w=!0,a.updateMatch(t,X=>({...X,isFetching:"beforeLoad",fetchCount:X.fetchCount+1,abortController:d,context:y})))},A=()=>{var X;(X=i._nonReactive.beforeLoadPromise)==null||X.resolve(),i._nonReactive.beforeLoadPromise=void 0,a.updateMatch(t,ee=>({...ee,isFetching:!1}))};if(!n.options.beforeLoad){cf(()=>{b(),A()});return}i._nonReactive.beforeLoadPromise=Bh();const{search:E,params:T,cause:M}=i,R=Z0(a,t),L={search:E,abortController:d,params:T,preload:R,context:y,location:a.location,navigate:X=>a.router.navigate({...X,_fromLocation:a.location}),buildLocation:a.router.buildLocation,cause:R?"preload":M,matches:a.matches,...a.router.options.additionalContext},N=X=>{if(X===void 0){cf(()=>{b(),A()});return}(er(X)||ir(X))&&(b(),Md(a,e,X,"BEFORE_LOAD")),cf(()=>{b(),a.updateMatch(t,ee=>({...ee,__beforeLoadContext:X,context:{...ee.context,...X}})),A()})};let D;try{if(D=n.options.beforeLoad(L),Oa(D))return b(),D.catch(X=>{Md(a,e,X,"BEFORE_LOAD")}).then(N)}catch(X){b(),Md(a,e,X,"BEFORE_LOAD")}N(D)},gR=(a,t)=>{const{id:e,routeId:n}=a.matches[t],i=a.router.looseRoutesById[n],r=()=>{if(a.router.isServer){const d=fR(a,e,t,i);if(Oa(d))return d.then(u)}return u()},l=()=>mR(a,e,t,i),u=()=>{if(V_(a,e))return;const d=pR(a,e,i);return Oa(d)?d.then(l):l()};return r()},uf=(a,t,e)=>{var r,l,u,d,f,p;const n=a.router.getMatch(t);if(!n||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const i={matches:a.matches,match:n,params:n.params,loaderData:n.loaderData};return Promise.all([(l=(r=e.options).head)==null?void 0:l.call(r,i),(d=(u=e.options).scripts)==null?void 0:d.call(u,i),(p=(f=e.options).headers)==null?void 0:p.call(f,i)]).then(([g,y,w])=>{const b=g==null?void 0:g.meta,A=g==null?void 0:g.links,E=g==null?void 0:g.scripts,T=g==null?void 0:g.styles;return{meta:b,links:A,headScripts:E,headers:w,scripts:y,styles:T}})},Y_=(a,t,e,n)=>{const i=a.matchPromises[e-1],{params:r,loaderDeps:l,abortController:u,context:d,cause:f}=a.router.getMatch(t),p=Z0(a,t);return{params:r,deps:l,preload:!!p,parentMatchPromise:i,abortController:u,context:d,location:a.location,navigate:g=>a.router.navigate({...g,_fromLocation:a.location}),cause:p?"preload":f,route:n,...a.router.options.additionalContext}},xA=async(a,t,e,n)=>{var i,r,l,u;try{const d=a.router.getMatch(t);try{(!a.router.isServer||d.ssr===!0)&&q_(n);const f=(r=(i=n.options).loader)==null?void 0:r.call(i,Y_(a,t,e,n)),p=n.options.loader&&Oa(f);if(!!(p||n._lazyPromise||n._componentsPromise||n.options.head||n.options.scripts||n.options.headers||d._nonReactive.minPendingPromise)&&a.updateMatch(t,A=>({...A,isFetching:"loader"})),n.options.loader){const A=p?await f:f;Na(a,a.router.getMatch(t),A),A!==void 0&&a.updateMatch(t,E=>({...E,loaderData:A}))}n._lazyPromise&&await n._lazyPromise;const y=uf(a,t,n),w=y?await y:void 0,b=d._nonReactive.minPendingPromise;b&&await b,n._componentsPromise&&await n._componentsPromise,a.updateMatch(t,A=>({...A,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...w}))}catch(f){let p=f;const g=d._nonReactive.minPendingPromise;g&&await g,Na(a,a.router.getMatch(t),f);try{(u=(l=n.options).onError)==null||u.call(l,f)}catch(b){p=b,Na(a,a.router.getMatch(t),b)}const y=uf(a,t,n),w=y?await y:void 0;a.updateMatch(t,b=>({...b,error:p,status:"error",isFetching:!1,...w}))}}catch(d){const f=a.router.getMatch(t);if(f){const p=uf(a,t,n);if(p){const g=await p;a.updateMatch(t,y=>({...y,...g}))}f._nonReactive.loaderPromise=void 0}Na(a,f,d)}},yR=async(a,t)=>{var f,p;const{id:e,routeId:n}=a.matches[t];let i=!1,r=!1;const l=a.router.looseRoutesById[n];if(V_(a,e)){if(a.router.isServer){const g=uf(a,e,l);if(g){const y=await g;a.updateMatch(e,w=>({...w,...y}))}return a.router.getMatch(e)}}else{const g=a.router.getMatch(e);if(g._nonReactive.loaderPromise){if(g.status==="success"&&!a.sync&&!g.preload)return g;await g._nonReactive.loaderPromise;const y=a.router.getMatch(e);y.error&&Na(a,y,y.error)}else{const y=Date.now()-g.updatedAt,w=Z0(a,e),b=w?l.options.preloadStaleTime??a.router.options.defaultPreloadStaleTime??3e4:l.options.staleTime??a.router.options.defaultStaleTime??0,A=l.options.shouldReload,E=typeof A=="function"?A(Y_(a,e,t,l)):A,T=!!w&&!a.router.state.matches.some(N=>N.id===e),M=a.router.getMatch(e);M._nonReactive.loaderPromise=Bh(),T!==M.preload&&a.updateMatch(e,N=>({...N,preload:T}));const{status:R,invalid:L}=M;if(i=R==="success"&&(L||(E??y>b)),!(w&&l.options.preload===!1))if(i&&!a.sync)r=!0,(async()=>{var N,D;try{await xA(a,e,t,l);const B=a.router.getMatch(e);(N=B._nonReactive.loaderPromise)==null||N.resolve(),(D=B._nonReactive.loadPromise)==null||D.resolve(),B._nonReactive.loaderPromise=void 0}catch(B){er(B)&&await a.router.navigate(B.options)}})();else if(R!=="success"||i&&a.sync)await xA(a,e,t,l);else{const N=uf(a,e,l);if(N){const D=await N;a.updateMatch(e,B=>({...B,...D}))}}}}const u=a.router.getMatch(e);r||((f=u._nonReactive.loaderPromise)==null||f.resolve(),(p=u._nonReactive.loadPromise)==null||p.resolve()),clearTimeout(u._nonReactive.pendingTimeout),u._nonReactive.pendingTimeout=void 0,r||(u._nonReactive.loaderPromise=void 0),u._nonReactive.dehydrated=void 0;const d=r?u.isFetching:!1;return d!==u.isFetching||u.invalid!==!1?(a.updateMatch(e,g=>({...g,isFetching:d,invalid:!1})),a.router.getMatch(e)):u};async function bA(a){const t=Object.assign(a,{matchPromises:[]});!t.router.isServer&&t.router.state.matches.some(e=>e._forcePending)&&Pg(t);try{for(let i=0;i<t.matches.length;i++){const r=gR(t,i);Oa(r)&&await r}const e=t.firstBadMatchIndex??t.matches.length;for(let i=0;i<e;i++)t.matchPromises.push(yR(t,i));await Promise.all(t.matchPromises);const n=Pg(t);Oa(n)&&await n}catch(e){if(ir(e)&&!t.preload){const n=Pg(t);throw Oa(n)&&await n,e}if(er(e))throw e}return t.matches}async function q_(a){if(!a._lazyLoaded&&a._lazyPromise===void 0&&(a.lazyFn?a._lazyPromise=a.lazyFn().then(t=>{const{id:e,...n}=t.options;Object.assign(a.options,n),a._lazyLoaded=!0,a._lazyPromise=void 0}):a._lazyLoaded=!0),!a._componentsLoaded&&a._componentsPromise===void 0){const t=()=>{var n;const e=[];for(const i of Q_){const r=(n=a.options[i])==null?void 0:n.preload;r&&e.push(r())}if(e.length)return Promise.all(e).then(()=>{a._componentsLoaded=!0,a._componentsPromise=void 0});a._componentsLoaded=!0,a._componentsPromise=void 0};a._componentsPromise=a._lazyPromise?a._lazyPromise.then(t):t()}return a._componentsPromise}function gg(a,t){return t?{status:"error",error:t}:{status:"success",value:a}}function K_(a){var t;for(const e of Q_)if((t=a.options[e])!=null&&t.preload)return!0;return!1}const Q_=["component","errorComponent","pendingComponent","notFoundComponent"];function vR(a){return{input:({url:t})=>{for(const e of a)t=J_(e,t);return t},output:({url:t})=>{for(let e=a.length-1;e>=0;e--)t=Z_(a[e],t);return t}}}function wR(a){const t=B1(a.basepath),e=new RegExp(`^/${t}/`,a.caseSensitive?"":"i");return{input:({url:n})=>(n.pathname=n.pathname.replace(e,"/"),n),output:({url:n})=>(n.pathname=co(["/",t,n.pathname]),n)}}function J_(a,t){var n;const e=(n=a==null?void 0:a.input)==null?void 0:n.call(a,{url:t});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return t}function Z_(a,t){var n;const e=(n=a==null?void 0:a.output)==null?void 0:n.call(a,{url:t});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return t}function xc(a){const t=a.resolvedLocation,e=a.location,n=(t==null?void 0:t.pathname)!==e.pathname,i=(t==null?void 0:t.href)!==e.href,r=(t==null?void 0:t.hash)!==e.hash;return{fromLocation:t,toLocation:e,pathChanged:n,hrefChanged:i,hashChanged:r}}class SR{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{var n;if(e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info."),this.options={...this.options,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(i=>[encodeURIComponent(i),i])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=CP())),this.options.basepath){const i=wR({basepath:this.options.basepath});this.options.rewrite?this.rewrite=vR([i,this.options.rewrite]):this.rewrite=i}else this.rewrite=this.options.rewrite;this.origin=this.options.origin,this.origin||(this.isServer?this.origin="http://localhost":this.origin=window.origin),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new F1(bR(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(i=>!["redirected"].includes(i.status))}}}),sR(this)),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:e,routesByPath:n,flatRoutes:i}=JP({routeTree:this.routeTree,initRoute:(l,u)=>{l.init({originalIndex:u})}});this.routesById=e,this.routesByPath=n,this.flatRoutes=i;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)},this.subscribe=(e,n)=>{const i={eventType:e,fn:n};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=e=>{this.subscribers.forEach(n=>{n.eventType===e.type&&n.fn(e)})},this.parseLocation=(e,n)=>{const i=({href:d,state:f})=>{const p=new URL(d,this.origin),g=J_(this.rewrite,p),y=this.options.parseSearch(g.search),w=this.options.stringifySearch(y);g.search=w;const b=g.href.replace(g.origin,""),{pathname:A,hash:E}=g;return{href:b,publicHref:d,url:g.href,pathname:A,searchStr:w,search:Us(n==null?void 0:n.search,y),hash:E.split("#").reverse()[0]??"",state:Us(n==null?void 0:n.state,f)}},r=i(e),{__tempLocation:l,__tempKey:u}=r.state;if(l&&(!u||u===this.tempLocationKey)){const d=i(l);return d.state.key=r.state.key,d.state.__TSR_key=r.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:r}}return r},this.resolvePathWithBase=(e,n)=>LP({base:e,to:Lw(n),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(e,n,i)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},i):this.matchRoutesInternal(e,n),this.parsePathnameCache=dR(1e3),this.getMatchedRoutes=(e,n)=>AR({pathname:e,routePathname:n,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=e=>{const n=this.getMatch(e);n&&(n.abortController.abort(),clearTimeout(n._nonReactive.pendingTimeout),n._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{var e;(e=this.state.pendingMatches)==null||e.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=e=>{const n=(r={})=>{var $,F;const l=r._fromLocation||this.latestLocation,u=this.matchRoutes(l,{_buildLocation:!0}),d=j1(u);r.from;const f=r.unsafeRelative==="path"?l.pathname:r.from??d.fullPath,p=this.resolvePathWithBase(f,"."),g=d.search,y={...d.params},w=r.to?this.resolvePathWithBase(p,`${r.to}`):this.resolvePathWithBase(p,"."),b=r.params===!1||r.params===null?{}:(r.params??!0)===!0?y:Object.assign(y,wc(r.params,y)),A=pg({path:w,params:b,parseCache:this.parsePathnameCache}).interpolatedPath,E=this.matchRoutes(A,void 0,{_buildLocation:!0}).map(J=>this.looseRoutesById[J.routeId]);if(Object.keys(b).length>0)for(const J of E){const oe=(($=J.options.params)==null?void 0:$.stringify)??J.options.stringifyParams;oe&&Object.assign(b,oe(b))}const T=pg({path:w,params:b,leaveWildcards:!1,leaveParams:e.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let M=g;if(e._includeValidateSearch&&((F=this.options.search)!=null&&F.strict)){const J={};E.forEach(oe=>{if(oe.options.validateSearch)try{Object.assign(J,U1(oe.options.validateSearch,{...J,...M}))}catch{}}),M=J}M=_R({search:M,dest:r,destRoutes:E,_includeValidateSearch:e._includeValidateSearch}),M=Us(g,M);const R=this.options.stringifySearch(M),L=r.hash===!0?l.hash:r.hash?wc(r.hash,l.hash):void 0,N=L?`#${L}`:"";let D=r.state===!0?l.state:r.state?wc(r.state,l.state):{};D=Us(l.state,D);const B=`${T}${R}${N}`,X=new URL(B,this.origin),ee=Z_(this.rewrite,X);return{publicHref:ee.pathname+ee.search+ee.hash,href:B,url:ee.href,pathname:T,search:M,searchStr:R,state:D,hash:L??"",unmaskOnReload:r.unmaskOnReload}},i=(r={},l)=>{var f;const u=n(r);let d=l?n(l):void 0;if(!d){let p={};const g=(f=this.options.routeMasks)==null?void 0:f.find(y=>{const w=z1(u.pathname,{to:y.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return w?(p=w,!0):!1});if(g){const{from:y,...w}=g;l={from:e.from,...w,params:p},d=n(l)}}return d&&(u.maskedLocation=d),u};return e.mask?i(e,{from:e.from,...e.mask}):i(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:n,...i})=>{const r=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(p=>{i.state[p]=this.latestLocation.state[p]});const f=Sc(i.state,this.latestLocation.state);return d.forEach(p=>{delete i.state[p]}),f},l=Fa(this.latestLocation.href)===Fa(i.href),u=this.commitLocationPromise;if(this.commitLocationPromise=Bh(()=>{u==null||u.resolve()}),l&&r())this.load();else{let{maskedLocation:d,hashScrollIntoView:f,...p}=i;d&&(p={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[i.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:n})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:n,hashScrollIntoView:i,viewTransition:r,ignoreBlocker:l,href:u,...d}={})=>{if(u){const p=this.history.location.state.__TSR_index,g=c0(u,{__TSR_index:e?p:p+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const f=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...f,viewTransition:r,replace:e,resetScroll:n,hashScrollIntoView:i,ignoreBlocker:l})},this.navigate=({to:e,reloadDocument:n,href:i,...r})=>{if(!n&&i)try{new URL(`${i}`),n=!0}catch{}return n?(i||(i=this.buildLocation({to:e,...r}).href),r.replace?window.location.replace(i):window.location.href=i,Promise.resolve()):this.buildAndCommitLocation({...r,href:i,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const n=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),i=r=>{try{return encodeURI(decodeURI(r))}catch{return r}};if(B1(i(this.latestLocation.href))!==B1(i(n.href)))throw hR({href:n.href})}const e=this.matchRoutes(this.latestLocation);this.__store.setState(n=>({...n,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:n.cachedMatches.filter(i=>!e.some(r=>r.id===i.id))}))},this.load=async e=>{let n,i,r;for(r=new Promise(l=>{this.startTransition(async()=>{var u;try{this.beforeLoad();const d=this.latestLocation,f=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...xc({resolvedLocation:f,location:d})}),this.emit({type:"onBeforeLoad",...xc({resolvedLocation:f,location:d})}),await bA({router:this,sync:e==null?void 0:e.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let p,g,y;cf(()=>{this.__store.setState(w=>{const b=w.matches,A=w.pendingMatches||w.matches;return p=b.filter(E=>!A.some(T=>T.id===E.id)),g=A.filter(E=>!b.some(T=>T.id===E.id)),y=b.filter(E=>A.some(T=>T.id===E.id)),{...w,isLoading:!1,loadedAt:Date.now(),matches:A,pendingMatches:void 0,cachedMatches:[...w.cachedMatches,...p.filter(E=>E.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[g,"onEnter"],[y,"onStay"]].forEach(([w,b])=>{w.forEach(A=>{var E,T;(T=(E=this.looseRoutesById[A.routeId].options)[b])==null||T.call(E,A)})})})}})}catch(d){er(d)?(n=d,this.isServer||this.navigate({...n.options,replace:!0,ignoreBlocker:!0})):ir(d)&&(i=d),this.__store.setState(f=>({...f,statusCode:n?n.status:i?404:f.matches.some(p=>p.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===r&&((u=this.commitLocationPromise)==null||u.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),l()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(l=>({...l,statusCode:404}))},this.startViewTransition=e=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof n=="object"&&this.isViewTransitionTypesSupported){const r=this.latestLocation,l=this.state.resolvedLocation,u=typeof n.types=="function"?n.types(xc({resolvedLocation:l,location:r})):n.types;i={update:e,types:u}}else i=e;document.startViewTransition(i)}else e()},this.updateMatch=(e,n)=>{var r;const i=(r=this.state.pendingMatches)!=null&&r.some(l=>l.id===e)?"pendingMatches":this.state.matches.some(l=>l.id===e)?"matches":this.state.cachedMatches.some(l=>l.id===e)?"cachedMatches":"";i&&this.__store.setState(l=>{var u;return{...l,[i]:(u=l[i])==null?void 0:u.map(d=>d.id===e?n(d):d)}})},this.getMatch=e=>{var i;const n=r=>r.id===e;return this.state.cachedMatches.find(n)??((i=this.state.pendingMatches)==null?void 0:i.find(n))??this.state.matches.find(n)},this.invalidate=e=>{const n=i=>{var r;return((r=e==null?void 0:e.filter)==null?void 0:r.call(e,i))??!0?{...i,invalid:!0,...e!=null&&e.forcePending||i.status==="error"?{status:"pending",error:void 0}:void 0}:i};return this.__store.setState(i=>{var r;return{...i,matches:i.matches.map(n),cachedMatches:i.cachedMatches.map(n),pendingMatches:(r=i.pendingMatches)==null?void 0:r.map(n)}}),this.shouldViewTransition=!1,this.load({sync:e==null?void 0:e.sync})},this.resolveRedirect=e=>(e.options.href||(e.options.href=this.buildLocation(e.options).href,e.headers.set("Location",e.options.href)),e.headers.get("Location")||e.headers.set("Location",e.options.href),e),this.clearCache=e=>{const n=e==null?void 0:e.filter;n!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(r=>!n(r))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=n=>{const i=this.looseRoutesById[n.routeId];if(!i.options.loader)return!0;const r=(n.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return n.status==="error"?!0:Date.now()-n.updatedAt>=r};this.clearCache({filter:e})},this.loadRouteChunk=q_,this.preloadRoute=async e=>{const n=this.buildLocation(e);let i=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:e});const r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...r,...this.state.cachedMatches.map(u=>u.id)]);cf(()=>{i.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return i=await bA({router:this,matches:i,location:n,preload:!0,updateMatch:(u,d)=>{r.has(u)?i=i.map(f=>f.id===u?d(f):f):this.updateMatch(u,d)}}),i}catch(u){if(er(u))return u.options.reloadDocument?void 0:await this.preloadRoute({...u.options,_fromLocation:n});ir(u)||console.error(u);return}},this.matchRoute=(e,n)=>{const i={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(i);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const u=((n==null?void 0:n.pending)===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=z1(u.pathname,{...n,to:r.pathname},this.parsePathnameCache);return!d||e.params&&!Sc(d,e.params,{partial:!0})?!1:d&&((n==null?void 0:n.includeSearch)??!0)?Sc(u.search,r.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??lR,parseSearch:t.parseSearch??aR}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,e){var p;const{foundRoute:n,matchedRoutes:i,routeParams:r}=this.getMatchedRoutes(t.pathname,(p=e==null?void 0:e.dest)==null?void 0:p.to);let l=!1;(n?n.path!=="/"&&r["**"]:Fa(t.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let g=i.length-1;g>=0;g--){const y=i[g];if(y.children)return y.id}return Es}})(),d=[],f=g=>(g==null?void 0:g.id)?g.context??this.options.context??void 0:this.options.context??void 0;return i.forEach((g,y)=>{var oe,ce,te;const w=d[y-1],[b,A,E]=(()=>{const W=(w==null?void 0:w.search)??t.search,H=(w==null?void 0:w._strictSearch)??void 0;try{const q=U1(g.options.validateSearch,{...W})??void 0;return[{...W,...q},{...H,...q},void 0]}catch(q){let K=q;if(q instanceof p0||(K=new p0(q.message,{cause:q})),e!=null&&e.throwOnError)throw K;return[W,{},K]}})(),T=((ce=(oe=g.options).loaderDeps)==null?void 0:ce.call(oe,{search:b}))??"",M=T?JSON.stringify(T):"",{interpolatedPath:R,usedParams:L}=pg({path:g.fullPath,params:r,decodeCharMap:this.pathParamsDecodeCharMap}),N=pg({path:g.id,params:r,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+M,D=this.getMatch(N),B=this.state.matches.find(W=>W.routeId===g.id),X=(D==null?void 0:D._strictParams)??L;let ee;if(!D){const W=((te=g.options.params)==null?void 0:te.parse)??g.options.parseParams;if(W)try{Object.assign(X,W(X))}catch(H){if(ee=new xR(H.message,{cause:H}),e!=null&&e.throwOnError)throw ee}}Object.assign(r,X);const $=B?"stay":"enter";let F;if(D)F={...D,cause:$,params:B?Us(B.params,r):r,_strictParams:X,search:Us(B?B.search:D.search,b),_strictSearch:A};else{const W=g.options.loader||g.options.beforeLoad||g.lazyFn||K_(g)?"pending":"success";F={id:N,index:y,routeId:g.id,params:B?Us(B.params,r):r,_strictParams:X,pathname:R,updatedAt:Date.now(),search:B?Us(B.search,b):b,_strictSearch:A,searchError:void 0,status:W,isFetching:!1,error:void 0,paramsError:ee,__routeContext:void 0,_nonReactive:{loadPromise:Bh()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:$,loaderDeps:B?Us(B.loaderDeps,T):T,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:g.options.staticData||{},fullPath:g.fullPath}}e!=null&&e.preload||(F.globalNotFound=u===g.id),F.searchError=E;const J=f(w);F.context={...J,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((g,y)=>{const w=this.looseRoutesById[g.routeId];if(!this.getMatch(g.id)&&(e==null?void 0:e._buildLocation)!==!0){const A=d[y-1],E=f(A);if(w.options.context){const T={deps:g.loaderDeps,params:g.params,context:E??{},location:t,navigate:M=>this.navigate({...M,_fromLocation:t}),buildLocation:this.buildLocation,cause:g.cause,abortController:g.abortController,preload:!!g.preload,matches:d};g.__routeContext=w.options.context(T)??void 0}g.context={...E,...g.__routeContext,...g.__beforeLoadContext}}}),d}}class p0 extends Error{}class xR extends Error{}function bR(a){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:a,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function U1(a,t){if(a==null)return{};if("~standard"in a){const e=a["~standard"].validate(t);if(e instanceof Promise)throw new p0("Async validation not supported");if(e.issues)throw new p0(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in a?a.parse(t):typeof a=="function"?a(t):{}}function AR({pathname:a,routePathname:t,caseSensitive:e,routesByPath:n,routesById:i,flatRoutes:r,parseCache:l}){let u={};const d=Fa(a),f=w=>{var A;return z1(d,{to:w.fullPath,caseSensitive:((A=w.options)==null?void 0:A.caseSensitive)??e,fuzzy:!0},l)};let p=t!==void 0?n[t]:void 0;if(p)u=f(p);else{let w;for(const b of r){const A=f(b);if(A)if(b.path!=="/"&&A["**"])w||(w={foundRoute:b,routeParams:A});else{p=b,u=A;break}}!p&&w&&(p=w.foundRoute,u=w.routeParams)}let g=p||i[Es];const y=[g];for(;g.parentRoute;)g=g.parentRoute,y.push(g);return y.reverse(),{matchedRoutes:y,routeParams:u,foundRoute:p}}function _R({search:a,dest:t,destRoutes:e,_includeValidateSearch:n}){const i=e.reduce((u,d)=>{var p;const f=[];if("search"in d.options)(p=d.options.search)!=null&&p.middlewares&&f.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const g=({search:y,next:w})=>{let b=y;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(b=d.options.preSearchFilters.reduce((E,T)=>T(E),y));const A=w(b);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,T)=>T(E),A):A};f.push(g)}if(n&&d.options.validateSearch){const g=({search:y,next:w})=>{const b=w(y);try{return{...b,...U1(d.options.validateSearch,b)??void 0}}catch{return b}};f.push(g)}return u.concat(f)},[])??[],r=({search:u})=>t.search?t.search===!0?u:wc(t.search,u):{};i.push(r);const l=(u,d)=>{if(u>=i.length)return d;const f=i[u];return f({search:d,next:g=>l(u+1,g)})};return l(0,a)}const ER="Error preloading route! ☝️";class eE{constructor(t){if(this.init=e=>{var f,p;this.originalIndex=e.originalIndex;const n=this.options,i=!(n!=null&&n.path)&&!(n!=null&&n.id);this.parentRoute=(p=(f=this.options).getParentRoute)==null?void 0:p.call(f),i?this._path=Es:this.parentRoute||fo(!1);let r=i?Es:n==null?void 0:n.path;r&&r!=="/"&&(r=Nw(r));const l=(n==null?void 0:n.id)||r;let u=i?Es:co([this.parentRoute.id===Es?"":this.parentRoute.id,l]);r===Es&&(r="/"),u!==Es&&(u=co(["/",u]));const d=u===Es?"/":co([this.parentRoute.fullPath,r]);this._path=r,this._id=u,this._fullPath=d,this._to=d},this.clone=e=>{this._path=e._path,this._id=e._id,this._fullPath=e._fullPath,this._to=e._to,this.options.getParentRoute=e.options.getParentRoute,this.children=e.children},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),t!=null&&t.id&&(t!=null&&t.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class CR extends eE{constructor(t){super(t)}}function Iw(a){const t=a.errorComponent??ey;return C.jsx(kR,{getResetKey:a.getResetKey,onCatch:a.onCatch,children:({error:e,reset:n})=>e?Q.createElement(t,{error:e,reset:n}):a.children})}class kR extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,e){this.props.onCatch&&this.props.onCatch(t,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ey({error:a}){const[t,e]=Q.useState(!1);return C.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[C.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[C.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),C.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(n=>!n),children:t?"Hide Error":"Show Error"})]}),C.jsx("div",{style:{height:".25rem"}}),t?C.jsx("div",{children:C.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:a.message?C.jsx("code",{children:a.message}):null})}):null]})}function TR({children:a,fallback:t=null}){return PR()?C.jsx(ja.Fragment,{children:a}):C.jsx(ja.Fragment,{children:t})}function PR(){return ja.useSyncExternalStore(RR,()=>!0,()=>!1)}function RR(){return()=>{}}var d1={exports:{}},f1={},p1={exports:{}},m1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function MR(){if(AA)return m1;AA=1;var a=qp();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var e=typeof Object.is=="function"?Object.is:t,n=a.useState,i=a.useEffect,r=a.useLayoutEffect,l=a.useDebugValue;function u(g,y){var w=y(),b=n({inst:{value:w,getSnapshot:y}}),A=b[0].inst,E=b[1];return r(function(){A.value=w,A.getSnapshot=y,d(A)&&E({inst:A})},[g,w,y]),i(function(){return d(A)&&E({inst:A}),g(function(){d(A)&&E({inst:A})})},[g]),l(w),w}function d(g){var y=g.getSnapshot;g=g.value;try{var w=y();return!e(g,w)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return m1.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:p,m1}var _A;function LR(){return _A||(_A=1,p1.exports=MR()),p1.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function NR(){if(EA)return f1;EA=1;var a=qp(),t=LR();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=a.useRef,l=a.useEffect,u=a.useMemo,d=a.useDebugValue;return f1.useSyncExternalStoreWithSelector=function(f,p,g,y,w){var b=r(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=u(function(){function T(D){if(!M){if(M=!0,R=D,D=y(D),w!==void 0&&A.hasValue){var B=A.value;if(w(B,D))return L=B}return L=D}if(B=L,n(R,D))return B;var X=y(D);return w!==void 0&&w(B,X)?(R=D,B):(R=D,L=X)}var M=!1,R,L,N=g===void 0?null:g;return[function(){return T(p())},N===null?void 0:function(){return T(N())}]},[p,g,y,w]);var E=i(f,b[0],b[1]);return l(function(){A.hasValue=!0,A.value=E},[E]),d(E),E},f1}var CA;function IR(){return CA||(CA=1,d1.exports=NR()),d1.exports}var DR=IR();function OR(a,t=e=>e){return DR.useSyncExternalStoreWithSelector(a.subscribe,()=>a.state,()=>a.state,t,FR)}function FR(a,t){if(Object.is(a,t))return!0;if(typeof a!="object"||a===null||typeof t!="object"||t===null)return!1;if(a instanceof Map&&t instanceof Map){if(a.size!==t.size)return!1;for(const[n,i]of a)if(!t.has(n)||!Object.is(i,t.get(n)))return!1;return!0}if(a instanceof Set&&t instanceof Set){if(a.size!==t.size)return!1;for(const n of a)if(!t.has(n))return!1;return!0}if(a instanceof Date&&t instanceof Date)return a.getTime()===t.getTime();const e=kA(a);if(e.length!==kA(t).length)return!1;for(let n=0;n<e.length;n++)if(!Object.prototype.hasOwnProperty.call(t,e[n])||!Object.is(a[e[n]],t[e[n]]))return!1;return!0}function kA(a){return Object.keys(a).concat(Object.getOwnPropertySymbols(a))}const g1=Q.createContext(null);function tE(){return typeof document>"u"?g1:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=g1,g1)}function Ms(a){const t=Q.useContext(tE());return a==null||a.warn,t}function es(a){const t=Ms({warn:(a==null?void 0:a.router)===void 0}),e=(a==null?void 0:a.router)||t,n=Q.useRef(void 0);return OR(e.__store,i=>{if(a!=null&&a.select){if(a.structuralSharing??e.options.defaultStructuralSharing){const r=Us(n.current,a.select(i));return n.current=r,r}return a.select(i)}return i})}const ty=Q.createContext(void 0),jR=Q.createContext(void 0);function rr(a){const t=Q.useContext(a.from?jR:ty);return es({select:n=>{const i=n.matches.find(r=>a.from?a.from===r.routeId:r.id===t);if(fo(!((a.shouldThrow??!0)&&!i),`Could not find ${a.from?`an active match from "${a.from}"`:"a nearest match!"}`),i!==void 0)return a.select?a.select(i):i},structuralSharing:a.structuralSharing})}function Dw(a){return rr({from:a.from,strict:a.strict,structuralSharing:a.structuralSharing,select:t=>a.select?a.select(t.loaderData):t.loaderData})}function Ow(a){const{select:t,...e}=a;return rr({...e,select:n=>t?t(n.loaderDeps):n.loaderDeps})}function Fw(a){return rr({from:a.from,shouldThrow:a.shouldThrow,structuralSharing:a.structuralSharing,strict:a.strict,select:t=>{const e=a.strict===!1?t.params:t._strictParams;return a.select?a.select(e):e}})}function jw(a){return rr({from:a.from,strict:a.strict,shouldThrow:a.shouldThrow,structuralSharing:a.structuralSharing,select:t=>a.select?a.select(t.search):t.search})}function Bw(a){const t=Ms();return Q.useCallback(e=>t.navigate({...e,from:e.from??(a==null?void 0:a.from)}),[a==null?void 0:a.from,t])}var BR=B_();const yg=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function y1(a){const t=Q.useRef({value:a,prev:null}),e=t.current.value;return a!==e&&(t.current={value:a,prev:e}),t.current.prev}function zR(a,t,e={},n={}){Q.useEffect(()=>{if(!a.current||n.disabled||typeof IntersectionObserver!="function")return;const i=new IntersectionObserver(([r])=>{t(r)},e);return i.observe(a.current),()=>{i.disconnect()}},[t,e,n.disabled,a])}function $R(a){const t=Q.useRef(null);return Q.useImperativeHandle(a,()=>t.current,[]),t}function UR(a,t){const e=Ms(),[n,i]=Q.useState(!1),r=Q.useRef(!1),l=$R(t),{activeProps:u,inactiveProps:d,activeOptions:f,to:p,preload:g,preloadDelay:y,hashScrollIntoView:w,replace:b,startTransition:A,resetScroll:E,viewTransition:T,children:M,target:R,disabled:L,style:N,className:D,onClick:B,onFocus:X,onMouseEnter:ee,onMouseLeave:$,onTouchStart:F,ignoreBlocker:J,params:oe,search:ce,hash:te,state:W,mask:H,reloadDocument:q,unsafeRelative:K,from:Z,_fromLocation:O,...G}=a,ne=es({select:Ue=>Ue.location.search,structuralSharing:!0}),he=a.from,ve=Q.useMemo(()=>({...a,from:he}),[e,ne,he,a._fromLocation,a.hash,a.to,a.search,a.params,a.state,a.mask,a.unsafeRelative]),pe=Q.useMemo(()=>e.buildLocation({...ve}),[e,ve]),de=Q.useMemo(()=>{if(L)return;let Ue=pe.maskedLocation?pe.maskedLocation.url:pe.url,ht=!1;return e.origin&&(Ue.startsWith(e.origin)?Ue=Ue.replace(e.origin,"")||"/":ht=!0),{href:Ue,external:ht}},[L,pe.maskedLocation,pe.url,e.origin]),Le=Q.useMemo(()=>{if(de!=null&&de.external)return de.href;try{return new URL(p),p}catch{}},[p,de]),Ce=a.reloadDocument||Le?!1:g??e.options.defaultPreload,Be=y??e.options.defaultPreloadDelay??0,it=es({select:Ue=>{if(Le)return!1;if(f!=null&&f.exact){if(!RP(Ue.location.pathname,pe.pathname,e.basepath))return!1}else{const ht=h0(Ue.location.pathname,e.basepath),qt=h0(pe.pathname,e.basepath);if(!(ht.startsWith(qt)&&(ht.length===qt.length||ht[qt.length]==="/")))return!1}return((f==null?void 0:f.includeSearch)??!0)&&!Sc(Ue.location.search,pe.search,{partial:!(f!=null&&f.exact),ignoreUndefined:!(f!=null&&f.explicitUndefined)})?!1:f!=null&&f.includeHash?Ue.location.hash===pe.hash:!0}}),vt=Q.useCallback(()=>{e.preloadRoute({...ve}).catch(Ue=>{console.warn(Ue),console.warn(ER)})},[e,ve]),Ns=Q.useCallback(Ue=>{Ue!=null&&Ue.isIntersecting&&vt()},[vt]);zR(l,Ns,XR,{disabled:!!L||Ce!=="viewport"}),Q.useEffect(()=>{r.current||!L&&Ce==="render"&&(vt(),r.current=!0)},[L,vt,Ce]);const xi=Ue=>{const ht=Ue.currentTarget.target,qt=R!==void 0?R:ht;if(!L&&!YR(Ue)&&!Ue.defaultPrevented&&(!qt||qt==="_self")&&Ue.button===0){Ue.preventDefault(),BR.flushSync(()=>{i(!0)});const cr=e.subscribe("onResolved",()=>{cr(),i(!1)});e.navigate({...ve,replace:b,resetScroll:E,hashScrollIntoView:w,startTransition:A,viewTransition:T,ignoreBlocker:J})}};if(Le)return{...G,ref:l,href:Le,...M&&{children:M},...R&&{target:R},...L&&{disabled:L},...N&&{style:N},...D&&{className:D},...B&&{onClick:B},...X&&{onFocus:X},...ee&&{onMouseEnter:ee},...$&&{onMouseLeave:$},...F&&{onTouchStart:F}};const Tn=Ue=>{L||Ce&&vt()},$n=Tn,Va=Ue=>{if(!(L||!Ce))if(!Be)vt();else{const ht=Ue.target;if(Ld.has(ht))return;const qt=setTimeout(()=>{Ld.delete(ht),vt()},Be);Ld.set(ht,qt)}},_t=Ue=>{if(L||!Ce||!Be)return;const ht=Ue.target,qt=Ld.get(ht);qt&&(clearTimeout(qt),Ld.delete(ht))},wn=it?wc(u,{})??HR:v1,Yt=it?v1:wc(d,{})??v1,bi=[D,wn.className,Yt.className].filter(Boolean).join(" "),ts=(N||wn.style||Yt.style)&&{...N,...wn.style,...Yt.style};return{...G,...wn,...Yt,href:de==null?void 0:de.href,ref:l,onClick:Nd([B,xi]),onFocus:Nd([X,Tn]),onMouseEnter:Nd([ee,Va]),onMouseLeave:Nd([$,_t]),onTouchStart:Nd([F,$n]),disabled:!!L,target:R,...ts&&{style:ts},...bi&&{className:bi},...L&&GR,...it&&WR,...n&&VR}}const v1={},HR={className:"active"},GR={role:"link","aria-disabled":!0},WR={"data-status":"active","aria-current":"page"},VR={"data-transitioning":"transitioning"},Ld=new WeakMap,XR={rootMargin:"100px"},Nd=a=>t=>{for(const e of a)if(e){if(t.defaultPrevented)return;e(t)}},nE=Q.forwardRef((a,t)=>{const{_asChild:e,...n}=a,{type:i,ref:r,...l}=UR(n,t),u=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return e===void 0&&delete l.disabled,Q.createElement(e||"a",{...l,ref:r},u)});function YR(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}class qR extends eE{constructor(t){super(t),this.useMatch=e=>rr({select:e==null?void 0:e.select,from:this.id,structuralSharing:e==null?void 0:e.structuralSharing}),this.useRouteContext=e=>rr({...e,from:this.id,select:n=>e!=null&&e.select?e.select(n.context):n.context}),this.useSearch=e=>jw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useParams=e=>Fw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Ow({...e,from:this.id}),this.useLoaderData=e=>Dw({...e,from:this.id}),this.useNavigate=()=>Bw({from:this.fullPath}),this.Link=ja.forwardRef((e,n)=>C.jsx(nE,{ref:n,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function zw(a){return new qR(a)}class KR extends CR{constructor(t){super(t),this.useMatch=e=>rr({select:e==null?void 0:e.select,from:this.id,structuralSharing:e==null?void 0:e.structuralSharing}),this.useRouteContext=e=>rr({...e,from:this.id,select:n=>e!=null&&e.select?e.select(n.context):n.context}),this.useSearch=e=>jw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useParams=e=>Fw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Ow({...e,from:this.id}),this.useLoaderData=e=>Dw({...e,from:this.id}),this.useNavigate=()=>Bw({from:this.fullPath}),this.Link=ja.forwardRef((e,n)=>C.jsx(nE,{ref:n,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function QR(a){return new KR(a)}function TA(a){return typeof a=="object"?new PA(a,{silent:!0}).createRoute(a):new PA(a,{silent:!0}).createRoute}class PA{constructor(t,e){this.path=t,this.createRoute=n=>{this.silent;const i=zw(n);return i.isRoot=!1,i},this.silent=e==null?void 0:e.silent}}class RA{constructor(t){this.useMatch=e=>rr({select:e==null?void 0:e.select,from:this.options.id,structuralSharing:e==null?void 0:e.structuralSharing}),this.useRouteContext=e=>rr({from:this.options.id,select:n=>e!=null&&e.select?e.select(n.context):n.context}),this.useSearch=e=>jw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.options.id}),this.useParams=e=>Fw({select:e==null?void 0:e.select,structuralSharing:e==null?void 0:e.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>Ow({...e,from:this.options.id}),this.useLoaderData=e=>Dw({...e,from:this.options.id}),this.useNavigate=()=>{const e=Ms();return Bw({from:e.routesById[this.options.id].fullPath})},this.options=t,this.$$typeof=Symbol.for("react.memo")}}function MA(a){return typeof a=="object"?new RA(a):t=>new RA({id:a,...t})}function JR(){const a=Ms(),t=Q.useRef({router:a,mounted:!1}),[e,n]=Q.useState(!1),{hasPendingMatches:i,isLoading:r}=es({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(y=>y.status==="pending")}),structuralSharing:!0}),l=y1(r),u=r||e||i,d=y1(u),f=r||i,p=y1(f);return a.startTransition=g=>{n(!0),Q.startTransition(()=>{g(),n(!1)})},Q.useEffect(()=>{const g=a.history.subscribe(a.load),y=a.buildLocation({to:a.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Fa(a.latestLocation.href)!==Fa(y.href)&&a.commitLocation({...y,replace:!0}),()=>{g()}},[a,a.history]),yg(()=>{if(typeof window<"u"&&a.ssr||t.current.router===a&&t.current.mounted)return;t.current={router:a,mounted:!0},(async()=>{try{await a.load()}catch(y){console.error(y)}})()},[a]),yg(()=>{l&&!r&&a.emit({type:"onLoad",...xc(a.state)})},[l,a,r]),yg(()=>{p&&!f&&a.emit({type:"onBeforeRouteMount",...xc(a.state)})},[f,p,a]),yg(()=>{d&&!u&&(a.emit({type:"onResolved",...xc(a.state)}),a.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),iR(a))},[u,d,a]),null}function ZR(a){const t=es({select:e=>`not-found-${e.location.pathname}-${e.status}`});return C.jsx(Iw,{getResetKey:()=>t,onCatch:(e,n)=>{var i;if(ir(e))(i=a.onCatch)==null||i.call(a,e,n);else throw e},errorComponent:({error:e})=>{var n;if(ir(e))return(n=a.fallback)==null?void 0:n.call(a,e);throw e},children:a.children})}function eM(){return C.jsx("p",{children:"Not Found"})}function ou(a){return C.jsx(C.Fragment,{children:a.children})}function sE(a,t,e){return t.options.notFoundComponent?C.jsx(t.options.notFoundComponent,{data:e}):a.options.defaultNotFoundComponent?C.jsx(a.options.defaultNotFoundComponent,{data:e}):C.jsx(eM,{})}function tM({children:a}){var e;const t=Ms();return t.isServer?C.jsx("script",{nonce:(e=t.options.ssr)==null?void 0:e.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[a].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function nM(){const a=Ms();if(!a.isScrollRestoring||!a.isServer||typeof a.options.scrollRestoration=="function"&&!a.options.scrollRestoration({location:a.latestLocation}))return null;const e=(a.options.getScrollRestorationKey||$1)(a.latestLocation),n=e!==$1(a.latestLocation)?e:void 0,i={storageKey:d0,shouldScrollRestoration:!0};return n&&(i.key=n),C.jsx(tM,{children:`(${G_.toString()})(${JSON.stringify(i)})`})}const iE=Q.memo(function({matchId:t}){var T,M;const e=Ms(),n=es({select:R=>{const L=R.matches.find(N=>N.id===t);return fo(L),{routeId:L.routeId,ssr:L.ssr,_displayPending:L._displayPending}},structuralSharing:!0}),i=e.routesById[n.routeId],r=i.options.pendingComponent??e.options.defaultPendingComponent,l=r?C.jsx(r,{}):null,u=i.options.errorComponent??e.options.defaultErrorComponent,d=i.options.onCatch??e.options.defaultOnCatch,f=i.isRoot?i.options.notFoundComponent??((T=e.options.notFoundRoute)==null?void 0:T.options.component):i.options.notFoundComponent,p=n.ssr===!1||n.ssr==="data-only",g=(!i.isRoot||i.options.wrapInSuspense||p)&&(i.options.wrapInSuspense??r??(((M=i.options.errorComponent)==null?void 0:M.preload)||p))?Q.Suspense:ou,y=u?Iw:ou,w=f?ZR:ou,b=es({select:R=>R.loadedAt}),A=es({select:R=>{var N;const L=R.matches.findIndex(D=>D.id===t);return(N=R.matches[L-1])==null?void 0:N.routeId}}),E=i.isRoot?i.options.shellComponent??ou:ou;return C.jsxs(E,{children:[C.jsx(ty.Provider,{value:t,children:C.jsx(g,{fallback:l,children:C.jsx(y,{getResetKey:()=>b,errorComponent:u||ey,onCatch:(R,L)=>{if(ir(R))throw R;d==null||d(R,L)},children:C.jsx(w,{fallback:R=>{if(!f||R.routeId&&R.routeId!==n.routeId||!R.routeId&&!i.isRoot)throw R;return Q.createElement(f,R)},children:p||n._displayPending?C.jsx(TR,{fallback:l,children:C.jsx(LA,{matchId:t})}):C.jsx(LA,{matchId:t})})})})}),A===Es&&e.options.scrollRestoration?C.jsxs(C.Fragment,{children:[C.jsx(sM,{}),C.jsx(nM,{})]}):null]})});function sM(){const a=Ms(),t=Q.useRef(void 0);return C.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(t.current===void 0||t.current.href!==a.latestLocation.href)&&(a.emit({type:"onRendered",...xc(a.state)}),t.current=a.latestLocation)}},a.latestLocation.state.__TSR_key)}const LA=Q.memo(function({matchId:t}){var d,f,p,g;const e=Ms(),{match:n,key:i,routeId:r}=es({select:y=>{const w=y.matches.find(M=>M.id===t),b=w.routeId,A=e.routesById[b].options.remountDeps??e.options.defaultRemountDeps,E=A==null?void 0:A({routeId:b,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:E?JSON.stringify(E):void 0,routeId:b,match:{id:w.id,status:w.status,error:w.error,_forcePending:w._forcePending,_displayPending:w._displayPending}}},structuralSharing:!0}),l=e.routesById[r],u=Q.useMemo(()=>{const y=l.options.component??e.options.defaultComponent;return y?C.jsx(y,{},i):C.jsx(rE,{})},[i,l.options.component,e.options.defaultComponent]);if(n._displayPending)throw(d=e.getMatch(n.id))==null?void 0:d._nonReactive.displayPendingPromise;if(n._forcePending)throw(f=e.getMatch(n.id))==null?void 0:f._nonReactive.minPendingPromise;if(n.status==="pending"){const y=l.options.pendingMinMs??e.options.defaultPendingMinMs;if(y){const w=e.getMatch(n.id);if(w&&!w._nonReactive.minPendingPromise&&!e.isServer){const b=Bh();w._nonReactive.minPendingPromise=b,setTimeout(()=>{b.resolve(),w._nonReactive.minPendingPromise=void 0},y)}}throw(p=e.getMatch(n.id))==null?void 0:p._nonReactive.loadPromise}if(n.status==="notFound")return fo(ir(n.error)),sE(e,l,n.error);if(n.status==="redirected")throw fo(er(n.error)),(g=e.getMatch(n.id))==null?void 0:g._nonReactive.loadPromise;if(n.status==="error"){if(e.isServer){const y=(l.options.errorComponent??e.options.defaultErrorComponent)||ey;return C.jsx(y,{error:n.error,reset:void 0,info:{componentStack:""}})}throw n.error}return u}),rE=Q.memo(function(){const t=Ms(),e=Q.useContext(ty),n=es({select:f=>{var p;return(p=f.matches.find(g=>g.id===e))==null?void 0:p.routeId}}),i=t.routesById[n],r=es({select:f=>{const g=f.matches.find(y=>y.id===e);return fo(g),g.globalNotFound}}),l=es({select:f=>{var y;const p=f.matches,g=p.findIndex(w=>w.id===e);return(y=p[g+1])==null?void 0:y.id}}),u=t.options.defaultPendingComponent?C.jsx(t.options.defaultPendingComponent,{}):null;if(r)return sE(t,i,void 0);if(!l)return null;const d=C.jsx(iE,{matchId:l});return e===Es?C.jsx(Q.Suspense,{fallback:u,children:d}):d});function iM(){const a=Ms(),t=a.options.defaultPendingComponent?C.jsx(a.options.defaultPendingComponent,{}):null,e=a.isServer||typeof document<"u"&&a.ssr?ou:Q.Suspense,n=C.jsxs(e,{fallback:t,children:[!a.isServer&&C.jsx(JR,{}),C.jsx(rM,{})]});return a.options.InnerWrap?C.jsx(a.options.InnerWrap,{children:n}):n}function rM(){const a=Ms(),t=es({select:i=>{var r;return(r=i.matches[0])==null?void 0:r.id}}),e=es({select:i=>i.loadedAt}),n=t?C.jsx(iE,{matchId:t}):null;return C.jsx(ty.Provider,{value:t,children:a.options.disableGlobalCatchBoundary?n:C.jsx(Iw,{getResetKey:()=>e,errorComponent:ey,onCatch:i=>{i.message||i.toString()},children:n})})}const oM=a=>new aM(a);class aM extends SR{constructor(t){super(t)}}typeof globalThis<"u"?(globalThis.createFileRoute=TA,globalThis.createLazyFileRoute=MA):typeof window<"u"&&(window.createFileRoute=TA,window.createLazyFileRoute=MA);function lM({router:a,children:t,...e}){Object.keys(e).length>0&&a.update({...a.options,...e,context:{...a.options.context,...e.context}});const n=tE(),i=C.jsx(n.Provider,{value:a,children:t});return a.options.Wrap?C.jsx(a.options.Wrap,{children:i}):i}function cM({router:a,...t}){return C.jsx(lM,{router:a,...t,children:C.jsx(iM,{})})}const oE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23000000'%20d='M253.8%2015.56l-79.9%2084.11%202.3%2058.83%2050.6%2036.2%2031.9%20182%2010.8-26.9%2011.8-235.4%2018.7%201-9.1%20181%2028.3-70.8%208.2-108%20.9-17.93zm139%2050.57l-46.6%2050.77-3.9%2051.1%2010.6-26.2%2030.4-13.7c3.2-20.6%206.3-41.3%209.5-61.97zm60.3%2051.17l-85.7%2038.4-102.6%20255.9%2014.6%2083.3h7.8l147.6-293.1%2016.7%208.4-143.4%20284.7h24.4l146.6-291.8zm-340.2%2018.9l-54.11%2099.1%2069.11%20259.6h93.6l-51.1-274.8%2018.3-3.4%2051.8%20278.2h19.9l-50.7-289.4zm358.3%20260.4l-65.8-5.2-49.8%2099.2%2069.8-36.7zm-435.96-28l42.47%20126.7h30.99L80.6%20389.9z'/%3e%3c/svg%3e",uM=({onClick:a})=>C.jsx("button",{className:"launch-button-mobile",onClick:a,children:C.jsx("img",{src:oE,alt:"Launch",className:"launch-icon"})}),aE=Q.createContext(void 0),lE=Q.createContext(void 0),Mc=()=>{const a=Q.useContext(aE);if(a!==void 0)return a;const t=Q.useContext(lE);if(t===void 0)throw new Error("useWindowContext must be used within a WindowManager or AppManager provider");return t},cE=Q.forwardRef((a,t)=>{const{toggleLauncherVisibility:e}=Mc(),n=i=>{i.stopPropagation(),i.preventDefault()};return C.jsx("div",{ref:t,className:"navigation-bar",onContextMenu:n,children:C.jsx(uM,{onClick:e})})});cE.displayName="NavigationBar";const hM=()=>{const{launchApp:a}=Mc(),t=Q.useRef(!1);return Q.useEffect(()=>{if(t.current)return;const e=window.setTimeout(()=>{t.current=!0,a("welcome-center")},1e3);return()=>{window.clearTimeout(e)}},[a]),C.jsx("div",{className:"mobile-desktop"})},dM=()=>C.jsx("div",{className:"notepad",children:C.jsx("textarea",{className:"text-input"})}),fM="https://obinnanwachukwu.com/assets/IconNotepad-crXpcaNS.svg",pM="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='64'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20height='64'%20viewBox='0%200%2032%2032'%20xmlnsXlink='http://www.w3.org/1999/xlink'%20xmlnsInkscape='http://www.inkscape.org/namespaces/inkscape'%3e%3cdefs%20id='defs5455'%3e%3clinearGradient%20inkscapeCollect='always'%20xlinkHref='%23linearGradient4303-6'%20id='linearGradient4643-8'%20y1='543.79797'%20y2='502.65509'%20gradientUnits='userSpaceOnUse'%20x2='0'%20gradientTransform='matrix(0.66666726%200%200%200.63518419%20128.19014%20198.51873)'/%3e%3clinearGradient%20inkscapeCollect='always'%20id='linearGradient4303-6'%3e%3cstop%20style='stop-color:%23c6cdd1'%20id='stop4305-7'/%3e%3cstop%20offset='1'%20style='stop-color:%23e0e5e7'%20id='stop4307-0'/%3e%3c/linearGradient%3e%3clinearGradient%20inkscapeCollect='always'%20xlinkHref='%23linearGradient4293'%20id='linearGradient4183'%20y1='525.79797'%20x1='391.57144'%20y2='540.79797'%20x2='406.57147'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1%200%200%201%20-0.000007%200.000029)'/%3e%3clinearGradient%20inkscapeCollect='always'%20id='linearGradient4293'%3e%3cstop%20id='stop4295'/%3e%3cstop%20offset='1'%20style='stop-opacity:0'%20id='stop4297'/%3e%3c/linearGradient%3e%3clinearGradient%20inkscapeCollect='always'%20xlinkHref='%23linearGradient4303-6'%20id='linearGradient4643-8-6'%20y1='543.79797'%20y2='502.65509'%20gradientUnits='userSpaceOnUse'%20x2='0'%20gradientTransform='matrix(0.47916688%200%200%200.40833329%20207.29745%20318.54647)'/%3e%3clinearGradient%20id='linearGradient4227'%3e%3cstop%20style='stop-color:%232e3436'%20id='stop4229'/%3e%3cstop%20offset='1'%20style='stop-color:%23555753'%20id='stop4231'/%3e%3c/linearGradient%3e%3clinearGradient%20inkscapeCollect='always'%20xlinkHref='%23linearGradient4293'%20id='linearGradient4247'%20y1='10'%20x1='10'%20y2='30'%20x2='30'%20gradientUnits='userSpaceOnUse'/%3e%3c/defs%3e%3cmetadata%20id='metadata5458'/%3e%3cg%20inkscapeLabel='Capa%201'%20inkscapeGroupmode='layer'%20id='layer1'%20transform='matrix(1%200%200%201%20-384.57143%20-515.798)'%3e%3crect%20width='32'%20x='384.57144'%20y='517.79797'%20rx='0'%20height='28'%20style='fill:url(%23linearGradient4643-8)'%20id='rect4641-5'/%3e%3cpath%20inkscapeConnector-curvature='0'%20style='fill:url(%23linearGradient4183);opacity:0.2;fill-rule:evenodd'%20id='path4167'%20d='m%20385.57142,543.79803%2030,-20%201.00001,1%20-1e-5,20.99997%20-29,3e-5%20z'/%3e%3crect%20width='32.00001'%20x='384.57141'%20y='517.79797'%20height='4'%20style='fill:%23566069'%20id='rect4647-8'/%3e%3crect%20width='31.999968'%20x='384.57141'%20y='521.79797'%20height='1'%20style='fill:%233daee9'%20id='rect4649-8'/%3e%3crect%20width='30'%20x='385.57141'%20y='523.79797'%20height='20.00003'%20style='fill:%23ffffff'%20id='rect4653-5'/%3e%3crect%20width='2'%20x='413.57141'%20y='518.79797'%20rx='1'%20height='2'%20style='fill:%23eff0f1'%20id='rect4661-1'/%3e%3crect%20width='17'%20x='394.57144'%20y='528.79797'%20rx='0'%20height='13.00003'%20style='fill:url(%23linearGradient4643-8-6)'%20id='rect4641-5-2'/%3e%3crect%20width='16.999989'%20x='394.57144'%20y='525.79773'%20height='4'%20style='fill:%23566069'%20id='rect4647-8-5'/%3e%3crect%20width='16.999989'%20x='394.57144'%20y='529.79773'%20height='1'%20style='fill:%233daee9'%20id='rect4649-8-9'/%3e%3crect%20width='15.00001'%20x='395.57144'%20y='531.79797'%20height='8.0001'%20style='fill:%23ffffff'%20id='rect4653-5-8'/%3e%3crect%20width='1.999998'%20x='408.57141'%20y='526.79773'%20rx='0.999999'%20height='2'%20ry='1'%20style='fill:%23eff0f1'%20id='rect4661-1-1'/%3e%3cpath%20style='fill:url(%23linearGradient4247);opacity:0.2;fill-rule:evenodd'%20id='path4236'%20d='M%2027%2010%20L%2027%2026%20L%2010%2026%20L%2014%2030%20L%2031%2030%20L%2032%2030%20L%2032%2015%20L%2027%2010%20z%20'%20transform='matrix(1%200%200%201%20384.57143%20515.798)'/%3e%3c/g%3e%3c/svg%3e",mM="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20version='1.1'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20xmlnsCc='http://creativecommons.org/ns%23'%20xmlnsDc='http://purl.org/dc/elements/1.1/'%20xmlnsRdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='406.5'%20x2='419.97'%20y1='527.01'%20y2='539.83'%20gradientTransform='matrix(1.2998%200%200%201.2998%20-499.07%20339.53)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23292c2f'%20offset='0'/%3e%3cstop%20stop-opacity='0'%20offset='1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20x1='36.313'%20x2='17.848'%20y1='45.539'%20y2='11.687'%20gradientTransform='matrix(1.2998%200%200%201.2998%20.80078%20989.17)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23bfc9c9'%20offset='0'/%3e%3cstop%20stop-color='%23fbfbfb'%20offset='1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='428.82'%20x2='388.86'%20y1='547.63'%20y2='499.68'%20gradientTransform='matrix(1.2998%200%200%201.2998%20-499.07%20339.53)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232a2c2f'%20offset='0'/%3e%3cstop%20stop-color='%23536161'%20offset='1'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='translate(0%20-988.36)'%3e%3crect%20x='6'%20y='994.37'%20width='51.992'%20height='51.992'%20rx='.99221'%20ry='.9922'%20fill='url(%23c)'/%3e%3cpath%20d='m27.335%201007.4-1.8379%201.838%2011.16%2011.16-11.16%2011.16%201.8379%201.8379%2012.998-12.998-1.8379-1.8379z'%20fill='url(%23b)'/%3e%3cpath%20d='m27.343%201033.4%2012.46%2012.46h18.197v-7.7988l-17.659-17.659z'%20fill='url(%23a)'%20fill-rule='evenodd'%20opacity='.4'/%3e%3cpath%20transform='translate(0%20988.36)'%20d='m6.9922%206.0078c-0.54969%200-0.99219%200.44251-0.99219%200.99219v1c0-0.54968%200.4425-0.99219%200.99219-0.99219h50.008c0.54969%200%200.99219%200.44251%200.99219%200.99219v-1c0-0.54968-0.4425-0.99219-0.99219-0.99219h-50.008z'%20color='%23000000'%20color-rendering='auto'%20fill='%23fff'%20image-rendering='auto'%20opacity='.3'%20shape-rendering='auto'%20solid-color='%23000000'%20style='filter-blend-mode:normal;filter-gaussianBlur-deviation:0;isolation:auto;mix-blend-mode:normal'/%3e%3cpath%20d='m6.9922%201046.4c-0.54969%200-0.99219-0.4425-0.99219-0.9922v-1c0%200.5497%200.4425%200.9922%200.99219%200.9922h50.008c0.54969%200%200.99219-0.4425%200.99219-0.9922v1c0%200.5497-0.4425%200.9922-0.99219%200.9922h-50.008z'%20color='%23000000'%20color-rendering='auto'%20image-rendering='auto'%20opacity='.3'%20shape-rendering='auto'%20solid-color='%23000000'%20style='filter-blend-mode:normal;filter-gaussianBlur-deviation:0;isolation:auto;mix-blend-mode:normal'/%3e%3c/g%3e%3c/svg%3e",uE=Q.createContext(void 0),$w=()=>{const a=Q.useContext(uE);if(!a)throw new Error("useDeviceContext must be used within a DeviceProvider");return a},NA=()=>window.innerWidth<=768||window.innerHeight<=800,gM=({children:a})=>{const[t,e]=Q.useState(NA()),[n,i]=Q.useState({width:window.innerWidth,height:window.innerHeight});Q.useEffect(()=>{const l=()=>{e(NA()),i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]);const r=Q.useMemo(()=>({isMobile:t,windowSize:n}),[t,n]);return C.jsx(uE.Provider,{value:r,children:a})},hE=()=>C.jsxs("div",{className:"loading-screen",children:[C.jsx("div",{className:"spinner"}),C.jsx("p",{children:"Fetching Resources"})]}),H1="data:image/svg+xml,%3csvg%20width='64'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%20height='64'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3clinearGradient%20id='a'%20y1='392.36'%20y2='336.36'%20x2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(-14-332.36)'%3e%3cstop%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23ffffff'%20stop-opacity='.15'/%3e%3c/linearGradient%3e%3cpath%20color-rendering='auto'%20color-interpolation-filters='linearRGB'%20shape-rendering='auto'%20image-rendering='auto'%20text-rendering='auto'%20id='b'%20color-interpolation='sRGB'%20color='%23000000'%20d='m10%203v58h44v-58h-14z'/%3e%3c/defs%3e%3cuse%20fill='%23da2c2c'%20xlink:href='%23b'/%3e%3cg%20color-rendering='auto'%20color-interpolation-filters='linearRGB'%20shape-rendering='auto'%20image-rendering='auto'%20text-rendering='auto'%20color-interpolation='sRGB'%20color='%23000000'%3e%3crect%20opacity='.25'%20x='10'%20y='60'%20width='44'%20height='1'/%3e%3cg%20fill='%23ffffff'%3e%3crect%20opacity='.5'%20x='10'%20y='3'%20width='44'%20height='1'/%3e%3cpath%20opacity='.8'%20d='m26.301%2017.981c-.363.013-.752.11-1.179.293-3.813%201.629-1%205.371%203.856%208.793.029-.656.047-1.298.04-1.913-4.147-2.838-5.763-5.656-3.768-6.321%202.139-.885%203.718%201.737%203.768%206.321.26.177.521.351.794.53-.101-4.172-1.016-7.444-3.151-7.685-.114-.013-.239-.02-.36-.016m3.511%207.701l-.497-.788-.631.544-.132.828.832%201.569.418-.201c2.797%201.864%206.138%203.581%209.273%204.76l.931.542%201.287.031c1.186-.703.479-.962%204.789-1.495l-4.856.369c-3.746-1.45-7.94-3.887-11.417-6.159m9.343%206.692c.562.045%204.52-.647%206.264-.815.667-.087%203.31-.277%203.444%201.67.456-1.061-.23-2.066-1.71-2.381-2.287-.512-6.693%201.103-7.998%201.526m2.526-.492c-.68.244-1.828.219-2.562.517%201.041.533%206.371%201.947%208.528%201.542.345-.054%201.289-.316%201.325-1.076-1.728%201.201-6.498.358-7.291-.982m1.421.022c-.559-.179-3.444.709-4.02.49-3.547%201.182-7.432%202.883-10.591%204.698l-.915.181-.707%201.262-.949%201.235%201.07%201.065.837-1.374c3.699-2.218%2011.01-5.83%2015.277-7.56m-15.277%207.56c-.452.271-.884.539-1.293.799-.474%201.345-1.84%204.302-2.778%204.211%200%200-.172.143-.446.371%201.441.828%203.335-1.76%204.518-5.381m-4.072%205.01c-2.488-1.468%201.599-3.621%202.778-4.211.266-.759.517-1.582.754-2.46-3.715%202.312-6.04%204.709-4.796%206.293.3.383.539.659.816.748m3.979-7.04c.385-.239.79-.474%201.204-.712.732-2.952%201.217-6.347%201.318-9.458-.282-.188-.557-.378-.826-.568-.157%203.502-.808%207.457-1.694%2010.738'/%3e%3c/g%3e%3c/g%3e%3crect%20width='1'%20x='16'%20y='4'%20fill='%23ffffff'%20height='56'%20fill-opacity='.252'/%3e%3crect%20color-interpolation-filters='linearRGB'%20x='17'%20y='4'%20fill-opacity='.083'%20color='%23000000'%20image-rendering='auto'%20color-rendering='auto'%20width='1'%20color-interpolation='sRGB'%20text-rendering='auto'%20height='56'%20shape-rendering='auto'/%3e%3cuse%20fill='url(%23a)'%20xlink:href='%23b'/%3e%3c/svg%3e",G1="data:image/svg+xml,%3csvg%20width='48'%20xmlns='http://www.w3.org/2000/svg'%20height='48'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3clinearGradient%20id='a'%20y1='543.8'%20y2='513.8'%20x2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.125%200%200%201-51.07%200)'%3e%3cstop%20stop-color='%23197cf1'/%3e%3cstop%20offset='1'%20stop-color='%2320bcfa'/%3e%3c/linearGradient%3e%3clinearGradient%20xlink:href='%23a'%20id='b'%20y1='44'%20y2='11'%20x2='0'%20gradientUnits='userSpaceOnUse'/%3e%3clinearGradient%20id='c'%20y1='10'%20y2='14'%20x2='0'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231d1e1e'/%3e%3cstop%20offset='1'%20stop-color='%2344484c'/%3e%3c/linearGradient%3e%3clinearGradient%20xlink:href='%23a'%20id='d'%20y1='14'%20y2='10'%20gradientUnits='userSpaceOnUse'%20x2='0'/%3e%3clinearGradient%20xlink:href='%23a'%20id='e'%20y1='516.8'%20y2='503.8'%20x2='0'%20gradientUnits='userSpaceOnUse'/%3e%3clinearGradient%20id='f'%20y1='18'%20y2='15'%20x2='0'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23c6cdd1'/%3e%3cstop%20offset='1'%20stop-color='%23e0e5e7'/%3e%3c/linearGradient%3e%3clinearGradient%20xlink:href='%23f'%20id='g'%20y1='517.8'%20y2='514.8'%20x2='0'%20gradientUnits='userSpaceOnUse'/%3e%3clinearGradient%20id='h'%20y1='19'%20y2='3'%20x2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='translate(0-2)'%3e%3cstop%20stop-color='%237cbaf8'/%3e%3cstop%20offset='1'%20stop-color='%23f4fcff'/%3e%3c/linearGradient%3e%3clinearGradient%20id='i'%20y1='23'%20x1='16'%20y2='39'%20x2='32'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23292c2f'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='translate(-384.57-499.8)'%3e%3cpath%20fill='url(%23b)'%20fill-rule='evenodd'%20d='m9%2011v2l1-1zm30%200l-1%201%201%201z'%20transform='translate(384.57%20499.8)'/%3e%3crect%20width='36'%20x='390.57'%20y='513.8'%20fill='url(%23a)'%20rx='0'%20height='30'/%3e%3cpath%20opacity='.2'%20fill='url(%23i)'%20d='m20.707%2023.293l-1.414%201.414%208%208-.293.293%2011%2011h4v-6l-10-10-3.293%203.293zm-2.146%206.146l-2.121%202.121%205.5%205.5-1.354%201.354%205.586%205.586h6.951z'%20transform='translate(384.57%20499.8)'/%3e%3crect%20width='36'%20x='390.57'%20y='542.8'%20fill='%231c5593'%20height='1'/%3e%3cpath%20fill-rule='evenodd'%20fill='url(%23d)'%20d='m10%2010l-1%201%201%201-4%202h36l-4-2%201-1-1-1h-14z'%20transform='translate(384.57%20499.8)'/%3e%3cpath%20fill-rule='evenodd'%20d='m10%2010l-1%201%201%201-4%202h36l-4-2%201-1-1-1h-14z'%20opacity='.6'%20fill='url(%23c)'%20transform='translate(384.57%20499.8)'/%3e%3cpath%20opacity='.2'%20d='m10%2010l-1%201h30l-1-1h-14z'%20transform='translate(384.57%20499.8)'/%3e%3cpath%20fill='url(%23e)'%20d='m400.57%20516.8v-5c0-4.432%203.568-8%208-8%204.432%200%208%203.568%208%208v5h-1v-5c0-3.878-3.122-7-7-7-3.878%200-7%203.122-7%207v5z'/%3e%3cpath%20fill='url(%23g)'%20d='m401.07143%20514.798a1.5%201.5%200%200%201%201.5%201.5%201.5%201.5%200%200%201%20-1.5%201.5%201.5%201.5%200%200%201%20-1.5%20-1.5%201.5%201.5%200%200%201%201.5%20-1.5m0%201a.5%20.5%200%200%200%20-.5%20.5%20.5%20.5%200%200%200%20.5%20.5%20.5%20.5%200%200%200%20.5%20-.5%20.5%20.5%200%200%200%20-.5%20-.5'/%3e%3cpath%20fill='url(%23f)'%20d='M31.5%2015A1.5%201.5%200%200%200%2030%2016.5%201.5%201.5%200%200%200%2031.5%2018%201.5%201.5%200%200%200%2033%2016.5%201.5%201.5%200%200%200%2031.5%2015M31.5%2016A.5%20.5%200%200%201%2032%2016.5%20.5%20.5%200%200%201%2031.5%2017%20.5%20.5%200%200%201%2031%2016.5%20.5%20.5%200%200%201%2031.5%2016'%20transform='translate(384.57%20499.8)'/%3e%3cpath%20fill='url(%23h)'%20d='m7%203c-.554%200-1%20.446-1%201%200%20.554.446%201%201%201%20.554%200%201-.446%201-1%200-.554-.446-1-1-1m7%200l-2%202%203%203-3%203%202%202%205-5zm-9.5%206c-.831%200-1.5.669-1.5%201.5%200%20.831.669%201.5%201.5%201.5.831%200%201.5-.669%201.5-1.5%200-.831-.669-1.5-1.5-1.5m4.5%206c-1.108%200-2%20.892-2%202%200%201.108.892%202%202%202%201.108%200%202-.892%202-2%200-1.108-.892-2-2-2'%20transform='translate(397.57%20519.8)'/%3e%3c/g%3e%3c/svg%3e",W1="data:image/svg+xml,%3csvg%20width='48'%20xmlns='http://www.w3.org/2000/svg'%20height='48'%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='543.8'%20x2='503.8'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(0%201-1.16667%200-452.67-499.8)'%3e%3cstop%20stop-color='%23197cf1'/%3e%3cstop%20offset='1'%20stop-color='%2321c9fb'/%3e%3c/linearGradient%3e%3clinearGradient%20id='b'%20y1='547.8'%20x1='384.57'%20y2='530.48'%20x2='394.57'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23ffffff'%20stop-opacity='.314'/%3e%3c/linearGradient%3e%3clinearGradient%20id='c'%20x1='384.57'%20x2='414.57'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-opacity='.275'/%3e%3cstop%20offset='1'%20stop-color='%23ffffff'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='d'%20y1='547.8'%20x1='432.57'%20y2='527.8'%20x2='421.02'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-opacity='.082'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='e'%20y1='44'%20y2='20'%20x2='0'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23eef1f2'/%3e%3cstop%20offset='1'%20stop-color='%23f9fafb'/%3e%3c/linearGradient%3e%3clinearGradient%20id='f'%20y1='523.8'%20y2='507.8'%20gradientUnits='userSpaceOnUse'%20x2='0'%20gradientTransform='translate(0%204)'%3e%3cstop%20stop-color='%237cbaf8'/%3e%3cstop%20offset='1'%20stop-color='%23f4fcff'/%3e%3c/linearGradient%3e%3clinearGradient%20id='g'%20y1='511.8'%20x1='414.57'%20y2='519.8'%20x2='422.57'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23292c2f'/%3e%3cstop%20offset='1'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='translate(-384.57-499.8)'%3e%3cg%20transform='translate(384.57%20499.8)'%3e%3cpath%20fill='%23c8cfd3'%20fill-rule='evenodd'%20d='m24%208l-20%2012%2020%2015%2020-15z'/%3e%3cpath%20fill='url(%23a)'%20d='m10%204v40h28v-32l-8-8z'/%3e%3cpath%20fill='url(%23e)'%20d='m4%2020v24h40v-24l-16%2012h-8z'/%3e%3c/g%3e%3cg%20fill-rule='evenodd'%3e%3cpath%20fill='url(%23c)'%20d='m388.57%20543.8l16-12h8l16%2012z'/%3e%3cpath%20fill='url(%23d)'%20d='m428.57%20543.8l-16-12%2016-12z'/%3e%3cpath%20fill='url(%23b)'%20d='m388.57%20543.8l16-12-16-12z'/%3e%3c/g%3e%3crect%20width='40'%20x='388.57'%20y='542.8'%20fill='%23d1d3d4'%20height='1'/%3e%3cpath%20fill='url(%23f)'%20d='m404.57%20511.8c-.554%200-1%20.446-1%201%200%20.554.446%201%201%201%20.554%200%201-.446%201-1%200-.554-.446-1-1-1m7%200l-2%202%203%203-3%203%202%202%205-5zm-9.5%206c-.831%200-1.5.669-1.5%201.5%200%20.831.669%201.5%201.5%201.5.831%200%201.5-.669%201.5-1.5%200-.831-.669-1.5-1.5-1.5m4.5%206c-1.108%200-2%20.892-2%202%200%201.108.892%202%202%202%201.108%200%202-.892%202-2%200-1.108-.892-2-2-2'/%3e%3cg%20fill-rule='evenodd'%3e%3cpath%20fill='%23313437'%20d='m422.57%20511.8h-8v-8z'/%3e%3cpath%20opacity='.2'%20fill='url(%23g)'%20d='m414.57%20511.8h8v8z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",yM="https://obinnanwachukwu.com/assets/logo192-BoNx5Lba.png",vM=()=>{const{launchApp:a}=Mc(),{isMobile:t}=$w(),[e,n]=Q.useState(!0),[i,r]=Q.useState("");return Q.useEffect(()=>{let l=!0;return fetch("https://obinnanwachukwu.com/projects/status.json",{cache:"no-cache"}).then(u=>u.json()).then(u=>{l&&(r(u.working_status??""),n(!1))}).catch(u=>{console.error("Error loading working status:",u),l&&n(!1)}),()=>{l=!1}},[]),C.jsx("div",{className:t?"welcome-container-mobile":"welcome-container",children:e?C.jsx(hE,{}):C.jsxs("div",{children:[C.jsxs("div",{className:"welcome-header-section",children:[C.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[C.jsx("img",{src:yM,width:80,style:{filter:"drop-shadow(0px 0px 5px rgba(34, 34, 34, 0.2))"},alt:"Onyx Logo"}),C.jsx("h1",{className:"welcome-header",children:"The Onyx Environment"})]}),C.jsxs("p",{className:"welcome-subheader",children:["Hi, I'm ",C.jsx("strong",{children:"Obinna Nwachukwu"}),", a Computer Science major at Georgia Tech. This is ",C.jsx("strong",{children:"Onyx"})," - an environment to showcase my projects and experience. Select an option below."]})]}),t?C.jsxs("div",{className:"welcome-action-section-mobile",children:[C.jsxs("div",{className:"welcome-card-mobile",onClick:()=>a("appcenter"),children:[C.jsx("img",{src:G1,className:"welcome-card-icon-mobile",alt:"Projects"}),C.jsxs("div",{className:"welcome-card-text-mobile",children:[C.jsx("h3",{children:"Projects"}),C.jsx("p",{children:"My projects and collaborations"})]})]}),C.jsxs("div",{className:"welcome-card-mobile",onClick:()=>a("resume"),children:[C.jsx("img",{src:H1,className:"welcome-card-icon-mobile",alt:"Resume"}),C.jsxs("div",{className:"welcome-card-text-mobile",children:[C.jsx("h3",{children:"Resume"}),C.jsx("p",{children:"My detailed education and experiences"})]})]}),C.jsxs("div",{className:"welcome-card-mobile",onClick:()=>a("contactme"),children:[C.jsx("img",{src:W1,className:"welcome-card-icon-mobile",alt:"Contact"}),C.jsxs("div",{className:"welcome-card-text-mobile",children:[C.jsx("h3",{children:"Contact"}),C.jsx("p",{children:"Reach out to collaborate or connect!"})]})]})]}):C.jsxs("div",{className:"welcome-action-section",children:[C.jsxs("div",{className:"welcome-card",onClick:()=>a("appcenter"),children:[C.jsx("img",{src:G1,className:"welcome-card-icon",alt:"Projects"}),C.jsxs("div",{className:"welcome-card-text",children:[C.jsx("h3",{children:"Projects"}),C.jsx("p",{children:"My projects and collaborations"})]})]}),C.jsxs("div",{className:"welcome-card",onClick:()=>a("resume"),children:[C.jsx("img",{src:H1,className:"welcome-card-icon",alt:"Resume"}),C.jsxs("div",{className:"welcome-card-text",children:[C.jsx("h3",{children:"Resume"}),C.jsx("p",{children:"My detailed education and experiences"})]})]}),C.jsxs("div",{className:"welcome-card",onClick:()=>a("contactme"),children:[C.jsx("img",{src:W1,className:"welcome-card-icon",alt:"Contact"}),C.jsxs("div",{className:"welcome-card-text",children:[C.jsx("h3",{children:"Contact"}),C.jsx("p",{children:"Reach out to collaborate or connect"})]})]})]}),C.jsxs("div",{className:"welcome-current-focus",children:[C.jsx("h3",{className:"welcome-section-header",children:"What I'm Working On"}),C.jsx("p",{className:"welcome-focus-text",children:i})]}),C.jsxs("footer",{className:"welcome-footer",children:[C.jsx("p",{className:"welcome-footer-text",children:"Attributions: Symbol icons from FontAwesome, stylized icons from KDE breeze-icons, crystal icon from SVGRepo, background from Unsplash"}),t?C.jsx("p",{className:"welcome-footer-text",children:"Need help? Click the crystal icon at the bottom of the screen to get started!"}):C.jsx("p",{className:"welcome-footer-text",children:"Need help? Click the crystal icon at the bottom left of the screen or drag and resize windows for a real desktop feel!"})]})]})})},vr=a=>{const[t,e]=Q.useState(a),[n,i]=Q.useState(!1),r=Q.useCallback(d=>{n||e(f=>typeof d=="function"?d(f):d)},[n]),l=Q.useCallback(()=>i(!0),[]),u=Q.useCallback(()=>i(!1),[]);return[t,r,l,u]},iu={name:"Onyx",version_major:"1",version_minor:"0",release_channel:"stable"},m0="data-theme",dE="theme-preference",wM=()=>{var a;return((a=window.matchMedia)==null?void 0:a.call(window,"(prefers-color-scheme: dark)").matches)??!1};function SM(){const t=document.documentElement.getAttribute(m0)==="dark"?"light":"dark";document.documentElement.setAttribute(m0,t),localStorage.setItem(dE,t)}const xM=()=>{const a=localStorage.getItem(dE);a?document.documentElement.setAttribute(m0,a):wM()&&document.documentElement.setAttribute(m0,"dark")},bM=()=>{const a=Q.useRef(null),[t,e]=vr(""),[n,i]=vr(!1),[r,l]=vr(""),[u,d]=vr("");vr("~");const[f,p]=vr(0),[g,y]=vr(0),[w,b]=vr("█"),[A]=vr(!0),E=[];let T=!1;const M=async()=>{if(!T){for(T=!0;E.length>0;){const{str:$,resolve:F}=E.shift();await new Promise(J=>{e(oe=>{const ce=oe.slice(0,oe.length)+`
`+$;return p(ce.length),y(ce.length),J(ce),ce})}),F()}T=!1}},R=$=>new Promise(F=>{b("█"),E.push({str:$,resolve:F}),M()});Q.useEffect(()=>{(async()=>{try{if(!n){e(`Terminal application starting...
`);const J=await(await fetch("https://api.ipify.org?format=json")).json();l(J.ip);const oe="root@"+J.ip+":~$ ",ce=iu.name+" Environment v"+iu.version_major+"."+iu.version_minor+`

root@`+J.ip+":~$ ";d(oe),e(ce),p(ce.length),y(ce.length),a.current.focus(),i(!0)}}catch(F){console.log(F)}})()},[n]);const L=$=>{y(F=>F>=f?(e(J=>J.slice(0,F)+$+J.slice(F,J.length)),F+$.length):F)},N=()=>{B()!==""&&(b("│"),y($=>$-1>=f?$-1:$))},D=()=>{y($=>$+1<=t.length?($+1==t.length?b("█"):b("│"),$+1):$)},B=()=>t.slice(f,t.length);Q.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t]);const X=$=>{a.current&&($.key==="Enter"?($.preventDefault(),ee(B())):$.ctrlKey?$.key==="c"&&($.preventDefault(),R(`[^C] Terminated
`)):$.key==="Backspace"?($.preventDefault(),g-1>=f&&y(J=>(e(oe=>oe.slice(0,J-1)+oe.slice(J,oe.length)),J-1))):$.key==="ArrowLeft"?($.preventDefault(),N()):$.key==="ArrowRight"?($.preventDefault(),D()):$.key==="Shift"||$.key==="Alt"||$.key==="Meta"?$.preventDefault():($.preventDefault(),L($.key)))},ee=async $=>{if($!==""){const F=$.split(" ");switch(F[0]){case"help":await R(`List of commands:
'help' - Shows this page
'ip' - Prints your IP address to the console
'version'- Prints the version of the environemnt to the console
'toggleTheme' - Changes the color scheme of the system`);break;case"ip":await R(r);break;case"version":await R(iu.name+" Environment v"+iu.version_major+"."+iu.version_minor);break;case"toggleTheme":SM(),await R("Theme changed");break;default:await R('"'+F[0]+'" - bad command or file name')}}await R(u)};return C.jsx("div",{className:"terminal",children:C.jsx("textarea",{className:"terminal-input",ref:a,value:t,onKeyDown:X,onChange:$=>e($.target.value),spellCheck:!1,autoCorrect:"false",autoComplete:"false",readOnly:!A})})},AM=()=>C.jsx("div",{className:"resume",children:C.jsx("object",{data:"/resume.pdf",type:"application/pdf",width:"100%",height:"100%"})}),IA=()=>{};let Uw={},fE={},pE=null,mE={mark:IA,measure:IA};try{typeof window<"u"&&(Uw=window),typeof document<"u"&&(fE=document),typeof MutationObserver<"u"&&(pE=MutationObserver),typeof performance<"u"&&(mE=performance)}catch{}const{userAgent:DA=""}=Uw.navigator||{},Ba=Uw,ut=fE,OA=pE,vg=mE;Ba.document;const vo=!!ut.documentElement&&!!ut.head&&typeof ut.addEventListener=="function"&&typeof ut.createElement=="function",gE=~DA.indexOf("MSIE")||~DA.indexOf("Trident/");var yt="classic",yE="duotone",Ts="sharp",Ps="sharp-duotone",_M=[yt,yE,Ts,Ps],EM={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},FA={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},CM=["kit"],kM=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,TM=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,PM={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},RM={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},MM={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},LM={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},NM={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},IM={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},vE={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},DM=["solid","regular","light","thin","duotone","brands"],wE=[1,2,3,4,5,6,7,8,9,10],OM=wE.concat([11,12,13,14,15,16,17,18,19,20]),Bd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},FM=[...Object.keys(LM),...DM,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Bd.GROUP,Bd.SWAP_OPACITY,Bd.PRIMARY,Bd.SECONDARY].concat(wE.map(a=>"".concat(a,"x"))).concat(OM.map(a=>"w-".concat(a))),jM={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},BM={kit:{"fa-kit":"fak"}},zM={kit:{fak:"fa-kit"}},jA={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const po="___FONT_AWESOME___",V1=16,SE="fa",xE="svg-inline--fa",Ec="data-fa-i2svg",X1="data-fa-pseudo-element",$M="data-fa-pseudo-element-pending",Hw="data-prefix",Gw="data-icon",BA="fontawesome-i2svg",UM="async",HM=["HTML","HEAD","STYLE","SCRIPT"],bE=(()=>{try{return!0}catch{return!1}})(),AE=[yt,Ts,Ps];function Kp(a){return new Proxy(a,{get(t,e){return e in t?t[e]:t[yt]}})}const _E={...vE};_E[yt]={...vE[yt],...FA.kit,...FA["kit-duotone"]};const bc=Kp(_E),Y1={...IM};Y1[yt]={...Y1[yt],...jA.kit,...jA["kit-duotone"]};const ff=Kp(Y1),q1={...NM};q1[yt]={...q1[yt],...zM.kit};const Ac=Kp(q1),K1={...MM};K1[yt]={...K1[yt],...BM.kit};const GM=Kp(K1),WM=kM,EE="fa-layers-text",VM=TM,XM={...EM};Kp(XM);const YM=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],w1=Bd,Uh=new Set;Object.keys(ff[yt]).map(Uh.add.bind(Uh));Object.keys(ff[Ts]).map(Uh.add.bind(Uh));Object.keys(ff[Ps]).map(Uh.add.bind(Uh));const qM=[...CM,...FM],hf=Ba.FontAwesomeConfig||{};function KM(a){var t=ut.querySelector("script["+a+"]");if(t)return t.getAttribute(a)}function QM(a){return a===""?!0:a==="false"?!1:a==="true"?!0:a}ut&&typeof ut.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[e,n]=t;const i=QM(KM(e));i!=null&&(hf[n]=i)});const CE={styleDefault:"solid",familyDefault:"classic",cssPrefix:SE,replacementClass:xE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};hf.familyPrefix&&(hf.cssPrefix=hf.familyPrefix);const Hh={...CE,...hf};Hh.autoReplaceSvg||(Hh.observeMutations=!1);const Ae={};Object.keys(CE).forEach(a=>{Object.defineProperty(Ae,a,{enumerable:!0,set:function(t){Hh[a]=t,df.forEach(e=>e(Ae))},get:function(){return Hh[a]}})});Object.defineProperty(Ae,"familyPrefix",{enumerable:!0,set:function(a){Hh.cssPrefix=a,df.forEach(t=>t(Ae))},get:function(){return Hh.cssPrefix}});Ba.FontAwesomeConfig=Ae;const df=[];function JM(a){return df.push(a),()=>{df.splice(df.indexOf(a),1)}}const jo=V1,tr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ZM(a){if(!a||!vo)return;const t=ut.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=a;const e=ut.head.childNodes;let n=null;for(let i=e.length-1;i>-1;i--){const r=e[i],l=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(n=r)}return ut.head.insertBefore(t,n),a}const eL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pf(){let a=12,t="";for(;a-- >0;)t+=eL[Math.random()*62|0];return t}function Wh(a){const t=[];for(let e=(a||[]).length>>>0;e--;)t[e]=a[e];return t}function Ww(a){return a.classList?Wh(a.classList):(a.getAttribute("class")||"").split(" ").filter(t=>t)}function kE(a){return"".concat(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tL(a){return Object.keys(a||{}).reduce((t,e)=>t+"".concat(e,'="').concat(kE(a[e]),'" '),"").trim()}function ny(a){return Object.keys(a||{}).reduce((t,e)=>t+"".concat(e,": ").concat(a[e].trim(),";"),"")}function Vw(a){return a.size!==tr.size||a.x!==tr.x||a.y!==tr.y||a.rotate!==tr.rotate||a.flipX||a.flipY}function nL(a){let{transform:t,containerWidth:e,iconWidth:n}=a;const i={transform:"translate(".concat(e/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)"),d={transform:"".concat(r," ").concat(l," ").concat(u)},f={transform:"translate(".concat(n/2*-1," -256)")};return{outer:i,inner:d,path:f}}function sL(a){let{transform:t,width:e=V1,height:n=V1,startCentered:i=!1}=a,r="";return i&&gE?r+="translate(".concat(t.x/jo-e/2,"em, ").concat(t.y/jo-n/2,"em) "):i?r+="translate(calc(-50% + ".concat(t.x/jo,"em), calc(-50% + ").concat(t.y/jo,"em)) "):r+="translate(".concat(t.x/jo,"em, ").concat(t.y/jo,"em) "),r+="scale(".concat(t.size/jo*(t.flipX?-1:1),", ").concat(t.size/jo*(t.flipY?-1:1),") "),r+="rotate(".concat(t.rotate,"deg) "),r}var iL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function TE(){const a=SE,t=xE,e=Ae.cssPrefix,n=Ae.replacementClass;let i=iL;if(e!==a||n!==t){const r=new RegExp("\\.".concat(a,"\\-"),"g"),l=new RegExp("\\--".concat(a,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(r,".".concat(e,"-")).replace(l,"--".concat(e,"-")).replace(u,".".concat(n))}return i}let zA=!1;function S1(){Ae.autoAddCss&&!zA&&(ZM(TE()),zA=!0)}var rL={mixout(){return{dom:{css:TE,insertCss:S1}}},hooks(){return{beforeDOMElementCreation(){S1()},beforeI2svg(){S1()}}}};const mo=Ba||{};mo[po]||(mo[po]={});mo[po].styles||(mo[po].styles={});mo[po].hooks||(mo[po].hooks={});mo[po].shims||(mo[po].shims=[]);var nr=mo[po];const PE=[],RE=function(){ut.removeEventListener("DOMContentLoaded",RE),g0=1,PE.map(a=>a())};let g0=!1;vo&&(g0=(ut.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ut.readyState),g0||ut.addEventListener("DOMContentLoaded",RE));function oL(a){vo&&(g0?setTimeout(a,0):PE.push(a))}function Qp(a){const{tag:t,attributes:e={},children:n=[]}=a;return typeof a=="string"?kE(a):"<".concat(t," ").concat(tL(e),">").concat(n.map(Qp).join(""),"</").concat(t,">")}function $A(a,t,e){if(a&&a[t]&&a[t][e])return{prefix:t,iconName:e,icon:a[t][e]}}var x1=function(t,e,n,i){var r=Object.keys(t),l=r.length,u=e,d,f,p;for(n===void 0?(d=1,p=t[r[0]]):(d=0,p=n);d<l;d++)f=r[d],p=u(p,t[f],f,t);return p};function aL(a){const t=[];let e=0;const n=a.length;for(;e<n;){const i=a.charCodeAt(e++);if(i>=55296&&i<=56319&&e<n){const r=a.charCodeAt(e++);(r&64512)==56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),e--)}else t.push(i)}return t}function Q1(a){const t=aL(a);return t.length===1?t[0].toString(16):null}function lL(a,t){const e=a.length;let n=a.charCodeAt(t),i;return n>=55296&&n<=56319&&e>t+1&&(i=a.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}function UA(a){return Object.keys(a).reduce((t,e)=>{const n=a[e];return!!n.icon?t[n.iconName]=n.icon:t[e]=n,t},{})}function J1(a,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=e,i=UA(t);typeof nr.hooks.addPack=="function"&&!n?nr.hooks.addPack(a,UA(t)):nr.styles[a]={...nr.styles[a]||{},...i},a==="fas"&&J1("fa",t)}const{styles:cl,shims:cL}=nr,uL={[yt]:Object.values(Ac[yt]),[Ts]:Object.values(Ac[Ts]),[Ps]:Object.values(Ac[Ps])};let Xw=null,ME={},LE={},NE={},IE={},DE={};const hL={[yt]:Object.keys(bc[yt]),[Ts]:Object.keys(bc[Ts]),[Ps]:Object.keys(bc[Ps])};function dL(a){return~qM.indexOf(a)}function fL(a,t){const e=t.split("-"),n=e[0],i=e.slice(1).join("-");return n===a&&i!==""&&!dL(i)?i:null}const OE=()=>{const a=n=>x1(cl,(i,r,l)=>(i[l]=x1(r,n,{}),i),{});ME=a((n,i,r)=>(i[3]&&(n[i[3]]=r),i[2]&&i[2].filter(u=>typeof u=="number").forEach(u=>{n[u.toString(16)]=r}),n)),LE=a((n,i,r)=>(n[r]=r,i[2]&&i[2].filter(u=>typeof u=="string").forEach(u=>{n[u]=r}),n)),DE=a((n,i,r)=>{const l=i[2];return n[r]=r,l.forEach(u=>{n[u]=r}),n});const t="far"in cl||Ae.autoFetchSvg,e=x1(cL,(n,i)=>{const r=i[0];let l=i[1];const u=i[2];return l==="far"&&!t&&(l="fas"),typeof r=="string"&&(n.names[r]={prefix:l,iconName:u}),typeof r=="number"&&(n.unicodes[r.toString(16)]={prefix:l,iconName:u}),n},{names:{},unicodes:{}});NE=e.names,IE=e.unicodes,Xw=sy(Ae.styleDefault,{family:Ae.familyDefault})};JM(a=>{Xw=sy(a.styleDefault,{family:Ae.familyDefault})});OE();function Yw(a,t){return(ME[a]||{})[t]}function pL(a,t){return(LE[a]||{})[t]}function Ia(a,t){return(DE[a]||{})[t]}function FE(a){return NE[a]||{prefix:null,iconName:null}}function mL(a){const t=IE[a],e=Yw("fas",a);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function za(){return Xw}const qw=()=>({prefix:null,iconName:null,rest:[]});function sy(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:e=yt}=t,n=bc[e][a],i=ff[e][a]||ff[e][n],r=a in nr.styles?a:null;return i||r||null}const gL={[yt]:Object.keys(Ac[yt]),[Ts]:Object.keys(Ac[Ts]),[Ps]:Object.keys(Ac[Ps])};function iy(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:e=!1}=t,n={[yt]:"".concat(Ae.cssPrefix,"-").concat(yt),[Ts]:"".concat(Ae.cssPrefix,"-").concat(Ts),[Ps]:"".concat(Ae.cssPrefix,"-").concat(Ps)};let i=null,r=yt;const l=_M.filter(d=>d!==yE);l.forEach(d=>{(a.includes(n[d])||a.some(f=>gL[d].includes(f)))&&(r=d)});const u=a.reduce((d,f)=>{const p=fL(Ae.cssPrefix,f);if(cl[f]?(f=uL[r].includes(f)?GM[r][f]:f,i=f,d.prefix=f):hL[r].indexOf(f)>-1?(i=f,d.prefix=sy(f,{family:r})):p?d.iconName=p:f!==Ae.replacementClass&&!l.some(g=>f===n[g])&&d.rest.push(f),!e&&d.prefix&&d.iconName){const g=i==="fa"?FE(d.iconName):{},y=Ia(d.prefix,d.iconName);g.prefix&&(i=null),d.iconName=g.iconName||y||d.iconName,d.prefix=g.prefix||d.prefix,d.prefix==="far"&&!cl.far&&cl.fas&&!Ae.autoFetchSvg&&(d.prefix="fas")}return d},qw());return(a.includes("fa-brands")||a.includes("fab"))&&(u.prefix="fab"),(a.includes("fa-duotone")||a.includes("fad"))&&(u.prefix="fad"),!u.prefix&&r===Ts&&(cl.fass||Ae.autoFetchSvg)&&(u.prefix="fass",u.iconName=Ia(u.prefix,u.iconName)||u.iconName),!u.prefix&&r===Ps&&(cl.fasds||Ae.autoFetchSvg)&&(u.prefix="fasds",u.iconName=Ia(u.prefix,u.iconName)||u.iconName),(u.prefix==="fa"||i==="fa")&&(u.prefix=za()||"fas"),u}class yL{constructor(){this.definitions={}}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=e.reduce(this._pullDefinitions,{});Object.keys(i).forEach(r=>{this.definitions[r]={...this.definitions[r]||{},...i[r]},J1(r,i[r]);const l=Ac[yt][r];l&&J1(l,i[r]),OE()})}reset(){this.definitions={}}_pullDefinitions(t,e){const n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(i=>{const{prefix:r,iconName:l,icon:u}=n[i],d=u[2];t[r]||(t[r]={}),d.length>0&&d.forEach(f=>{typeof f=="string"&&(t[r][f]=u)}),t[r][l]=u}),t}}let HA=[],mu={};const bu={},vL=Object.keys(bu);function wL(a,t){let{mixoutsTo:e}=t;return HA=a,mu={},Object.keys(bu).forEach(n=>{vL.indexOf(n)===-1&&delete bu[n]}),HA.forEach(n=>{const i=n.mixout?n.mixout():{};if(Object.keys(i).forEach(r=>{typeof i[r]=="function"&&(e[r]=i[r]),typeof i[r]=="object"&&Object.keys(i[r]).forEach(l=>{e[r]||(e[r]={}),e[r][l]=i[r][l]})}),n.hooks){const r=n.hooks();Object.keys(r).forEach(l=>{mu[l]||(mu[l]=[]),mu[l].push(r[l])})}n.provides&&n.provides(bu)}),e}function Z1(a,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),i=2;i<e;i++)n[i-2]=arguments[i];return(mu[a]||[]).forEach(l=>{t=l.apply(null,[t,...n])}),t}function Cc(a){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];(mu[a]||[]).forEach(r=>{r.apply(null,e)})}function $a(){const a=arguments[0],t=Array.prototype.slice.call(arguments,1);return bu[a]?bu[a].apply(null,t):void 0}function e2(a){a.prefix==="fa"&&(a.prefix="fas");let{iconName:t}=a;const e=a.prefix||za();if(t)return t=Ia(e,t)||t,$A(jE.definitions,e,t)||$A(nr.styles,e,t)}const jE=new yL,SL=()=>{Ae.autoReplaceSvg=!1,Ae.observeMutations=!1,Cc("noAuto")},xL={i2svg:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vo?(Cc("beforeI2svg",a),$a("pseudoElements2svg",a),$a("i2svg",a)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=a;Ae.autoReplaceSvg===!1&&(Ae.autoReplaceSvg=!0),Ae.observeMutations=!0,oL(()=>{AL({autoReplaceSvgRoot:t}),Cc("watch",a)})}},bL={icon:a=>{if(a===null)return null;if(typeof a=="object"&&a.prefix&&a.iconName)return{prefix:a.prefix,iconName:Ia(a.prefix,a.iconName)||a.iconName};if(Array.isArray(a)&&a.length===2){const t=a[1].indexOf("fa-")===0?a[1].slice(3):a[1],e=sy(a[0]);return{prefix:e,iconName:Ia(e,t)||t}}if(typeof a=="string"&&(a.indexOf("".concat(Ae.cssPrefix,"-"))>-1||a.match(WM))){const t=iy(a.split(" "),{skipLookups:!0});return{prefix:t.prefix||za(),iconName:Ia(t.prefix,t.iconName)||t.iconName}}if(typeof a=="string"){const t=za();return{prefix:t,iconName:Ia(t,a)||a}}}},Ls={noAuto:SL,config:Ae,dom:xL,parse:bL,library:jE,findIconDefinition:e2,toHtml:Qp},AL=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ut}=a;(Object.keys(nr.styles).length>0||Ae.autoFetchSvg)&&vo&&Ae.autoReplaceSvg&&Ls.dom.i2svg({node:t})};function ry(a,t){return Object.defineProperty(a,"abstract",{get:t}),Object.defineProperty(a,"html",{get:function(){return a.abstract.map(e=>Qp(e))}}),Object.defineProperty(a,"node",{get:function(){if(!vo)return;const e=ut.createElement("div");return e.innerHTML=a.html,e.children}}),a}function _L(a){let{children:t,main:e,mask:n,attributes:i,styles:r,transform:l}=a;if(Vw(l)&&e.found&&!n.found){const{width:u,height:d}=e,f={x:u/d/2,y:.5};i.style=ny({...r,"transform-origin":"".concat(f.x+l.x/16,"em ").concat(f.y+l.y/16,"em")})}return[{tag:"svg",attributes:i,children:t}]}function EL(a){let{prefix:t,iconName:e,children:n,attributes:i,symbol:r}=a;const l=r===!0?"".concat(t,"-").concat(Ae.cssPrefix,"-").concat(e):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:l},children:n}]}]}function Kw(a){const{icons:{main:t,mask:e},prefix:n,iconName:i,transform:r,symbol:l,title:u,maskId:d,titleId:f,extra:p,watchable:g=!1}=a,{width:y,height:w}=e.found?e:t,b=n==="fak",A=[Ae.replacementClass,i?"".concat(Ae.cssPrefix,"-").concat(i):""].filter(N=>p.classes.indexOf(N)===-1).filter(N=>N!==""||!!N).concat(p.classes).join(" ");let E={children:[],attributes:{...p.attributes,"data-prefix":n,"data-icon":i,class:A,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(w)}};const T=b&&!~p.classes.indexOf("fa-fw")?{width:"".concat(y/w*16*.0625,"em")}:{};g&&(E.attributes[Ec]=""),u&&(E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(f||pf())},children:[u]}),delete E.attributes.title);const M={...E,prefix:n,iconName:i,main:t,mask:e,maskId:d,transform:r,symbol:l,styles:{...T,...p.styles}},{children:R,attributes:L}=e.found&&t.found?$a("generateAbstractMask",M)||{children:[],attributes:{}}:$a("generateAbstractIcon",M)||{children:[],attributes:{}};return M.children=R,M.attributes=L,l?EL(M):_L(M)}function GA(a){const{content:t,width:e,height:n,transform:i,title:r,extra:l,watchable:u=!1}=a,d={...l.attributes,...r?{title:r}:{},class:l.classes.join(" ")};u&&(d[Ec]="");const f={...l.styles};Vw(i)&&(f.transform=sL({transform:i,startCentered:!0,width:e,height:n}),f["-webkit-transform"]=f.transform);const p=ny(f);p.length>0&&(d.style=p);const g=[];return g.push({tag:"span",attributes:d,children:[t]}),r&&g.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),g}function CL(a){const{content:t,title:e,extra:n}=a,i={...n.attributes,...e?{title:e}:{},class:n.classes.join(" ")},r=ny(n.styles);r.length>0&&(i.style=r);const l=[];return l.push({tag:"span",attributes:i,children:[t]}),e&&l.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),l}const{styles:b1}=nr;function t2(a){const t=a[0],e=a[1],[n]=a.slice(4);let i=null;return Array.isArray(n)?i={tag:"g",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(w1.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(w1.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Ae.cssPrefix,"-").concat(w1.PRIMARY),fill:"currentColor",d:n[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:e,icon:i}}const kL={found:!1,width:512,height:512};function TL(a,t){!bE&&!Ae.showMissingIcons&&a&&console.error('Icon with name "'.concat(a,'" and prefix "').concat(t,'" is missing.'))}function n2(a,t){let e=t;return t==="fa"&&Ae.styleDefault!==null&&(t=za()),new Promise((n,i)=>{if(e==="fa"){const r=FE(a)||{};a=r.iconName||a,t=r.prefix||t}if(a&&t&&b1[t]&&b1[t][a]){const r=b1[t][a];return n(t2(r))}TL(a,t),n({...kL,icon:Ae.showMissingIcons&&a?$a("missingIconAbstract")||{}:{}})})}const WA=()=>{},s2=Ae.measurePerformance&&vg&&vg.mark&&vg.measure?vg:{mark:WA,measure:WA},zd='FA "6.6.0"',PL=a=>(s2.mark("".concat(zd," ").concat(a," begins")),()=>BE(a)),BE=a=>{s2.mark("".concat(zd," ").concat(a," ends")),s2.measure("".concat(zd," ").concat(a),"".concat(zd," ").concat(a," begins"),"".concat(zd," ").concat(a," ends"))};var Qw={begin:PL,end:BE};const Rg=()=>{};function VA(a){return typeof(a.getAttribute?a.getAttribute(Ec):null)=="string"}function RL(a){const t=a.getAttribute?a.getAttribute(Hw):null,e=a.getAttribute?a.getAttribute(Gw):null;return t&&e}function ML(a){return a&&a.classList&&a.classList.contains&&a.classList.contains(Ae.replacementClass)}function LL(){return Ae.autoReplaceSvg===!0?Mg.replace:Mg[Ae.autoReplaceSvg]||Mg.replace}function NL(a){return ut.createElementNS("http://www.w3.org/2000/svg",a)}function IL(a){return ut.createElement(a)}function zE(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:e=a.tag==="svg"?NL:IL}=t;if(typeof a=="string")return ut.createTextNode(a);const n=e(a.tag);return Object.keys(a.attributes||[]).forEach(function(r){n.setAttribute(r,a.attributes[r])}),(a.children||[]).forEach(function(r){n.appendChild(zE(r,{ceFn:e}))}),n}function DL(a){let t=" ".concat(a.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Mg={replace:function(a){const t=a[0];if(t.parentNode)if(a[1].forEach(e=>{t.parentNode.insertBefore(zE(e),t)}),t.getAttribute(Ec)===null&&Ae.keepOriginalSource){let e=ut.createComment(DL(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(a){const t=a[0],e=a[1];if(~Ww(t).indexOf(Ae.replacementClass))return Mg.replace(a);const n=new RegExp("".concat(Ae.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const r=e[0].attributes.class.split(" ").reduce((l,u)=>(u===Ae.replacementClass||u.match(n)?l.toSvg.push(u):l.toNode.push(u),l),{toNode:[],toSvg:[]});e[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",r.toNode.join(" "))}const i=e.map(r=>Qp(r)).join(`
`);t.setAttribute(Ec,""),t.innerHTML=i}};function XA(a){a()}function $E(a,t){const e=typeof t=="function"?t:Rg;if(a.length===0)e();else{let n=XA;Ae.mutateApproach===UM&&(n=Ba.requestAnimationFrame||XA),n(()=>{const i=LL(),r=Qw.begin("mutate");a.map(i),r(),e()})}}let Jw=!1;function UE(){Jw=!0}function i2(){Jw=!1}let y0=null;function YA(a){if(!OA||!Ae.observeMutations)return;const{treeCallback:t=Rg,nodeCallback:e=Rg,pseudoElementsCallback:n=Rg,observeMutationsRoot:i=ut}=a;y0=new OA(r=>{if(Jw)return;const l=za();Wh(r).forEach(u=>{if(u.type==="childList"&&u.addedNodes.length>0&&!VA(u.addedNodes[0])&&(Ae.searchPseudoElements&&n(u.target),t(u.target)),u.type==="attributes"&&u.target.parentNode&&Ae.searchPseudoElements&&n(u.target.parentNode),u.type==="attributes"&&VA(u.target)&&~YM.indexOf(u.attributeName))if(u.attributeName==="class"&&RL(u.target)){const{prefix:d,iconName:f}=iy(Ww(u.target));u.target.setAttribute(Hw,d||l),f&&u.target.setAttribute(Gw,f)}else ML(u.target)&&e(u.target)})}),vo&&y0.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function OL(){y0&&y0.disconnect()}function FL(a){const t=a.getAttribute("style");let e=[];return t&&(e=t.split(";").reduce((n,i)=>{const r=i.split(":"),l=r[0],u=r.slice(1);return l&&u.length>0&&(n[l]=u.join(":").trim()),n},{})),e}function jL(a){const t=a.getAttribute("data-prefix"),e=a.getAttribute("data-icon"),n=a.innerText!==void 0?a.innerText.trim():"";let i=iy(Ww(a));return i.prefix||(i.prefix=za()),t&&e&&(i.prefix=t,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&n.length>0&&(i.iconName=pL(i.prefix,a.innerText)||Yw(i.prefix,Q1(a.innerText))),!i.iconName&&Ae.autoFetchSvg&&a.firstChild&&a.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=a.firstChild.data)),i}function BL(a){const t=Wh(a.attributes).reduce((i,r)=>(i.name!=="class"&&i.name!=="style"&&(i[r.name]=r.value),i),{}),e=a.getAttribute("title"),n=a.getAttribute("data-fa-title-id");return Ae.autoA11y&&(e?t["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(n||pf()):(t["aria-hidden"]="true",t.focusable="false")),t}function zL(){return{iconName:null,title:null,titleId:null,prefix:null,transform:tr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function qA(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:e,prefix:n,rest:i}=jL(a),r=BL(a),l=Z1("parseNodeAttributes",{},a);let u=t.styleParser?FL(a):[];return{iconName:e,title:a.getAttribute("title"),titleId:a.getAttribute("data-fa-title-id"),prefix:n,transform:tr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:u,attributes:r},...l}}const{styles:$L}=nr;function HE(a){const t=Ae.autoReplaceSvg==="nest"?qA(a,{styleParser:!1}):qA(a);return~t.extra.classes.indexOf(EE)?$a("generateLayersText",a,t):$a("generateSvgReplacementMutation",a,t)}let or=new Set;AE.map(a=>{or.add("fa-".concat(a))});Object.keys(bc[yt]).map(or.add.bind(or));Object.keys(bc[Ts]).map(or.add.bind(or));Object.keys(bc[Ps]).map(or.add.bind(or));or=[...or];function KA(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vo)return Promise.resolve();const e=ut.documentElement.classList,n=p=>e.add("".concat(BA,"-").concat(p)),i=p=>e.remove("".concat(BA,"-").concat(p)),r=Ae.autoFetchSvg?or:AE.map(p=>"fa-".concat(p)).concat(Object.keys($L));r.includes("fa")||r.push("fa");const l=[".".concat(EE,":not([").concat(Ec,"])")].concat(r.map(p=>".".concat(p,":not([").concat(Ec,"])"))).join(", ");if(l.length===0)return Promise.resolve();let u=[];try{u=Wh(a.querySelectorAll(l))}catch{}if(u.length>0)n("pending"),i("complete");else return Promise.resolve();const d=Qw.begin("onTree"),f=u.reduce((p,g)=>{try{const y=HE(g);y&&p.push(y)}catch(y){bE||y.name==="MissingIcon"&&console.error(y)}return p},[]);return new Promise((p,g)=>{Promise.all(f).then(y=>{$E(y,()=>{n("active"),n("complete"),i("pending"),typeof t=="function"&&t(),d(),p()})}).catch(y=>{d(),g(y)})})}function UL(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;HE(a).then(e=>{e&&$E([e],t)})}function HL(a){return function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:e2(t||{});let{mask:i}=e;return i&&(i=(i||{}).icon?i:e2(i||{})),a(n,{...e,mask:i})}}const GL=function(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=tr,symbol:n=!1,mask:i=null,maskId:r=null,title:l=null,titleId:u=null,classes:d=[],attributes:f={},styles:p={}}=t;if(!a)return;const{prefix:g,iconName:y,icon:w}=a;return ry({type:"icon",...a},()=>(Cc("beforeDOMElementCreation",{iconDefinition:a,params:t}),Ae.autoA11y&&(l?f["aria-labelledby"]="".concat(Ae.replacementClass,"-title-").concat(u||pf()):(f["aria-hidden"]="true",f.focusable="false")),Kw({icons:{main:t2(w),mask:i?t2(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:{...tr,...e},symbol:n,title:l,maskId:r,titleId:u,extra:{attributes:f,styles:p,classes:d}})))};var WL={mixout(){return{icon:HL(GL)}},hooks(){return{mutationObserverCallbacks(a){return a.treeCallback=KA,a.nodeCallback=UL,a}}},provides(a){a.i2svg=function(t){const{node:e=ut,callback:n=()=>{}}=t;return KA(e,n)},a.generateSvgReplacementMutation=function(t,e){const{iconName:n,title:i,titleId:r,prefix:l,transform:u,symbol:d,mask:f,maskId:p,extra:g}=e;return new Promise((y,w)=>{Promise.all([n2(n,l),f.iconName?n2(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(b=>{let[A,E]=b;y([t,Kw({icons:{main:A,mask:E},prefix:l,iconName:n,transform:u,symbol:d,maskId:p,title:i,titleId:r,extra:g,watchable:!0})])}).catch(w)})},a.generateAbstractIcon=function(t){let{children:e,attributes:n,main:i,transform:r,styles:l}=t;const u=ny(l);u.length>0&&(n.style=u);let d;return Vw(r)&&(d=$a("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),e.push(d||i.icon),{children:e,attributes:n}}}},VL={mixout(){return{layer(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:e=[]}=t;return ry({type:"layer"},()=>{Cc("beforeDOMElementCreation",{assembler:a,params:t});let n=[];return a(i=>{Array.isArray(i)?i.map(r=>{n=n.concat(r.abstract)}):n=n.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Ae.cssPrefix,"-layers"),...e].join(" ")},children:n}]})}}}},XL={mixout(){return{counter(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:e=null,classes:n=[],attributes:i={},styles:r={}}=t;return ry({type:"counter",content:a},()=>(Cc("beforeDOMElementCreation",{content:a,params:t}),CL({content:a.toString(),title:e,extra:{attributes:i,styles:r,classes:["".concat(Ae.cssPrefix,"-layers-counter"),...n]}})))}}}},YL={mixout(){return{text(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:e=tr,title:n=null,classes:i=[],attributes:r={},styles:l={}}=t;return ry({type:"text",content:a},()=>(Cc("beforeDOMElementCreation",{content:a,params:t}),GA({content:a,transform:{...tr,...e},title:n,extra:{attributes:r,styles:l,classes:["".concat(Ae.cssPrefix,"-layers-text"),...i]}})))}}},provides(a){a.generateLayersText=function(t,e){const{title:n,transform:i,extra:r}=e;let l=null,u=null;if(gE){const d=parseInt(getComputedStyle(t).fontSize,10),f=t.getBoundingClientRect();l=f.width/d,u=f.height/d}return Ae.autoA11y&&!n&&(r.attributes["aria-hidden"]="true"),Promise.resolve([t,GA({content:t.innerHTML,width:l,height:u,transform:i,title:n,extra:r,watchable:!0})])}}};const qL=new RegExp('"',"ug"),QA=[1105920,1112319],JA={FontAwesome:{normal:"fas",400:"fas"},...RM,...PM,...jM},r2=Object.keys(JA).reduce((a,t)=>(a[t.toLowerCase()]=JA[t],a),{}),KL=Object.keys(r2).reduce((a,t)=>{const e=r2[t];return a[t]=e[900]||[...Object.entries(e)][0][1],a},{});function QL(a){const t=a.replace(qL,""),e=lL(t,0),n=e>=QA[0]&&e<=QA[1],i=t.length===2?t[0]===t[1]:!1;return{value:Q1(i?t[0]:t),isSecondary:n||i}}function JL(a,t){const e=a.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),i=isNaN(n)?"normal":n;return(r2[e]||{})[i]||KL[e]}function ZA(a,t){const e="".concat($M).concat(t.replace(":","-"));return new Promise((n,i)=>{if(a.getAttribute(e)!==null)return n();const l=Wh(a.children).filter(y=>y.getAttribute(X1)===t)[0],u=Ba.getComputedStyle(a,t),d=u.getPropertyValue("font-family"),f=d.match(VM),p=u.getPropertyValue("font-weight"),g=u.getPropertyValue("content");if(l&&!f)return a.removeChild(l),n();if(f&&g!=="none"&&g!==""){const y=u.getPropertyValue("content");let w=JL(d,p);const{value:b,isSecondary:A}=QL(y),E=f[0].startsWith("FontAwesome");let T=Yw(w,b),M=T;if(E){const R=mL(b);R.iconName&&R.prefix&&(T=R.iconName,w=R.prefix)}if(T&&!A&&(!l||l.getAttribute(Hw)!==w||l.getAttribute(Gw)!==M)){a.setAttribute(e,M),l&&a.removeChild(l);const R=zL(),{extra:L}=R;L.attributes[X1]=t,n2(T,w).then(N=>{const D=Kw({...R,icons:{main:N,mask:qw()},prefix:w,iconName:M,extra:L,watchable:!0}),B=ut.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?a.insertBefore(B,a.firstChild):a.appendChild(B),B.outerHTML=D.map(X=>Qp(X)).join(`
`),a.removeAttribute(e),n()}).catch(i)}else n()}else n()})}function ZL(a){return Promise.all([ZA(a,"::before"),ZA(a,"::after")])}function eN(a){return a.parentNode!==document.head&&!~HM.indexOf(a.tagName.toUpperCase())&&!a.getAttribute(X1)&&(!a.parentNode||a.parentNode.tagName!=="svg")}function e_(a){if(vo)return new Promise((t,e)=>{const n=Wh(a.querySelectorAll("*")).filter(eN).map(ZL),i=Qw.begin("searchPseudoElements");UE(),Promise.all(n).then(()=>{i(),i2(),t()}).catch(()=>{i(),i2(),e()})})}var tN={hooks(){return{mutationObserverCallbacks(a){return a.pseudoElementsCallback=e_,a}}},provides(a){a.pseudoElements2svg=function(t){const{node:e=ut}=t;Ae.searchPseudoElements&&e_(e)}}};let t_=!1;var nN={mixout(){return{dom:{unwatch(){UE(),t_=!0}}}},hooks(){return{bootstrap(){YA(Z1("mutationObserverCallbacks",{}))},noAuto(){OL()},watch(a){const{observeMutationsRoot:t}=a;t_?i2():YA(Z1("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const n_=a=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return a.toLowerCase().split(" ").reduce((e,n)=>{const i=n.toLowerCase().split("-"),r=i[0];let l=i.slice(1).join("-");if(r&&l==="h")return e.flipX=!0,e;if(r&&l==="v")return e.flipY=!0,e;if(l=parseFloat(l),isNaN(l))return e;switch(r){case"grow":e.size=e.size+l;break;case"shrink":e.size=e.size-l;break;case"left":e.x=e.x-l;break;case"right":e.x=e.x+l;break;case"up":e.y=e.y-l;break;case"down":e.y=e.y+l;break;case"rotate":e.rotate=e.rotate+l;break}return e},t)};var sN={mixout(){return{parse:{transform:a=>n_(a)}}},hooks(){return{parseNodeAttributes(a,t){const e=t.getAttribute("data-fa-transform");return e&&(a.transform=n_(e)),a}}},provides(a){a.generateAbstractTransformGrouping=function(t){let{main:e,transform:n,containerWidth:i,iconWidth:r}=t;const l={transform:"translate(".concat(i/2," 256)")},u="translate(".concat(n.x*32,", ").concat(n.y*32,") "),d="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),f="rotate(".concat(n.rotate," 0 0)"),p={transform:"".concat(u," ").concat(d," ").concat(f)},g={transform:"translate(".concat(r/2*-1," -256)")},y={outer:l,inner:p,path:g};return{tag:"g",attributes:{...y.outer},children:[{tag:"g",attributes:{...y.inner},children:[{tag:e.icon.tag,children:e.icon.children,attributes:{...e.icon.attributes,...y.path}}]}]}}}};const A1={x:0,y:0,width:"100%",height:"100%"};function s_(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.attributes&&(a.attributes.fill||t)&&(a.attributes.fill="black"),a}function iN(a){return a.tag==="g"?a.children:[a]}var rN={hooks(){return{parseNodeAttributes(a,t){const e=t.getAttribute("data-fa-mask"),n=e?iy(e.split(" ").map(i=>i.trim())):qw();return n.prefix||(n.prefix=za()),a.mask=n,a.maskId=t.getAttribute("data-fa-mask-id"),a}}},provides(a){a.generateAbstractMask=function(t){let{children:e,attributes:n,main:i,mask:r,maskId:l,transform:u}=t;const{width:d,icon:f}=i,{width:p,icon:g}=r,y=nL({transform:u,containerWidth:p,iconWidth:d}),w={tag:"rect",attributes:{...A1,fill:"white"}},b=f.children?{children:f.children.map(s_)}:{},A={tag:"g",attributes:{...y.inner},children:[s_({tag:f.tag,attributes:{...f.attributes,...y.path},...b})]},E={tag:"g",attributes:{...y.outer},children:[A]},T="mask-".concat(l||pf()),M="clip-".concat(l||pf()),R={tag:"mask",attributes:{...A1,id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[w,E]},L={tag:"defs",children:[{tag:"clipPath",attributes:{id:M},children:iN(g)},R]};return e.push(L,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(M,")"),mask:"url(#".concat(T,")"),...A1}}),{children:e,attributes:n}}}},oN={provides(a){let t=!1;Ba.matchMedia&&(t=Ba.matchMedia("(prefers-reduced-motion: reduce)").matches),a.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const r={...i,attributeName:"opacity"},l={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return t||l.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...r,values:"1;0;1;1;0;1;"}}),e.push(l),e.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...r,values:"1;0;0;0;0;1;"}}]}),t||e.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...r,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},aN={hooks(){return{parseNodeAttributes(a,t){const e=t.getAttribute("data-fa-symbol"),n=e===null?!1:e===""?!0:e;return a.symbol=n,a}}}},lN=[rL,WL,VL,XL,YL,tN,nN,sN,rN,oN,aN];wL(lN,{mixoutsTo:Ls});Ls.noAuto;Ls.config;Ls.library;Ls.dom;const o2=Ls.parse;Ls.findIconDefinition;Ls.toHtml;const cN=Ls.icon;Ls.layer;Ls.text;Ls.counter;var _1={exports:{}},E1,i_;function uN(){if(i_)return E1;i_=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return E1=a,E1}var C1,r_;function hN(){if(r_)return C1;r_=1;var a=uN();function t(){}function e(){}return e.resetWarningCache=t,C1=function(){function n(l,u,d,f,p,g){if(g!==a){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},C1}var o_;function dN(){return o_||(o_=1,_1.exports=hN()()),_1.exports}var fN=dN();const ze=Rw(fN);function a_(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),e.push.apply(e,n)}return e}function Ji(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(e),!0).forEach(function(n){gu(a,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):a_(Object(e)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(e,n))})}return a}function v0(a){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(a)}function gu(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function pN(a,t){if(a==null)return{};var e={},n=Object.keys(a),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(e[i]=a[i]);return e}function mN(a,t){if(a==null)return{};var e=pN(a,t),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(a,n)&&(e[n]=a[n])}return e}function a2(a){return gN(a)||yN(a)||vN(a)||wN()}function gN(a){if(Array.isArray(a))return l2(a)}function yN(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function vN(a,t){if(a){if(typeof a=="string")return l2(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l2(a,t)}}function l2(a,t){(t==null||t>a.length)&&(t=a.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=a[e];return n}function wN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SN(a){var t,e=a.beat,n=a.fade,i=a.beatFade,r=a.bounce,l=a.shake,u=a.flash,d=a.spin,f=a.spinPulse,p=a.spinReverse,g=a.pulse,y=a.fixedWidth,w=a.inverse,b=a.border,A=a.listItem,E=a.flip,T=a.size,M=a.rotation,R=a.pull,L=(t={"fa-beat":e,"fa-fade":n,"fa-beat-fade":i,"fa-bounce":r,"fa-shake":l,"fa-flash":u,"fa-spin":d,"fa-spin-reverse":p,"fa-spin-pulse":f,"fa-pulse":g,"fa-fw":y,"fa-inverse":w,"fa-border":b,"fa-li":A,"fa-flip":E===!0,"fa-flip-horizontal":E==="horizontal"||E==="both","fa-flip-vertical":E==="vertical"||E==="both"},gu(t,"fa-".concat(T),typeof T<"u"&&T!==null),gu(t,"fa-rotate-".concat(M),typeof M<"u"&&M!==null&&M!==0),gu(t,"fa-pull-".concat(R),typeof R<"u"&&R!==null),gu(t,"fa-swap-opacity",a.swapOpacity),t);return Object.keys(L).map(function(N){return L[N]?N:null}).filter(function(N){return N})}function xN(a){return a=a-0,a===a}function GE(a){return xN(a)?a:(a=a.replace(/[\-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),a.substr(0,1).toLowerCase()+a.substr(1))}var bN=["style"];function AN(a){return a.charAt(0).toUpperCase()+a.slice(1)}function _N(a){return a.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.indexOf(":"),i=GE(e.slice(0,n)),r=e.slice(n+1).trim();return i.startsWith("webkit")?t[AN(i)]=r:t[i]=r,t},{})}function WE(a,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(d){return WE(a,d)}),i=Object.keys(t.attributes||{}).reduce(function(d,f){var p=t.attributes[f];switch(f){case"class":d.attrs.className=p,delete t.attributes.class;break;case"style":d.attrs.style=_N(p);break;default:f.indexOf("aria-")===0||f.indexOf("data-")===0?d.attrs[f.toLowerCase()]=p:d.attrs[GE(f)]=p}return d},{attrs:{}}),r=e.style,l=r===void 0?{}:r,u=mN(e,bN);return i.attrs.style=Ji(Ji({},i.attrs.style),l),a.apply(void 0,[t.tag,Ji(Ji({},i.attrs),u)].concat(a2(n)))}var VE=!1;try{VE=!0}catch{}function EN(){if(!VE&&console&&typeof console.error=="function"){var a;(a=console).error.apply(a,arguments)}}function l_(a){if(a&&v0(a)==="object"&&a.prefix&&a.iconName&&a.icon)return a;if(o2.icon)return o2.icon(a);if(a===null)return null;if(a&&v0(a)==="object"&&a.prefix&&a.iconName)return a;if(Array.isArray(a)&&a.length===2)return{prefix:a[0],iconName:a[1]};if(typeof a=="string")return{prefix:"fas",iconName:a}}function k1(a,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?gu({},a,t):{}}var c_={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Vt=ja.forwardRef(function(a,t){var e=Ji(Ji({},c_),a),n=e.icon,i=e.mask,r=e.symbol,l=e.className,u=e.title,d=e.titleId,f=e.maskId,p=l_(n),g=k1("classes",[].concat(a2(SN(e)),a2((l||"").split(" ")))),y=k1("transform",typeof e.transform=="string"?o2.transform(e.transform):e.transform),w=k1("mask",l_(i)),b=cN(p,Ji(Ji(Ji(Ji({},g),y),w),{},{symbol:r,title:u,titleId:d,maskId:f}));if(!b)return EN("Could not find icon",p),null;var A=b.abstract,E={ref:t};return Object.keys(e).forEach(function(T){c_.hasOwnProperty(T)||(E[T]=e[T])}),CN(A[0],E)});Vt.displayName="FontAwesomeIcon";Vt.propTypes={beat:ze.bool,border:ze.bool,beatFade:ze.bool,bounce:ze.bool,className:ze.string,fade:ze.bool,flash:ze.bool,mask:ze.oneOfType([ze.object,ze.array,ze.string]),maskId:ze.string,fixedWidth:ze.bool,inverse:ze.bool,flip:ze.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ze.oneOfType([ze.object,ze.array,ze.string]),listItem:ze.bool,pull:ze.oneOf(["right","left"]),pulse:ze.bool,rotation:ze.oneOf([0,90,180,270]),shake:ze.bool,size:ze.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ze.bool,spinPulse:ze.bool,spinReverse:ze.bool,symbol:ze.oneOfType([ze.bool,ze.string]),title:ze.string,titleId:ze.string,transform:ze.oneOfType([ze.string,ze.object]),swapOpacity:ze.bool};var CN=WE.bind(null,ja.createElement);const kN={prefix:"far",iconName:"face-frown",icon:[512,512,[9785,"frown"],"f119","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM174.6 384.1c-4.5 12.5-18.2 18.9-30.7 14.4s-18.9-18.2-14.4-30.7C146.9 319.4 198.9 288 256 288s109.1 31.4 126.6 79.9c4.5 12.5-2 26.2-14.4 30.7s-26.2-2-30.7-14.4C328.2 358.5 297.2 336 256 336s-72.2 22.5-81.4 48.1zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},TN={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},PN=TN,RN={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},MN=RN,u_={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},T1={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},LN={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},NN={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},IN={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},h_=IN,d_={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},DN={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},ON=()=>{const[a,t]=Q.useState([]),[e,n]=Q.useState(null),[i,r]=Q.useState(0),[l,u]=Q.useState(!0),[d,f]=Q.useState(null),[p,g]=Q.useState(""),[y,w]=Q.useState("All"),[b,A]=Q.useState(!1),[E,T]=Q.useState(""),M=Q.useRef(null),[R,L]=Q.useState(0);Q.useEffect(()=>{fetch("https://obinnanwachukwu.com/projects/project_list.json",{cache:"no-cache"}).then(F=>{if(!F.ok)throw new Error("Failed to fetch projects");return F.json()}).then(F=>{t(F),u(!1)}).catch(F=>{f(F.message),u(!1)})},[l]),Q.useEffect(()=>{if(a.length===0)return;const F=setInterval(()=>{r(J=>(J+1)%a.length)},1e4);return()=>clearInterval(F)},[a]);const N=F=>{T("to-detail"),A(!0),setTimeout(()=>{n(F),window.scrollTo(0,0),setTimeout(()=>{A(!1)},300)},300)},D=()=>{T("to-main"),A(!0),setTimeout(()=>{n(null),setTimeout(()=>{A(!1)},300)},300)},B=()=>{r(F=>(F+1)%a.length)},X=()=>{r(F=>F===0?a.length-1:F-1)},ee=()=>{if(!a.length)return["All"];const F=a.map(J=>J.category).filter(Boolean);return["All",...new Set(F)]},$=a.filter(F=>{const J=F.name.toLowerCase().includes(p.toLowerCase())||F.description.toLowerCase().includes(p.toLowerCase()),oe=y==="All"||F.category===y;return J&&oe});return a.filter(F=>F.featured),C.jsx("div",{className:"app-center",children:l?C.jsx(hE,{}):d?C.jsxs("div",{className:"error-state",children:[C.jsx("div",{className:"error-icon",children:C.jsx(Vt,{icon:kN,size:"3x"})}),C.jsx("h2",{children:"Something Went Wrong"}),C.jsx("p",{children:"We're having trouble loading the App Center right now."}),C.jsxs("p",{className:"error-code",children:["Error: ",d]}),C.jsx("button",{className:"app-primary-button",onClick:()=>window.location.reload(),children:"Try Again"})]}):C.jsxs("div",{ref:M,className:"app-center-container",children:[C.jsxs("div",{className:`app-center-main ${e?"hidden":"visible"} ${b&&E==="to-detail"?"fade-out":b&&E==="to-main"?"fade-in":""}`,children:[C.jsxs("header",{className:"app-center-header",children:[C.jsx("h1",{children:"App Center"}),C.jsxs("div",{className:"app-center-header-buttons",children:[C.jsx(Vt,{icon:MN,className:"refresh-icon",onClick:()=>{u(!0)}}),C.jsx("div",{className:"app-center-search",children:C.jsxs("div",{className:"search-input-container",children:[C.jsx(Vt,{icon:h_,className:"search-icon"}),C.jsx("input",{type:"text",placeholder:"Search apps...",value:p,onChange:F=>g(F.target.value)})]})})]})]}),a.length>0&&p.length===0&&C.jsxs("div",{className:"app-featured-section",children:[C.jsx("h2",{className:"section-heading",children:"Featured"}),C.jsxs("div",{className:"featured-carousel-container",children:[C.jsx("button",{className:"carousel-nav prev",onClick:X,children:C.jsx(Vt,{icon:d_})}),C.jsxs("div",{className:"featured-carousel",children:[C.jsx("div",{className:"featured-item",style:{backgroundImage:a[i].image?`url(${a[i].image})`:"none",backgroundColor:a[i].image?"transparent":"#0066cc"},children:C.jsxs("div",{className:"featured-content",children:[C.jsx("span",{className:"featured-badge",children:"Featured App"}),C.jsx("h2",{children:a[i].name}),C.jsx("p",{children:a[i].description}),C.jsx("button",{className:"app-primary-button",onClick:F=>{F.stopPropagation(),N(a[i])},children:"View Details"})]})}),C.jsx("div",{className:"carousel-indicators",children:a.slice(0,Math.min(5,a.length)).map((F,J)=>C.jsx("span",{className:`indicator ${J===i?"active":""}`,onClick:oe=>{oe.stopPropagation(),r(J)}},J))})]}),C.jsx("button",{className:"carousel-nav next",onClick:B,children:C.jsx(Vt,{icon:DN})})]})]}),C.jsx("div",{className:"category-navigation",children:C.jsx("div",{className:"category-scroll",children:ee().map(F=>C.jsx("button",{className:`category-button ${y===F?"active":""}`,onClick:()=>w(F),children:F},F))})}),C.jsxs("div",{className:"app-grid-section",children:[C.jsxs("h2",{className:"section-heading",children:[y==="All"?"All Apps":y,p&&` • Search results for "${p}"`]}),$.length===0?C.jsxs("div",{className:"no-results",children:[C.jsx(Vt,{icon:h_,size:"3x"}),C.jsx("h3",{children:"No apps found"}),C.jsx("p",{children:"Try adjusting your search or filters"})]}):C.jsx("div",{className:"app-grid",children:$.map(F=>C.jsxs("div",{className:"app-card",onClick:()=>N(F),children:[C.jsx("img",{className:"app-card-icon",src:F.icon}),C.jsxs("div",{className:"app-card-content",children:[C.jsx("h3",{className:"app-card-title",children:F.name}),C.jsx("p",{className:"app-card-category",children:F.category||"Application"}),C.jsx("p",{className:"app-card-description",children:F.description})]})]},F.id))})]})]}),C.jsxs("div",{className:`app-detail-page ${e?"visible":"hidden"} ${b&&E==="to-detail"?"fade-in":b&&E==="to-main"?"fade-out":""}`,children:[C.jsx("div",{className:"app-detail-header",children:C.jsxs("button",{className:"app-center-back-button",onClick:D,children:[C.jsx(Vt,{icon:d_}),C.jsx("span",{children:"Back to Apps"})]})}),e&&C.jsxs("div",{className:"app-detail-content",children:[C.jsxs("div",{className:"app-detail-hero",children:[C.jsx("div",{className:"app-detail-icon-container",children:C.jsx("div",{className:"app-detail-icon",children:e.icon&&C.jsx("img",{src:e.icon,className:"app-icon-large"})})}),C.jsxs("div",{className:"app-detail-info",children:[C.jsx("h1",{className:"app-detail-name",children:e.name}),C.jsxs("div",{className:"app-detail-meta",children:[C.jsx("span",{className:"app-detail-category",children:e.category||"Application"}),e.tags&&C.jsx("div",{className:"app-detail-tags",children:e.tags.map((F,J)=>C.jsx("span",{className:"app-tag",children:F},J))})]}),C.jsxs("div",{className:"app-action-buttons",children:[e.canTry&&C.jsxs("button",{className:"app-primary-button",onClick:()=>window.open(e.trial),children:[C.jsx(Vt,{icon:NN})," Try Now"]}),e.github&&C.jsxs("button",{className:"app-secondary-button",onClick:()=>window.open(e.github),children:[C.jsx(Vt,{icon:u_})," View Source"]})]})]})]}),C.jsxs("div",{className:"app-screenshots-section",children:[C.jsx("h3",{className:"section-title",children:"Screenshots"}),C.jsx("div",{className:"app-screenshots-gallery",children:e.screenshots.map((F,J)=>C.jsx("div",{className:"screenshot-item",children:C.jsx("img",{src:F,alt:`${e.name} screenshot ${J+1}`})},J))})]}),C.jsxs("div",{className:"app-description-section",children:[C.jsx("h3",{className:"section-title",children:"About this project"}),C.jsx("div",{className:"app-description",children:C.jsx("p",{children:e.fullDescription})}),C.jsxs("div",{className:"app-additional-info",children:[C.jsxs("div",{className:"info-item",children:[C.jsx(Vt,{icon:PN}),C.jsxs("span",{children:["Released: ",e.releaseDate||"N/A"]})]}),e.technologies&&C.jsxs("div",{className:"info-item",children:[C.jsx(Vt,{icon:u_}),C.jsxs("span",{children:["Built with: ",e.technologies.join(", ")]})]})]})]})]})]})]})})},FN={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},jN={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},BN=()=>{const[a,t]=Q.useState(!1),[e,n]=Q.useState({name:"",email:"",message:""}),i=l=>{const{name:u,value:d}=l.target;n(f=>({...f,[u]:d}))},r=l=>{l.preventDefault(),console.log("Message sent:",e),n({name:"",email:"",message:""}),alert("Your message has been sent!"),t(!1)};return C.jsx("div",{className:"contact-me",children:a?C.jsxs("div",{className:"contact-form",children:[C.jsx("button",{className:"back-button",onClick:()=>t(!1),children:"← Back"}),C.jsx("h2",{children:"Send Me a Message"}),C.jsxs("form",{onSubmit:r,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"name",children:"Name"}),C.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:i,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Email"}),C.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:i,required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"message",children:"Message"}),C.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:i,required:!0})]}),C.jsx("button",{type:"submit",className:"send-button",children:"Send Message"})]})]}):C.jsxs("div",{className:"contact-options",children:[C.jsx("h2",{children:"Contact Me"}),C.jsxs("div",{className:"contact-item",onClick:()=>window.open("https://www.linkedin.com/in/obinnanwachukwugt"),children:[C.jsx("div",{className:"contact-icon",children:C.jsx(Vt,{icon:FN})}),C.jsxs("div",{className:"contact-info",children:[C.jsx("h3",{children:"LinkedIn"}),C.jsx("p",{children:"obinnanwachukwugt"})]})]}),C.jsxs("div",{className:"contact-item",onClick:()=>window.open("https://www.github.com/obinnanwachukwu1"),children:[C.jsx("div",{className:"contact-icon",children:C.jsx(Vt,{icon:jN})}),C.jsxs("div",{className:"contact-info",children:[C.jsx("h3",{children:"Github"}),C.jsx("p",{children:"obinnanwachukwu1"})]})]}),C.jsxs("div",{className:"contact-item",onClick:()=>window.open("mailto:me@obinnanwachukwu.com"),children:[C.jsx("div",{className:"contact-icon",children:C.jsx(Vt,{icon:LN})}),C.jsxs("div",{className:"contact-info",children:[C.jsx("h3",{children:"Email"}),C.jsx("p",{children:"me@obinnanwachukwu.com"})]})]})]})})};var w0=(a=>(a.DEFAULT="default",a.CENTERSCREEN="centerScreen",a))(w0||{});const oy=[{id:"terminal",name:"Terminal",icon:mM,component:C.jsx(bM,{}),initialSize:{width:640,height:480},showOnDesktop:!1,showInLauncher:!0},{id:"resume",name:"My Resume",icon:H1,component:C.jsx(AM,{}),initialSize:{width:640,height:600},showOnDesktop:!0,showInLauncher:!0},{id:"appcenter",name:"App Center",icon:G1,component:C.jsx(ON,{}),initialSize:{width:640,height:600},showOnDesktop:!0,showInLauncher:!0},{id:"contactme",name:"Contact Me",icon:W1,component:C.jsx(BN,{}),initialSize:{width:640,height:600},showOnDesktop:!0,showInLauncher:!0},{id:"notepad",name:"Notepad",icon:fM,component:C.jsx(dM,{}),initialSize:{width:600,height:400},showOnDesktop:!1,showInLauncher:!0},{id:"welcome-center",name:"Welcome Center",icon:pM,component:C.jsx(vM,{}),initialSize:{width:800,height:800},initialPosition:w0.CENTERSCREEN,showOnDesktop:!1,showInLauncher:!0}],XE=({id:a,appId:t,appIcon:e,title:n,content:i,position:r,size:l,isMaximized:u,showInTaskbar:d,isActive:f,restoreSize:p,isRestoringFromTaskbar:g,renderMobile:y,zIndex:w})=>{const[b,A]=Q.useState(!1),[E,T]=Q.useState(!1),[M,R]=Q.useState({x:0,y:0}),[L,N]=Q.useState(!g),[D,B]=Q.useState(!1),[X,ee]=Q.useState(!1),[$,F]=Q.useState(!1),[J,oe]=Q.useState(!1),[ce,te]=Q.useState(null),{closingWindowID:W,activateWindow:H,setWindowPosition:q,setWindowSize:K,sendIntentToClose:Z,sendIntentToMaximize:O,sendIntentToRestore:G,notifyClose:ne,notifyMaximize:he,notifyMinimize:ve,notifyRestore:pe,getTaskbarTransformPos:de,afterRestoreFromTaskbar:Le}=Mc();Q.useEffect(()=>{L?setTimeout(()=>{N(!1)},250):f&&g&&(de(a),setTimeout(()=>{Le(a),g=!1},250))},[L]),Q.useEffect(()=>{W===a&&(B(!0),setTimeout(()=>{ne(a)},250))},[W]);const Ce=_t=>{_t.stopPropagation(),H(a)},Be=_t=>{Z(a)},it=_t=>{de(a),ee(!0),setTimeout(()=>{ve(a),ee(!1)},250)},vt=_t=>{u?(G(a),oe(!0),setTimeout(()=>{pe(a),oe(!1)},250)):(O(a),F(!0),setTimeout(()=>{he(a),F(!1)},250))},Ns=_t=>_t.touches&&_t.touches.length>0?{pageX:_t.touches[0].pageX,pageY:_t.touches[0].pageY}:{pageX:_t.pageX,pageY:_t.pageY},xi=_t=>{const{pageX:wn,pageY:Yt}=Ns(_t);_t.stopPropagation(),te({x:wn,y:Yt}),R({x:wn-r.x,y:Yt-r.y}),document.body.style.userSelect="none",H(a)},Tn=_t=>{const{pageX:wn,pageY:Yt}=Ns(_t),ts=document.querySelector(".desktop").getBoundingClientRect();if(ce){const Ue=Math.abs(wn-ce.x),ht=Math.abs(Yt-ce.y);if(!b&&(Ue>5||ht>5)&&A(!0),b)if(u){pe(a),K(a,p);const qt=Math.max(0,Math.min(wn-p.width/2,ts.width-p.width)),cr=Math.max(Math.min(Yt-10,ts.height-p.height),0);q(a,{x:qt,y:cr})}else{const qt=Math.max(0,Math.min(wn-M.x,ts.width-l.width)),cr=Math.max(0,Math.min(Yt-M.y,ts.height-l.height));q(a,{x:qt,y:cr})}}if(E){const Ue=Math.max(200,Math.min(wn-r.x,ts.width-r.x)),ht=Math.max(150,Math.min(Yt-r.y,ts.height-r.y));K(a,{width:Ue,height:ht})}},$n=()=>{A(!1),T(!1),te(!1),document.body.style.userSelect=""};Q.useEffect(()=>(ce||b||E?(document.addEventListener("mousemove",Tn),document.addEventListener("mouseup",$n),document.addEventListener("touchmove",Tn,{passive:!1}),document.addEventListener("touchend",$n)):(document.removeEventListener("mousemove",Tn),document.removeEventListener("mouseup",$n),document.removeEventListener("touchmove",Tn),document.removeEventListener("touchend",$n)),()=>{document.removeEventListener("mousemove",Tn),document.removeEventListener("mouseup",$n),document.removeEventListener("touchmove",Tn),document.removeEventListener("touchend",$n)}),[ce,b,E]);const Va=_t=>{T(!0),document.body.style.userSelect="none"};return Q.useEffect(()=>(ce||b||E?(document.addEventListener("mousemove",Tn),document.addEventListener("mouseup",$n)):(document.removeEventListener("mousemove",Tn),document.removeEventListener("mouseup",$n)),()=>{document.removeEventListener("mousemove",Tn),document.removeEventListener("mouseup",$n)}),[ce,b,E]),C.jsxs("div",{className:`window ${y&&L?"window-mobile window-mobile-opening":y&&D?"window-mobile window-mobile-closing":y?"window-mobile":L?"window-opening":D?"window-closing":g?"window-restoring-from-taskbar":X?"window-minimizing":$?"window-maximizing":J?"window-restoring":""} ${u||$?"maximized":""} ${y?"":f?"active":"inactive"}`,style:{top:r.y,left:r.x,width:l.width,height:l.height,zIndex:w},onMouseDown:Ce,children:[y?null:C.jsxs("div",{className:`window-header ${f?"active":"inactive"}`,onMouseDown:xi,onDoubleClick:vt,onTouchStart:xi,children:[C.jsx("img",{src:e,className:"window-icon"}),C.jsx("span",{className:"window-title",children:n}),C.jsx("button",{className:"caption-button",onClick:vt,children:C.jsx(Vt,{icon:T1,style:{color:"#28C840"}})}),C.jsx("button",{className:"caption-button",onClick:it,children:C.jsx(Vt,{icon:T1,style:{color:"#FDBC2E"}})}),C.jsxs("button",{className:"caption-button",onClick:Be,children:[" ",C.jsx(Vt,{icon:T1,style:{color:"#FF5E57"}})]})]}),C.jsx("div",{className:"window-content",style:{flexGrow:1,width:"100%",height:"100%"},children:i}),C.jsx("div",{className:"resize-handle",onMouseDown:Va})]})},zN=({imageSrc:a,text:t,onClick:e})=>C.jsxs("button",{className:"launcher-icon-button",onClick:e,children:[C.jsx("img",{src:a,alt:t,className:"launcher-icon-image"}),C.jsx("span",{className:"launcher-icon-text",children:t})]}),YE=()=>{const{launcherVisible:a,closeLauncher:t,launchApp:e}=Mc(),{isMobile:n}=$w(),[i,r]=Q.useState(a);return Q.useEffect(()=>{if(a){r(!0);return}const l=window.setTimeout(()=>r(!1),500);return()=>window.clearTimeout(l)},[a]),i?C.jsx("div",{className:`launcher ${n?"launcher-mobile":""} ${a?"visible":"hidden"}`,children:C.jsxs("div",{className:`launcher-content ${n?"launcher-content-mobile":""}`,children:[C.jsx("div",{className:`launcher-header ${n?"launcher-header-mobile":""}`,children:C.jsx("h2",{children:"Launcher"})}),C.jsx("div",{className:`launcher-body ${n?"launcher-body-mobile":""}`,children:oy.map(l=>l.showInLauncher?C.jsx(zN,{imageSrc:l.icon,text:l.name,onClick:()=>{e(l.id),t()}},l.id):null)}),C.jsx("div",{className:"launcher-footer"})]})}):null},$N=()=>{const a=Q.useRef(null),[t,e]=Q.useState([]),[n,i]=Q.useState(null),[r,l]=Q.useState(-1),[u,d]=Q.useState(!1),[f,p]=Q.useState(1),g=F=>{var H;const J=document.querySelector(".mobile-desktop"),oe=((H=a.current)==null?void 0:H.clientHeight)??0;if(!J)return;const ce=J.getBoundingClientRect(),te=oy.find(q=>q.id===F);if(!te)return;const W={id:Date.now(),appId:te.id,appIcon:te.icon,title:te.name,content:te.component,position:{x:0,y:0},restorePosition:{x:0,y:0},size:{width:ce.width,height:ce.height-oe},restoreSize:{width:ce.width,height:ce.height-oe},isMaximized:!1,isMinimized:!1,isRestoringFromTaskbar:!1,showInTaskbar:!0,isActive:!0,renderMobile:!0,zIndex:f};p(q=>q+1),e(q=>q.some(K=>K.id===W.id)?q:[...q,W]),n!==null&&l(n),i(W.id)},y=()=>{d(F=>!F)},w=()=>{d(!1)},b=()=>{d(!1)},A=F=>{},E=(F,J)=>{},T=(F,J)=>{},M=F=>{r===-1&&l(F)},R=F=>{},L=F=>{},N=F=>{e(J=>J.filter(oe=>oe.id!==F)),F===n&&i(null),l(-1)},D=F=>{},B=F=>{},X=F=>{},ee=F=>{},$=F=>{};return C.jsxs(lE.Provider,{value:{launchApp:g,launcherVisible:u,closeLauncher:w,toggleLauncherVisibility:y,closingWindowID:r,activateWindow:A,setWindowPosition:E,setWindowSize:T,sendIntentToClose:M,sendIntentToMaximize:R,sendIntentToRestore:L,notifyClose:N,notifyMaximize:D,notifyMinimize:B,notifyRestore:X,getTaskbarTransformPos:ee,afterRestoreFromTaskbar:$,deactivateAll:b},children:[C.jsx(hM,{}),[...t].sort((F,J)=>F.zIndex-J.zIndex).map(F=>F.isMinimized?null:C.jsx(XE,{...F},F.id)),C.jsx(cE,{ref:a}),C.jsx(YE,{})]})},UN=()=>{const[a,t]=Q.useState(new Date);Q.useEffect(()=>{const n=window.setInterval(()=>{t(new Date)},1e3);return()=>window.clearInterval(n)},[]);const e=a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return C.jsx("div",{className:"taskbar-clock clock",style:{userSelect:"none"},children:e})},HN=({onClick:a,launcherVisible:t})=>C.jsx("button",{className:`launch-button ${t?"clicked":""}`,onClick:a,children:C.jsx("img",{src:oE,alt:"Launch",className:"launch-icon"})}),qE=Q.forwardRef(({windows:a,setButtonPosition:t},e)=>{const{activateWindow:n,toggleLauncherVisibility:i,launcherVisible:r}=Mc(),l=Q.useRef({});Q.useEffect(()=>{a.forEach(d=>{const f=l.current[d.id];if(f){const p=f.getBoundingClientRect();t(d.id,p)}})},[t,a]);const u=d=>{d.stopPropagation(),d.preventDefault()};return C.jsxs("div",{ref:e,className:"taskbar",onContextMenu:u,children:[C.jsx(HN,{launcherVisible:r,onClick:i}),C.jsx("div",{className:"taskbar-items",children:a.map(d=>d.showInTaskbar?C.jsxs("button",{ref:f=>{l.current[d.id]=f},className:`taskbar-item ${d.isMinimized?"minimized":d.isActive?"":"inactive"}`,onClick:()=>n(d.id),children:[C.jsx("img",{src:d.appIcon,className:"taskbar-icon",alt:"App icon"}),d.title]},d.id):null)}),C.jsx(UN,{})]})});qE.displayName="Taskbar";const GN=({imageSrc:a,text:t,handleDesktopIconDoubleClick:e})=>C.jsxs("button",{className:"icon-button",onDoubleClick:e,children:[C.jsx("img",{src:a,alt:t,className:"icon-image"}),C.jsx("span",{className:"icon-text",children:t})]}),WN=()=>{const{launchApp:a,deactivateAll:t}=Mc(),e=Q.useRef(!1);Q.useEffect(()=>{if(e.current)return;const r=window.setTimeout(()=>{e.current=!0,a("welcome-center")},1e3);return()=>{window.clearTimeout(r)}},[a]);const n=r=>{a(r)},i=r=>{t==null||t(r.nativeEvent)};return C.jsx("div",{className:"desktop",onMouseDown:i,children:oy.map(r=>r.showOnDesktop?C.jsx(GN,{imageSrc:r.icon,text:r.name,handleDesktopIconDoubleClick:()=>n(r.id)},r.id):null)})},VN=({windowSize:a})=>{const t=Q.useRef(null),[e,n]=Q.useState([]),[i,r]=Q.useState(null),[l,u]=Q.useState(-1),[d,f]=Q.useState({}),[p,g]=Q.useState(!1),[y,w]=Q.useState(1),b=te=>{const W=oy.find(H=>H.id===te);if(W){const H={id:Date.now(),appId:W.id,appIcon:W.icon,title:W.name,content:W.component,size:W.initialSize||{width:500,height:500},restoreSize:W.initialSize||{width:500,height:500},isMaximized:!1,isMinimized:!1,isRestoringFromTaskbar:!1,showInTaskbar:!0,isActive:!0,renderMobile:!1,zIndex:y};H.position=W.initialPosition===w0.CENTERSCREEN?{x:(a.width-H.size.width)/2,y:(a.height-H.size.height)/2}:{x:100,y:100},H.restorePosition=W.initialPosition===w0.CENTERSCREEN?{x:(a.width-H.size.width)/2,y:(a.height-H.size.height)/2}:{x:100,y:100},w(q=>q+1),n(q=>q.some(K=>K.id===H.id)?q:[...q,H]),E(),A(H.id)}};Q.useEffect(()=>{n(te=>te.map(W=>{var Z,O;let H={...W};if(W.isMaximized)return H.size={width:a.width,height:a.height-(((Z=t.current)==null?void 0:Z.clientHeight)||0)},H.position={x:0,y:0},H;const q=W.position.x+W.size.width,K=W.position.y+W.size.height;if(q>a.width||K>a.height){const G=Math.max(0,Math.min(W.position.x,a.width-W.size.width)),ne=Math.max(0,Math.min(W.position.y,a.height-W.size.height-(((O=t.current)==null?void 0:O.clientHeight)||0)));H.position={x:G,y:ne}}return H}))},[a]);const A=te=>{g(!1),r(te),w(W=>W+1),n(W=>W.map(H=>H.id===te?H.isMinimized?{...H,isRestoringFromTaskbar:!0,isMinimized:!1,isActive:!0,zIndex:y}:{...H,isActive:!0,zIndex:y}:{...H,isActive:!1}))},E=te=>{if(p){const W=document.querySelector(".launcher");if(te&&W&&W.contains(te.target))return}r(null),g(!1),n(W=>W.map(H=>({...H,isActive:!1})))},T=(te,W)=>{n(H=>H.map(q=>q.id===te?{...q,position:W,restorePosition:W}:q))},M=(te,W)=>{n(H=>H.map(q=>q.id===te?{...q,size:W,restoreSize:W}:q))},R=()=>{const W=document.querySelector(".desktop").getBoundingClientRect();document.documentElement.style.setProperty("--width",`${W.width}px`),document.documentElement.style.setProperty("--height",`${W.height-t.current.clientHeight}px`)},L=te=>{const W=e.find(q=>q.id===te).restoreSize,H=e.find(q=>q.id===te).restorePosition;console.log(H),document.documentElement.style.setProperty("--width",`${W.width}px`),document.documentElement.style.setProperty("--height",`${W.height}px`),document.documentElement.style.setProperty("--dx",`${H.x}px`),document.documentElement.style.setProperty("--dy",`${H.y}px`)},N=te=>{l===-1&&(u(te),n(W=>W.map(H=>H.id===te?{...H,showInTaskbar:!1}:H)))},D=te=>{n(W=>W.map(H=>H.id===te?{...H,isMaximized:!0,size:{width:window.innerWidth,height:window.innerHeight-t.current.clientHeight},position:{x:0,y:0}}:H))},B=te=>{n(W=>W.map(H=>H.id===te?{...H,isMinimized:!0,minimizing:!1}:H))},X=te=>{n(W=>W.map(H=>H.id===te?{...H,isMaximized:!1,size:H.restoreSize,position:H.restorePosition}:H))},ee=te=>{n(W=>W.filter(H=>H.id!==te)),te===i&&r(null),u(-1)},$=(te,W)=>{f(H=>({...H,[te]:W}))},F=te=>{const W=d[te],H=e.find(Z=>Z.id===te).position,q=W.left-H.x,K=W.top-H.y;document.documentElement.style.setProperty("--dx",`${q}px`),document.documentElement.style.setProperty("--dy",`${K}px`)},J=(te,W)=>{n(H=>H.map(q=>q.id===te?{...q,isRestoringFromTaskbar:!1}:q))},oe=()=>{p||E(),g(!p)},ce=()=>{g(!1)};return C.jsxs(aE.Provider,{value:{closingWindowID:l,launcherVisible:p,launchApp:b,activateWindow:A,deactivateAll:E,setWindowPosition:T,setWindowSize:M,sendIntentToMaximize:R,sendIntentToRestore:L,sendIntentToClose:N,notifyMaximize:D,notifyMinimize:B,notifyRestore:X,notifyClose:ee,getTaskbarTransformPos:F,afterRestoreFromTaskbar:J,toggleLauncherVisibility:oe,closeLauncher:ce},children:[C.jsx(WN,{}),[...e].sort((te,W)=>te.zIndex-W.zIndex).map(te=>te.isMinimized?null:C.jsx(XE,{...te},te.id)),C.jsx(qE,{ref:t,windows:e,setButtonPosition:$}),C.jsx(YE,{})]})},XN=()=>{const{isMobile:a,windowSize:t}=$w();return Q.useEffect(()=>{xM()},[]),C.jsx("div",{children:a?C.jsx($N,{}):C.jsx(VN,{windowSize:t})})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),f_=a=>{const t=qN(a);return t.charAt(0).toUpperCase()+t.slice(1)},KE=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),KN=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=Q.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:i="",children:r,iconNode:l,...u},d)=>Q.createElement("svg",{ref:d,...QN,width:t,height:t,stroke:a,strokeWidth:n?Number(e)*24/Number(t):e,className:KE("lucide",i),...!r&&!KN(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>Q.createElement(f,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=(a,t)=>{const e=Q.forwardRef(({className:n,...i},r)=>Q.createElement(JN,{ref:r,iconNode:t,className:KE(`lucide-${YN(f_(a))}`,`lucide-${a}`,n),...i}));return e.displayName=f_(a),e};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],QE=ay("cloud-upload",ZN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tI=ay("plus",eI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sI=ay("rotate-ccw",nI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rI=ay("settings",iI),oI=({onOpenSettings:a,onReset:t,onUpload:e,onAddSemester:n})=>C.jsxs("header",{className:"gpa-planner__header gpa-topbar",children:[C.jsx("h1",{className:"gpa-planner__title",children:"GPA Planner"}),C.jsxs("div",{className:"gpa-planner__actions",children:[C.jsxs("button",{className:"gpa-btn gpa-btn--ghost",type:"button",onClick:e,children:[C.jsx(QE,{className:"gpa-icon"}),"Upload"]}),C.jsxs("button",{className:"gpa-btn gpa-btn--primary",type:"button",onClick:n,children:[C.jsx(tI,{className:"gpa-icon"}),"Add Semester"]}),C.jsxs("button",{className:"gpa-btn gpa-btn--ghost",type:"button",onClick:t,children:[C.jsx(sI,{className:"gpa-icon"}),"Reset"]}),C.jsx("button",{className:"gpa-btn gpa-btn--ghost",type:"button",onClick:a,"aria-label":"Open GPA settings",children:C.jsx(rI,{className:"gpa-icon"})})]})]}),aI=({state:a,fileName:t})=>a!=null&&a.message?C.jsxs("p",{className:`gpa-status gpa-status--${a.status}`,children:[a.message,t?C.jsxs("span",{className:"gpa-status__file",children:["Loaded: ",t]}):null]}):null,lI=({summary:a,semesterCount:t,courseCount:e})=>a?C.jsxs("section",{className:"gpa-summary",children:[C.jsxs("div",{className:"gpa-summary__item",children:[C.jsx("span",{className:"gpa-summary__label",children:"Overall GPA"}),C.jsx("span",{className:"gpa-summary__value",children:a.gpa!==null?a.gpa.toFixed(2):"N/A"})]}),C.jsxs("div",{className:"gpa-summary__item",children:[C.jsx("span",{className:"gpa-summary__label",children:"Semesters"}),C.jsx("span",{className:"gpa-summary__value",children:t})]}),C.jsxs("div",{className:"gpa-summary__item",children:[C.jsx("span",{className:"gpa-summary__label",children:"Courses"}),C.jsx("span",{className:"gpa-summary__value",children:e})]})]}):null,cI=({onUpload:a,onAddSemester:t})=>C.jsxs("section",{className:"gpa-empty",children:[C.jsx("p",{children:"Nothing here yet. Upload a DegreeWorks PDF or start by adding a semester."}),C.jsxs("div",{className:"gpa-empty__actions",children:[C.jsxs("button",{className:"gpa-btn gpa-btn--primary",type:"button",onClick:a,children:[C.jsx(QE,{size:18}),"Upload Audit"]}),C.jsx("button",{className:"gpa-btn",type:"button",onClick:t,children:"Add Semester"})]})]}),uI=({semester:a,draft:t,isFormOpen:e,gradeOptions:n,onDraftChange:i,onAddCourse:r,onOpenForm:l,onCloseForm:u,onTermChange:d,onGradeChange:f,onDeleteCourse:p})=>{const g=t??{course:"",credits:"",grade:n[0]??"A"},y=n.includes(g.grade)?n:[g.grade,...n];return C.jsxs("section",{className:"gpa-semester",children:[C.jsxs("header",{className:"gpa-semester__header",children:[C.jsxs("div",{className:"gpa-semester__meta",children:[C.jsx("input",{className:"gpa-semester__name",value:a.term,onChange:w=>d(a.id,w.target.value),"aria-label":"Semester name"}),C.jsxs("p",{children:[a.courses.length," courses"]})]}),C.jsxs("div",{className:"gpa-semester__metrics",children:[C.jsxs("span",{children:["Term GPA: ",a.termGpa!==null?a.termGpa.toFixed(2):"N/A"]}),C.jsxs("span",{children:["Running GPA: ",a.cumulativeGpa!==null?a.cumulativeGpa.toFixed(2):"N/A"]})]})]}),a.courses.length>0?C.jsxs("table",{className:"gpa-courses-table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{scope:"col",children:"Course"}),C.jsx("th",{scope:"col",children:"Grade"}),C.jsx("th",{scope:"col",children:"Credits"}),C.jsx("th",{scope:"col",children:"Actions"})]})}),C.jsx("tbody",{children:a.courses.map(w=>{const b=w.grade!==w.originalGrade,A=n.includes(w.grade)?n:[w.grade,...n];return C.jsxs("tr",{"data-changed":b?"true":"false",children:[C.jsx("td",{children:C.jsxs("div",{className:"gpa-course-cell",children:[C.jsx("span",{className:"gpa-course-cell__title",children:w.course}),b?C.jsxs("span",{className:"gpa-course-cell__tag",children:["Original: ",w.originalGrade]}):null]})}),C.jsx("td",{children:C.jsx("select",{className:"gpa-grade-select",value:w.grade,onChange:E=>f(a.id,w.id,E.target.value),children:A.map(E=>C.jsx("option",{value:E,children:E},E))})}),C.jsx("td",{children:w.credits}),C.jsx("td",{children:C.jsx("button",{className:"gpa-btn gpa-btn--link",type:"button",onClick:()=>p(a.id,w.id),children:"Remove"})})]},w.id)})})]}):C.jsx("p",{className:"gpa-semester__empty",children:"No courses yet. Add one below."}),e?C.jsxs("form",{className:"gpa-course-form",onSubmit:w=>r(a.id,w),children:[C.jsx("input",{className:"gpa-course-form__input",placeholder:"Course (e.g., CS 1331)",value:g.course,onChange:w=>i(a.id,"course",w.target.value),required:!0}),C.jsx("input",{className:"gpa-course-form__input gpa-course-form__input--narrow",type:"number",min:"0",step:"0.5",placeholder:"Credits",value:g.credits,onChange:w=>i(a.id,"credits",w.target.value),required:!0}),C.jsx("select",{className:"gpa-course-form__input",value:g.grade,onChange:w=>i(a.id,"grade",w.target.value),children:y.map(w=>C.jsx("option",{value:w,children:w},w))}),C.jsxs("div",{className:"gpa-course-form__actions",children:[C.jsx("button",{className:"gpa-btn gpa-btn--small",type:"submit",children:"Save Course"}),C.jsx("button",{className:"gpa-btn gpa-btn--link",type:"button",onClick:()=>u(a.id),children:"Cancel"})]})]}):C.jsx("button",{className:"gpa-btn gpa-btn--small",type:"button",onClick:()=>l(a.id),children:"Add Course"})]})},hI=({semesters:a,drafts:t,openForms:e,gradeOptions:n,onDraftChange:i,onAddCourse:r,onOpenForm:l,onCloseForm:u,onTermChange:d,onGradeChange:f,onDeleteCourse:p})=>C.jsx("div",{className:"gpa-semester-list",children:a.map(g=>C.jsx(uI,{semester:g,draft:t[g.id],isFormOpen:!!e[g.id],gradeOptions:n,onDraftChange:i,onAddCourse:r,onOpenForm:l,onCloseForm:u,onTermChange:d,onGradeChange:f,onDeleteCourse:p},g.id))}),dI=({open:a,scale:t,usePlusMinus:e,onScaleChange:n,onTogglePlusMinus:i,onClose:r})=>a?C.jsx("div",{className:"gpa-modal",role:"dialog","aria-modal":"true",children:C.jsxs("div",{className:"gpa-modal__card",children:[C.jsxs("header",{className:"gpa-modal__header",children:[C.jsx("h2",{children:"GPA Settings"}),C.jsx("button",{className:"gpa-btn gpa-btn--link",type:"button",onClick:r,children:"Close"})]}),C.jsxs("div",{className:"gpa-modal__body",children:[C.jsxs("label",{className:"gpa-modal__row",children:[C.jsx("span",{children:"Maximum GPA scale"}),C.jsx("input",{className:"gpa-modal__input",type:"number",min:"3",max:"5",step:"0.1",value:t,onChange:l=>n(l.target.value)})]}),C.jsxs("label",{className:"gpa-modal__row gpa-modal__row--checkbox",children:[C.jsx("input",{type:"checkbox",checked:e,onChange:i}),C.jsx("span",{children:"Count +/- adjustments"})]})]})]})}):null,Fn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),c2=[.001,0,0,.001,0,0],P1=1.35,_s={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},JE="pdfjs_internal_editor_",Me={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},He={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},fI={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ln={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Lg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},It={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},au={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ly={ERRORS:0,WARNINGS:1,INFOS:5},mf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},wg={moveTo:0,lineTo:1,curveTo:2,closePath:3},pI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let cy=ly.WARNINGS;function mI(a){Number.isInteger(a)&&(cy=a)}function gI(){return cy}function uy(a){cy>=ly.INFOS&&console.log(`Info: ${a}`)}function Ne(a){cy>=ly.WARNINGS&&console.log(`Warning: ${a}`)}function st(a){throw new Error(a)}function Ot(a,t){a||st(t)}function yI(a){switch(a==null?void 0:a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ZE(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"){if(e.addDefaultProtocol&&a.startsWith("www.")){const i=a.match(/\./g);(i==null?void 0:i.length)>=2&&(a=`http://${a}`)}if(e.tryConvertEncoding)try{a=bI(a)}catch{}}const n=t?URL.parse(a,t):URL.parse(a);return yI(n)?n:null}function eC(a,t,e=!1){const n=URL.parse(a);return n?(n.hash=t,n.href):e&&ZE(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function je(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Lc=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class p_ extends Lc{constructor(t,e){super(t,"PasswordException"),this.code=e}}class R1 extends Lc{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class u2 extends Lc{constructor(t){super(t,"InvalidPDFException")}}class S0 extends Lc{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class vI extends Lc{constructor(t){super(t,"FormatError")}}class Ua extends Lc{constructor(t){super(t,"AbortException")}}function tC(a){(typeof a!="object"||(a==null?void 0:a.length)===void 0)&&st("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let i=0;i<t;i+=e){const r=Math.min(i+e,t),l=a.subarray(i,r);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Jp(a){typeof a!="string"&&st("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function wI(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function SI(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function xI(){try{return new Function(""),!0}catch{return!1}}class vn{static get isLittleEndian(){return je(this,"isLittleEndian",SI())}static get isEvalSupported(){return je(this,"isEvalSupported",xI())}static get isOffscreenCanvasSupported(){return je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return je(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return je(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const M1=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));var uo,Ng,h2;class Se{static makeHexColor(t,e,n){return`#${M1[t]}${M1[e]}${M1[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const i=t[n],r=t[n+1];t[n]=i*e[0]+r*e[2]+e[4],t[n+1]=i*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const i=e[0],r=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],y=t[n+p+1];t[n+p]=g*i+y*l+d,t[n+p+1]=g*r+y*u+f}}static applyInverseTransform(t,e){const n=t[0],i=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-n*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,n){const i=e[0],r=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],g=t[1],y=t[2],w=t[3];let b=i*p+d,A=b,E=i*y+d,T=E,M=u*g+f,R=M,L=u*w+f,N=L;if(r!==0||l!==0){const D=r*p,B=r*y,X=l*g,ee=l*w;b+=X,T+=X,E+=ee,A+=ee,M+=D,N+=D,L+=B,R+=B}n[0]=Math.min(n[0],b,E,A,T),n[1]=Math.min(n[1],M,L,R,N),n[2]=Math.max(n[2],b,E,A,T),n[3]=Math.max(n[3],M,L,R,N)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],i=t[1],r=t[2],l=t[3],u=n**2+i**2,d=n*r+i*l,f=r**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>l?null:[n,r,i,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,i,r){r[0]=Math.min(r[0],t,n),r[1]=Math.min(r[1],e,i),r[2]=Math.max(r[2],t,n),r[3]=Math.max(r[3],e,i)}static bezierBoundingBox(t,e,n,i,r,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),k(this,uo,h2).call(this,t,n,r,u,e,i,l,d,3*(-t+3*(n-r)+u),6*(t-2*n+r),3*(n-t),f),k(this,uo,h2).call(this,t,n,r,u,e,i,l,d,3*(-e+3*(i-l)+d),6*(e-2*i+l),3*(i-e),f)}}uo=new WeakSet,Ng=function(t,e,n,i,r,l,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,y=f*f,w=y*f,b=g*(g*(g*t+3*f*e)+3*y*n)+w*i,A=g*(g*(g*r+3*f*l)+3*y*u)+w*d;p[0]=Math.min(p[0],b),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],b),p[3]=Math.max(p[3],A)},h2=function(t,e,n,i,r,l,u,d,f,p,g,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&k(this,uo,Ng).call(this,t,e,n,i,r,l,u,d,-g/p,y);return}const w=p**2-4*g*f;if(w<0)return;const b=Math.sqrt(w),A=2*f;k(this,uo,Ng).call(this,t,e,n,i,r,l,u,d,(-p+b)/A,y),k(this,uo,Ng).call(this,t,e,n,i,r,l,u,d,(-p-b)/A,y)},_(Se,uo);function bI(a){return decodeURIComponent(escape(a))}let L1=null,m_=null;function AI(a){return L1||(L1=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,m_=new Map([["ﬅ","ſt"]])),a.replaceAll(L1,(t,e,n)=>e?e.normalize("NFKC"):m_.get(n))}function nC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),tC(a)}const Zw="pdfjs_internal_id_";function _I(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,i,...r]=e;if(!a(n)&&!Number.isInteger(n)||!t(i))return!1;const l=r.length;let u=!0;switch(i.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of r)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function jn(a,t,e){return Math.min(Math.max(a,t),e)}function sC(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(tC(a))}function EI(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):Jp(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});const wr="http://www.w3.org/2000/svg",ul=class ul{};ae(ul,"CSS",96),ae(ul,"PDF",72),ae(ul,"PDF_TO_CSS_UNITS",ul.CSS/ul.PDF);let Ha=ul;async function Zp(a,t="text"){if($d(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",a,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class em{constructor({viewBox:t,userUnit:e,scale:n,rotation:i,offsetX:r=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,y,w;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,g=0,y=0,w=1;break;case 90:p=0,g=1,y=1,w=0;break;case 270:p=0,g=-1,y=-1,w=0;break;case 0:p=1,g=0,y=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(y=-y,w=-w);let b,A,E,T;p===0?(b=Math.abs(f-t[1])*n+r,A=Math.abs(d-t[0])*n+l,E=(t[3]-t[1])*n,T=(t[2]-t[0])*n):(b=Math.abs(d-t[0])*n+r,A=Math.abs(f-t[1])*n+l,E=(t[2]-t[0])*n,T=(t[3]-t[1])*n),this.transform=[p*n,g*n,y*n,w*n,b-p*n*d-y*n*f,A-g*n*d-w*n*f],this.width=E,this.height=T}get rawDims(){const t=this.viewBox;return je(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new em({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){const n=[t,e];return Se.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];Se.applyTransform(e,this.transform);const n=[t[2],t[3]];return Se.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return Se.applyInverseTransform(n,this.transform),n}}class eS extends Lc{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function hy(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function tS(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function CI(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function kI(a,t="document.pdf"){if(typeof a!="string")return t;if(hy(a))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return t;const i=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},r=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(r.test(l))return i(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(r.test(f))return i(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(r.test(f))return i(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return i(d[0])}return t}class g_{constructor(){ae(this,"started",Object.create(null));ae(this,"times",[])}time(t){t in this.started&&Ne(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ne(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-i}ms
`);return t.join("")}}function $d(a,t){const e=t?URL.parse(a,t):URL.parse(a);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function ei(a){a.preventDefault()}function Dt(a){a.preventDefault(),a.stopPropagation()}function TI(a){console.log("Deprecated API usage: "+a)}var wf;class x0{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;c(this,wf)||x(this,wf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=c(this,wf).exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(n,i,r,l,u,d))}}wf=new WeakMap,_(x0,wf);function PI(a,{scale:t=1,rotation:e=0}){const{width:n,height:i}=a.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new em({viewBox:r,userUnit:1,scale:t,rotation:e})}function dy(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ne(`Not a valid color format: "${a}"`),[0,0,0])}function RI(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,dy(n))}t.remove()}function At(a){const{a:t,b:e,c:n,d:i,e:r,f:l}=a.getTransform();return[t,e,n,i,r,l]}function Ti(a){const{a:t,b:e,c:n,d:i,e:r,f:l}=a.getTransform().invertSelf();return[t,e,n,i,r,l]}function kc(a,t,e=!1,n=!0){if(t instanceof em){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:l}=a,u=vn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${i}px`,f=`var(--total-scale-factor) * ${r}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&a.setAttribute("data-main-rotation",t.rotation)}class ar{constructor(){const{pixelRatio:t}=ar;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,i,r=-1){let l=1/0,u=1/0,d=1/0;n=ar.capPixels(n,r),n>0&&(l=Math.sqrt(n/(t*e))),i!==-1&&(u=i/t,d=i/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const d2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var $o,Uo,Hs,_r,Sf,_u,Eu,xf,N0,iC,yn,rC,oC,lu,Ud;const br=class br{constructor(t){_(this,yn);_(this,$o,null);_(this,Uo,null);_(this,Hs);_(this,_r,null);_(this,Sf,null);_(this,_u,null);_(this,Eu,null);x(this,Hs,t),c(br,xf)||x(br,xf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=x(this,$o,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=c(this,Hs)._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",ei,{signal:e}),t.addEventListener("pointerdown",k(br,N0,iC),{signal:e}));const n=x(this,_r,document.createElement("div"));n.className="buttons",t.append(n);const i=c(this,Hs).toolbarPosition;if(i){const{style:r}=t,l=c(this,Hs)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*l}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return c(this,$o)}hide(){var t;c(this,$o).classList.add("hidden"),(t=c(this,Uo))==null||t.hideDropdown()}show(){var t,e;c(this,$o).classList.remove("hidden"),(t=c(this,Sf))==null||t.shown(),(e=c(this,_u))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=c(this,Hs),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",c(br,xf)[t]),k(this,yn,lu).call(this,n)&&n.addEventListener("click",i=>{e.delete()},{signal:e._signal}),c(this,_r).append(n)}async addAltText(t){const e=await t.render();k(this,yn,lu).call(this,e),c(this,_r).append(e,c(this,yn,Ud)),x(this,Sf,t)}addComment(t){if(c(this,_u))return;const e=t.render();e&&(k(this,yn,lu).call(this,e),c(this,_r).append(e,c(this,yn,Ud)),x(this,_u,t),t.toolbar=this)}addColorPicker(t){if(c(this,Uo))return;x(this,Uo,t);const e=t.renderButton();k(this,yn,lu).call(this,e),c(this,_r).append(e,c(this,yn,Ud))}async addEditSignatureButton(t){const e=x(this,Eu,await t.renderEditButton(c(this,Hs)));k(this,yn,lu).call(this,e),c(this,_r).append(e,c(this,yn,Ud))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){c(this,Eu)&&(c(this,Eu).title=t)}remove(){var t;c(this,$o).remove(),(t=c(this,Uo))==null||t.destroy(),x(this,Uo,null)}};$o=new WeakMap,Uo=new WeakMap,Hs=new WeakMap,_r=new WeakMap,Sf=new WeakMap,_u=new WeakMap,Eu=new WeakMap,xf=new WeakMap,N0=new WeakSet,iC=function(t){t.stopPropagation()},yn=new WeakSet,rC=function(t){c(this,Hs)._focusEventsAllowed=!1,Dt(t)},oC=function(t){c(this,Hs)._focusEventsAllowed=!0,Dt(t)},lu=function(t){const e=c(this,Hs)._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",k(this,yn,rC).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",k(this,yn,oC).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",ei,{signal:e}),!0)},Ud=function(){const t=document.createElement("div");return t.className="divider",t},_(br,N0),_(br,xf,null);let f2=br;var bf,pl,Er,go,aC,lC,p2;class MI{constructor(t){_(this,go);_(this,bf,null);_(this,pl,null);_(this,Er);x(this,Er,t)}show(t,e,n){const[i,r]=k(this,go,lC).call(this,e,n),{style:l}=c(this,pl)||x(this,pl,k(this,go,aC).call(this));t.append(c(this,pl)),l.insetInlineEnd=`${100*i}%`,l.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,pl).remove()}}bf=new WeakMap,pl=new WeakMap,Er=new WeakMap,go=new WeakSet,aC=function(){const t=x(this,pl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=c(this,Er)._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",ei,{signal:e});const n=x(this,bf,document.createElement("div"));return n.className="buttons",t.append(n),c(this,Er).hasCommentManager()&&k(this,go,p2).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{c(this,Er).commentSelection("floating_button")}),k(this,go,p2).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{c(this,Er).highlightSelection("floating_button")}),t},lC=function(t,e){let n=0,i=0;for(const r of t){const l=r.y+r.height;if(l<n)continue;const u=r.x+(e?r.width:0);if(l>n){i=u,n=l;continue}e?u>i&&(i=u):u<i&&(i=u)}return[e?1-i:i,n]},p2=function(t,e,n,i){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const l=document.createElement("span");r.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=c(this,Er)._signal;u instanceof AbortSignal&&!u.aborted&&(r.addEventListener("contextmenu",ei,{signal:u}),r.addEventListener("click",i,{signal:u})),c(this,bf).append(r)};function cC(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}var I0;class LI{constructor(){_(this,I0,0)}get id(){return`${JE}${zt(this,I0)._++}`}}I0=new WeakMap;var Cu,Af,En,ku,Ig;const uS=class uS{constructor(){_(this,ku);_(this,Cu,nC());_(this,Af,0);_(this,En,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return je(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return k(this,ku,Ig).call(this,`${e}_${n}_${i}_${r}`,t)}async getFromUrl(t){return k(this,ku,Ig).call(this,t,t)}async getFromBlob(t,e){const n=await e;return k(this,ku,Ig).call(this,t,n)}async getFromId(t){c(this,En)||x(this,En,new Map);const e=c(this,En).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){c(this,En)||x(this,En,new Map);let n=c(this,En).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${c(this,Cu)}_${zt(this,Af)._++}`,refCounter:1,isSvg:!1},c(this,En).set(t,n),c(this,En).set(n.id,n),n}getSvgUrl(t){const e=c(this,En).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;c(this,En)||x(this,En,new Map);const e=c(this,En).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}(i=n.close)==null||i.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${c(this,Cu)}_`)}};Cu=new WeakMap,Af=new WeakMap,En=new WeakMap,ku=new WeakSet,Ig=async function(t,e){c(this,En)||x(this,En,new Map);let n=c(this,En).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,Cu)}_${zt(this,Af)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(n.url=e,i=await Zp(e,"blob")):e instanceof File?i=n.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const r=uS._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;u.src=await r?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(i),await d}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Ne(i),n=null}return c(this,En).set(t,n),n&&c(this,En).set(n.id,n),n};let m2=uS;var Pt,Ho,_f,xt;class NI{constructor(t=128){_(this,Pt,[]);_(this,Ho,!1);_(this,_f);_(this,xt,-1);x(this,_f,t)}add({cmd:t,undo:e,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(i&&t(),c(this,Ho))return;const d={cmd:t,undo:e,post:n,type:r};if(c(this,xt)===-1){c(this,Pt).length>0&&(c(this,Pt).length=0),x(this,xt,0),c(this,Pt).push(d);return}if(l&&c(this,Pt)[c(this,xt)].type===r){u&&(d.undo=c(this,Pt)[c(this,xt)].undo),c(this,Pt)[c(this,xt)]=d;return}const f=c(this,xt)+1;f===c(this,_f)?c(this,Pt).splice(0,1):(x(this,xt,f),f<c(this,Pt).length&&c(this,Pt).splice(f)),c(this,Pt).push(d)}undo(){if(c(this,xt)===-1)return;x(this,Ho,!0);const{undo:t,post:e}=c(this,Pt)[c(this,xt)];t(),e==null||e(),x(this,Ho,!1),x(this,xt,c(this,xt)-1)}redo(){if(c(this,xt)<c(this,Pt).length-1){x(this,xt,c(this,xt)+1),x(this,Ho,!0);const{cmd:t,post:e}=c(this,Pt)[c(this,xt)];t(),e==null||e(),x(this,Ho,!1)}}hasSomethingToUndo(){return c(this,xt)!==-1}hasSomethingToRedo(){return c(this,xt)<c(this,Pt).length-1}cleanType(t){if(c(this,xt)!==-1){for(let e=c(this,xt);e>=0;e--)if(c(this,Pt)[e].type!==t){c(this,Pt).splice(e+1,c(this,xt)-e),x(this,xt,e);return}c(this,Pt).length=0,x(this,xt,-1)}}destroy(){x(this,Pt,null)}}Pt=new WeakMap,Ho=new WeakMap,_f=new WeakMap,xt=new WeakMap;var D0,uC;class tm{constructor(t){_(this,D0);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=vn.platform;for(const[n,i,r={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:i,options:r}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:i,options:r}),this.allKeys.add(l.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(k(this,D0,uC).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(i.bind(t,...l,e)(),r||Dt(e))}}D0=new WeakSet,uC=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const O0=class O0{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return RI(t),je(this,"_colors",t)}convert(t){const e=dy(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((r,l)=>r===e[l]))return O0._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Se.makeHexColor(...e):t}};ae(O0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let g2=O0;var Tu,as,Pu,Ht,cn,Ru,Cr,Mu,Gs,kr,Go,Wo,Lu,ml,Mi,Ws,gl,Ef,Cf,Nu,kf,Li,Vo,Iu,Xo,Ni,F0,Yo,Du,Tf,qo,yl,Ou,Ko,Pf,Gt,Je,Tr,Qo,Jo,Rf,Fu,Mf,Zo,Ii,Pr,Lf,Nf,Vs,ue,Dg,y2,hC,dC,Hd,fC,pC,mC,v2,gC,w2,S2,yC,Mn,Sr,vC,wC,x2,SC,Gd,b2;const vu=class vu{constructor(t,e,n,i,r,l,u,d,f,p,g,y,w,b,A,E){_(this,ue);_(this,Tu,new AbortController);_(this,as,null);_(this,Pu,null);_(this,Ht,new Map);_(this,cn,new Map);_(this,Ru,null);_(this,Cr,null);_(this,Mu,null);_(this,Gs,new NI);_(this,kr,null);_(this,Go,null);_(this,Wo,null);_(this,Lu,0);_(this,ml,new Set);_(this,Mi,null);_(this,Ws,null);_(this,gl,new Set);ae(this,"_editorUndoBar",null);_(this,Ef,!1);_(this,Cf,!1);_(this,Nu,!1);_(this,kf,null);_(this,Li,null);_(this,Vo,null);_(this,Iu,null);_(this,Xo,!1);_(this,Ni,null);_(this,F0,new LI);_(this,Yo,!1);_(this,Du,!1);_(this,Tf,!1);_(this,qo,null);_(this,yl,null);_(this,Ou,null);_(this,Ko,null);_(this,Pf,null);_(this,Gt,Me.NONE);_(this,Je,new Set);_(this,Tr,null);_(this,Qo,null);_(this,Jo,null);_(this,Rf,null);_(this,Fu,null);_(this,Mf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,Zo,[0,0]);_(this,Ii,null);_(this,Pr,null);_(this,Lf,null);_(this,Nf,null);_(this,Vs,null);const T=this._signal=c(this,Tu).signal;x(this,Pr,t),x(this,Lf,e),x(this,Nf,n),x(this,Ru,i),x(this,kr,r),x(this,Qo,l),x(this,Fu,d),this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:T}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),u._on("setpreference",this.onSetPreference.bind(this),{signal:T}),u._on("switchannotationeditorparams",M=>this.updateParams(M.type,M.value),{signal:T}),window.addEventListener("pointerdown",()=>{x(this,Du,!0)},{capture:!0,signal:T}),window.addEventListener("pointerup",()=>{x(this,Du,!1)},{capture:!0,signal:T}),k(this,ue,fC).call(this),k(this,ue,yC).call(this),k(this,ue,v2).call(this),x(this,Cr,d.annotationStorage),x(this,kf,d.filterFactory),x(this,Jo,f),x(this,Iu,p||null),x(this,Ef,g),x(this,Cf,y),x(this,Nu,w),x(this,Pf,b||null),this.viewParameters={realScale:Ha.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1}static get _keyboardManager(){const t=vu.prototype,e=l=>c(l,Pr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return je(this,"_keyboardManager",new tm([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&c(l,Pr).contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&c(l,Pr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n,i,r,l,u,d,f;(t=c(this,Vs))==null||t.resolve(),x(this,Vs,null),(e=c(this,Tu))==null||e.abort(),x(this,Tu,null),this._signal=null;for(const p of c(this,cn).values())p.destroy();c(this,cn).clear(),c(this,Ht).clear(),c(this,gl).clear(),(n=c(this,Ko))==null||n.clear(),x(this,as,null),c(this,Je).clear(),c(this,Gs).destroy(),(i=c(this,Ru))==null||i.destroy(),(r=c(this,kr))==null||r.destroy(),(l=c(this,Qo))==null||l.destroy(),(u=c(this,Ni))==null||u.hide(),x(this,Ni,null),(d=c(this,Ou))==null||d.destroy(),x(this,Ou,null),x(this,Pu,null),c(this,Li)&&(clearTimeout(c(this,Li)),x(this,Li,null)),c(this,Ii)&&(clearTimeout(c(this,Ii)),x(this,Ii,null)),(f=this._editorUndoBar)==null||f.destroy(),x(this,Fu,null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return c(this,Pf)}get useNewAltTextFlow(){return c(this,Cf)}get useNewAltTextWhenAddingImage(){return c(this,Nu)}get hcmFilter(){return je(this,"hcmFilter",c(this,Jo)?c(this,kf).addHCMFilter(c(this,Jo).foreground,c(this,Jo).background):"none")}get direction(){return je(this,"direction",getComputedStyle(c(this,Pr)).direction)}get _highlightColors(){return je(this,"_highlightColors",c(this,Iu)?new Map(c(this,Iu).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return je(this,"highlightColors",null);const e=new Map,n=!!c(this,Jo);for(const[i,r]of t){const l=i.endsWith("_HCM");if(n&&l){e.set(i.replace("_HCM",""),r);continue}!n&&!l&&e.set(i,r)}return je(this,"highlightColors",e)}get highlightColorNames(){return je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),x(this,Wo,t)}setMainHighlightColorPicker(t){x(this,Ou,t)}editAltText(t,e=!1){var n;(n=c(this,Ru))==null||n.editAltText(this,t,e)}hasCommentManager(){return!!c(this,kr)}editComment(t,e){var n;(n=c(this,kr))==null||n.open(this,t,e)}getSignature(t){var e;(e=c(this,Qo))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return c(this,Qo)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":x(this,Nu,e);break}}onPageChanging({pageNumber:t}){x(this,Lu,t-1)}focusMainContainer(){c(this,Pr).focus()}findParent(t,e){for(const n of c(this,cn).values()){const{x:i,y:r,width:l,height:u}=n.div.getBoundingClientRect();if(t>=i&&t<=i+l&&e>=r&&e<=r+u)return n}return null}disableUserSelect(t=!1){c(this,Lf).classList.toggle("noUserSelect",t)}addShouldRescale(t){c(this,gl).add(t)}removeShouldRescale(t){c(this,gl).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*Ha.PDF_TO_CSS_UNITS;for(const n of c(this,gl))n.onScaleChanging();(e=c(this,Wo))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:l,focusOffset:u}=n,d=n.toString(),p=k(this,ue,Dg).call(this,n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const y=k(this,ue,y2).call(this,p),w=c(this,Gt)===Me.NONE,b=()=>{const A=y==null?void 0:y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:i,anchorOffset:r,focusNode:l,focusOffset:u,text:d});w&&this.showAllEditors("highlight",!0,!0),e&&(A==null||A.editComment())};if(w){this.switchToMode(Me.HIGHLIGHT,b);return}b()}commentSelection(t=""){this.highlightSelection(t,!0)}addToAnnotationStorage(t){!t.isEmpty()&&c(this,Cr)&&!c(this,Cr).has(t.id)&&c(this,Cr).setValue(t.id,t)}a11yAlert(t,e=null){const n=c(this,Nf);n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,c(this,Xo)&&(x(this,Xo,!1),k(this,ue,Hd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of c(this,Je))if(e.div.contains(t)){x(this,yl,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!c(this,yl))return;const[t,e]=c(this,yl);x(this,yl,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){k(this,ue,v2).call(this),k(this,ue,w2).call(this)}removeEditListeners(){k(this,ue,gC).call(this),k(this,ue,S2).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of c(this,Ws))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of c(this,Ws))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=c(this,as))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of c(this,Je)){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const l of c(this,Ws))if(l.isHandlingMimeForPasting(r.type)){l.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){Ne(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const d of n){const f=await i.deserialize(d);if(!f)return;r.push(f)}const l=()=>{for(const d of r)k(this,ue,x2).call(this,d);k(this,ue,b2).call(this,r)},u=()=>{for(const d of r)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(r){Ne(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Gt)!==Me.NONE&&!this.isEditorHandlingKeyboard&&vu._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Xo)&&(x(this,Xo,!1),k(this,ue,Hd).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(t){t?(k(this,ue,pC).call(this),k(this,ue,w2).call(this),k(this,ue,Mn).call(this,{isEditing:c(this,Gt)!==Me.NONE,isEmpty:k(this,ue,Gd).call(this),hasSomethingToUndo:c(this,Gs).hasSomethingToUndo(),hasSomethingToRedo:c(this,Gs).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,ue,mC).call(this),k(this,ue,S2).call(this),k(this,ue,Mn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!c(this,Ws)){x(this,Ws,t);for(const e of c(this,Ws))k(this,ue,Sr).call(this,e.defaultPropertiesToUpdate)}}getId(){return c(this,F0).id}get currentLayer(){return c(this,cn).get(c(this,Lu))}getLayer(t){return c(this,cn).get(t)}get currentPageIndex(){return c(this,Lu)}addLayer(t){c(this,cn).set(t.pageIndex,t),c(this,Yo)?t.enable():t.disable()}removeLayer(t){c(this,cn).delete(t.pageIndex)}async updateMode(t,e=null,n=!1,i=!1,r=!1){var l,u,d,f,p;if(c(this,Gt)!==t&&!(c(this,Vs)&&(await c(this,Vs).promise,!c(this,Vs)))){if(x(this,Vs,Promise.withResolvers()),(l=c(this,Wo))==null||l.commitOrRemove(),c(this,Gt)===Me.POPUP&&((u=c(this,kr))==null||u.hideSidebar()),x(this,Gt,t),t===Me.NONE){this.setEditingState(!1),k(this,ue,wC).call(this),(d=this._editorUndoBar)==null||d.hide(),c(this,Vs).resolve();return}t===Me.SIGNATURE&&await((f=c(this,Qo))==null?void 0:f.loadSignatures()),t===Me.POPUP&&(c(this,Pu)||x(this,Pu,await c(this,Fu).getAnnotationsByType(new Set(c(this,Ws).map(g=>g._editorType)))),(p=c(this,kr))==null||p.showSidebar(c(this,Pu))),this.setEditingState(!0),await k(this,ue,vC).call(this),this.unselectAll();for(const g of c(this,cn).values())g.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),c(this,Vs).resolve();return}for(const g of c(this,Ht).values())g.annotationElementId===e||g.id===e?(this.setSelected(g),r?g.editComment():i&&g.enterInEditMode()):g.unselect();c(this,Vs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==c(this,Gt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(c(this,Ws)){switch(t){case He.CREATE:this.currentLayer.addNewEditor(e);return;case He.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,Rf)||x(this,Rf,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of c(this,Je))n.updateParams(t,e);else for(const n of c(this,Ws))n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const l of c(this,Ht).values())l.editorType===t&&l.show(e);(((r=c(this,Rf))==null?void 0:r.get(He.HIGHLIGHT_SHOW_ALL))??!0)!==e&&k(this,ue,Sr).call(this,[[He.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(c(this,Tf)!==t){x(this,Tf,t);for(const e of c(this,cn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of c(this,Ht).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return c(this,Ht).get(t)}addEditor(t){c(this,Ht).set(t.id,t)}removeEditor(t){var e,n;t.div.contains(document.activeElement)&&(c(this,Li)&&clearTimeout(c(this,Li)),x(this,Li,setTimeout(()=>{this.focusMainContainer(),x(this,Li,null)},0))),c(this,Ht).delete(t.id),t.annotationElementId&&((e=c(this,Ko))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!c(this,ml).has(t.annotationElementId))&&((n=c(this,Cr))==null||n.remove(t.id))}addDeletedAnnotationElement(t){c(this,ml).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return c(this,ml).has(t)}removeDeletedAnnotationElement(t){c(this,ml).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){c(this,as)!==t&&(x(this,as,t),t&&k(this,ue,Sr).call(this,t.propertiesToUpdate))}updateUI(t){c(this,ue,SC)===t&&k(this,ue,Sr).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){k(this,ue,Sr).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(c(this,Je).has(t)){c(this,Je).delete(t),t.unselect(),k(this,ue,Mn).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Je).add(t),t.select(),k(this,ue,Sr).call(this,t.propertiesToUpdate),k(this,ue,Mn).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=c(this,Wo))==null||e.commitOrRemove();for(const n of c(this,Je))n!==t&&n.unselect();c(this,Je).clear(),c(this,Je).add(t),t.select(),k(this,ue,Sr).call(this,t.propertiesToUpdate),k(this,ue,Mn).call(this,{hasSelectedEditor:!0})}isSelected(t){return c(this,Je).has(t)}get firstSelectedEditor(){return c(this,Je).values().next().value}unselect(t){t.unselect(),c(this,Je).delete(t),k(this,ue,Mn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Je).size!==0}get isEnterHandled(){return c(this,Je).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;c(this,Gs).undo(),k(this,ue,Mn).call(this,{hasSomethingToUndo:c(this,Gs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,ue,Gd).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){c(this,Gs).redo(),k(this,ue,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Gs).hasSomethingToRedo(),isEmpty:k(this,ue,Gd).call(this)})}addCommands(t){c(this,Gs).add(t),k(this,ue,Mn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,ue,Gd).call(this)})}cleanUndoStack(t){c(this,Gs).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...c(this,Je)],n=()=>{var l;(l=this._editorUndoBar)==null||l.show(i,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},i=()=>{for(const l of e)k(this,ue,x2).call(this,l)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=c(this,as))==null||t.commitOrRemove()}hasSomethingToControl(){return c(this,as)||this.hasSelection}selectAll(){for(const t of c(this,Je))t.commit();k(this,ue,b2).call(this,c(this,Ht).values())}unselectAll(){var t;if(!(c(this,as)&&(c(this,as).commitOrRemove(),c(this,Gt)!==Me.NONE))&&!((t=c(this,Wo))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of c(this,Je))e.unselect();c(this,Je).clear(),k(this,ue,Mn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,Zo)[0]+=t,c(this,Zo)[1]+=e;const[i,r]=c(this,Zo),l=[...c(this,Je)],u=1e3;c(this,Ii)&&clearTimeout(c(this,Ii)),x(this,Ii,setTimeout(()=>{x(this,Ii,null),c(this,Zo)[0]=c(this,Zo)[1]=0,this.addCommands({cmd:()=>{for(const d of l)c(this,Ht).has(d.id)&&(d.translateInPage(i,r),d.translationDone())},undo:()=>{for(const d of l)c(this,Ht).has(d.id)&&(d.translateInPage(-i,-r),d.translationDone())},mustExec:!1})},u));for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Mi,new Map);for(const t of c(this,Je))c(this,Mi).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Mi))return!1;this.disableUserSelect(!1);const t=c(this,Mi);x(this,Mi,null);let e=!1;for(const[{x:i,y:r,pageIndex:l},u]of t)u.newX=i,u.newY=r,u.newPageIndex=l,e||(e=i!==u.savedX||r!==u.savedY||l!==u.savedPageIndex);if(!e)return!1;const n=(i,r,l,u)=>{if(c(this,Ht).has(i.id)){const d=c(this,cn).get(u);d?i._setParentAndPosition(d,r,l):(i.pageIndex=u,i.x=r,i.y=l)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:l,newPageIndex:u}]of t)n(i,r,l,u)},undo:()=>{for(const[i,{savedX:r,savedY:l,savedPageIndex:u}]of t)n(i,r,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(c(this,Mi))for(const n of c(this,Mi).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||c(this,Je).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return c(this,as)===t}getActive(){return c(this,as)}getMode(){return c(this,Gt)}get imageManager(){return je(this,"imageManager",new m2)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,g,y)=>({x:(p-i)/l,y:1-(f+g-n)/r,width:y/l,height:g/r});break;case"180":u=(f,p,g,y)=>({x:1-(f+g-n)/r,y:1-(p+y-i)/l,width:g/r,height:y/l});break;case"270":u=(f,p,g,y)=>({x:1-(p+y-i)/l,y:(f-n)/r,width:y/l,height:g/r});break;default:u=(f,p,g,y)=>({x:(f-n)/r,y:(p-i)/l,width:g/r,height:y/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:y,y:w,width:b,height:A}of g.getClientRects())b===0||A===0||d.push(u(y,w,b,A))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(c(this,Mu)||x(this,Mu,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=c(this,Mu))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=c(this,Mu))==null?void 0:i.get(t.data.id);if(!e)return;const n=c(this,Cr).getRawValue(e);n&&(c(this,Gt)===Me.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){var r;const i=(r=c(this,Ko))==null?void 0:r.get(t);i&&(i.setCanvas(e,n),c(this,Ko).delete(t))}addMissingCanvas(t,e){(c(this,Ko)||x(this,Ko,new Map)).set(t,e)}};Tu=new WeakMap,as=new WeakMap,Pu=new WeakMap,Ht=new WeakMap,cn=new WeakMap,Ru=new WeakMap,Cr=new WeakMap,Mu=new WeakMap,Gs=new WeakMap,kr=new WeakMap,Go=new WeakMap,Wo=new WeakMap,Lu=new WeakMap,ml=new WeakMap,Mi=new WeakMap,Ws=new WeakMap,gl=new WeakMap,Ef=new WeakMap,Cf=new WeakMap,Nu=new WeakMap,kf=new WeakMap,Li=new WeakMap,Vo=new WeakMap,Iu=new WeakMap,Xo=new WeakMap,Ni=new WeakMap,F0=new WeakMap,Yo=new WeakMap,Du=new WeakMap,Tf=new WeakMap,qo=new WeakMap,yl=new WeakMap,Ou=new WeakMap,Ko=new WeakMap,Pf=new WeakMap,Gt=new WeakMap,Je=new WeakMap,Tr=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Rf=new WeakMap,Fu=new WeakMap,Mf=new WeakMap,Zo=new WeakMap,Ii=new WeakMap,Pr=new WeakMap,Lf=new WeakMap,Nf=new WeakMap,Vs=new WeakMap,ue=new WeakSet,Dg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},y2=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of c(this,cn).values())if(n.hasTextLayer(t))return n;return null},hC=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=k(this,ue,Dg).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(c(this,Ni)||x(this,Ni,new MI(this)),c(this,Ni).show(n,i,this.direction==="ltr"))},dC=function(){var r,l,u;const t=document.getSelection();if(!t||t.isCollapsed){c(this,Tr)&&((r=c(this,Ni))==null||r.hide(),x(this,Tr,null),k(this,ue,Mn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===c(this,Tr))return;const i=k(this,ue,Dg).call(this,t).closest(".textLayer");if(!i){c(this,Tr)&&((l=c(this,Ni))==null||l.hide(),x(this,Tr,null),k(this,ue,Mn).call(this,{hasSelectedText:!1}));return}if((u=c(this,Ni))==null||u.hide(),x(this,Tr,e),k(this,ue,Mn).call(this,{hasSelectedText:!0}),!(c(this,Gt)!==Me.HIGHLIGHT&&c(this,Gt)!==Me.NONE)&&(c(this,Gt)===Me.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,Xo,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=c(this,Gt)===Me.HIGHLIGHT?k(this,ue,y2).call(this,i):null;if(d==null||d.toggleDrawing(),c(this,Du)){const f=new AbortController,p=this.combinedSignal(f),g=y=>{y.type==="pointerup"&&y.button!==0||(f.abort(),d==null||d.toggleDrawing(!0),y.type==="pointerup"&&k(this,ue,Hd).call(this,"main_toolbar"))};window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("blur",g,{signal:p})}else d==null||d.toggleDrawing(!0),k(this,ue,Hd).call(this,"main_toolbar")}},Hd=function(t=""){c(this,Gt)===Me.HIGHLIGHT?this.highlightSelection(t):c(this,Ef)&&k(this,ue,hC).call(this)},fC=function(){document.addEventListener("selectionchange",k(this,ue,dC).bind(this),{signal:this._signal})},pC=function(){if(c(this,Vo))return;x(this,Vo,new AbortController);const t=this.combinedSignal(c(this,Vo));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},mC=function(){var t;(t=c(this,Vo))==null||t.abort(),x(this,Vo,null)},v2=function(){if(c(this,qo))return;x(this,qo,new AbortController);const t=this.combinedSignal(c(this,qo));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},gC=function(){var t;(t=c(this,qo))==null||t.abort(),x(this,qo,null)},w2=function(){if(c(this,Go))return;x(this,Go,new AbortController);const t=this.combinedSignal(c(this,Go));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},S2=function(){var t;(t=c(this,Go))==null||t.abort(),x(this,Go,null)},yC=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Mn=function(t){Object.entries(t).some(([n,i])=>c(this,Mf)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Mf),t)}),c(this,Gt)===Me.HIGHLIGHT&&t.hasSelectedEditor===!1&&k(this,ue,Sr).call(this,[[He.HIGHLIGHT_FREE,!0]]))},Sr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},vC=async function(){if(!c(this,Yo)){x(this,Yo,!0);const t=[];for(const e of c(this,cn).values())t.push(e.enable());await Promise.all(t);for(const e of c(this,Ht).values())e.enable()}},wC=function(){if(this.unselectAll(),c(this,Yo)){x(this,Yo,!1);for(const t of c(this,cn).values())t.disable();for(const t of c(this,Ht).values())t.disable()}},x2=function(t){const e=c(this,cn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},SC=function(){let t=null;for(t of c(this,Je));return t},Gd=function(){if(c(this,Ht).size===0)return!0;if(c(this,Ht).size===1)for(const t of c(this,Ht).values())return t.isEmpty();return!1},b2=function(t){for(const e of c(this,Je))e.unselect();c(this,Je).clear();for(const e of t)e.isEmpty()||(c(this,Je).add(e),e.select());k(this,ue,Mn).call(this,{hasSelectedEditor:this.hasSelection})},ae(vu,"TRANSLATE_SMALL",1),ae(vu,"TRANSLATE_BIG",10);let Tc=vu;var Zt,Di,ci,ju,Oi,ls,Bu,Fi,Kn,Rr,vl,ji,ea,wi,Wd,Og;const Ln=class Ln{constructor(t){_(this,wi);_(this,Zt,null);_(this,Di,!1);_(this,ci,null);_(this,ju,null);_(this,Oi,null);_(this,ls,null);_(this,Bu,!1);_(this,Fi,null);_(this,Kn,null);_(this,Rr,null);_(this,vl,null);_(this,ji,!1);x(this,Kn,t),x(this,ji,t._uiManager.useNewAltTextFlow),c(Ln,ea)||x(Ln,ea,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Ln._l10n??(Ln._l10n=t)}async render(){const t=x(this,ci,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=x(this,ju,document.createElement("span"));t.append(e),c(this,ji)?(t.classList.add("new"),t.setAttribute("data-l10n-id",c(Ln,ea).missing),e.setAttribute("data-l10n-id",c(Ln,ea)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,Kn)._uiManager._signal;t.addEventListener("contextmenu",ei,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),c(this,Kn)._uiManager.editAltText(c(this,Kn)),c(this,ji)&&c(this,Kn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,wi,Wd)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(x(this,Bu,!0),i(r))},{signal:n}),await k(this,wi,Og).call(this),t}finish(){c(this,ci)&&(c(this,ci).focus({focusVisible:c(this,Bu)}),x(this,Bu,!1))}isEmpty(){return c(this,ji)?c(this,Zt)===null:!c(this,Zt)&&!c(this,Di)}hasData(){return c(this,ji)?c(this,Zt)!==null||!!c(this,Rr):this.isEmpty()}get guessedText(){return c(this,Rr)}async setGuessedText(t){c(this,Zt)===null&&(x(this,Rr,t),x(this,vl,await Ln._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),k(this,wi,Og).call(this))}toggleAltTextBadge(t=!1){var e;if(!c(this,ji)||c(this,Zt)){(e=c(this,Fi))==null||e.remove(),x(this,Fi,null);return}if(!c(this,Fi)){const n=x(this,Fi,document.createElement("div"));n.className="noAltTextBadge",c(this,Kn).div.append(n)}c(this,Fi).classList.toggle("hidden",!t)}serialize(t){let e=c(this,Zt);return!t&&c(this,Rr)===e&&(e=c(this,vl)),{altText:e,decorative:c(this,Di),guessedText:c(this,Rr),textWithDisclaimer:c(this,vl)}}get data(){return{altText:c(this,Zt),decorative:c(this,Di)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(x(this,Rr,n),x(this,vl,i)),!(c(this,Zt)===t&&c(this,Di)===e)&&(r||(x(this,Zt,t),x(this,Di,e)),k(this,wi,Og).call(this))}toggle(t=!1){c(this,ci)&&(!t&&c(this,ls)&&(clearTimeout(c(this,ls)),x(this,ls,null)),c(this,ci).disabled=!t)}shown(){c(this,Kn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,wi,Wd)}})}destroy(){var t,e;(t=c(this,ci))==null||t.remove(),x(this,ci,null),x(this,ju,null),x(this,Oi,null),(e=c(this,Fi))==null||e.remove(),x(this,Fi,null)}};Zt=new WeakMap,Di=new WeakMap,ci=new WeakMap,ju=new WeakMap,Oi=new WeakMap,ls=new WeakMap,Bu=new WeakMap,Fi=new WeakMap,Kn=new WeakMap,Rr=new WeakMap,vl=new WeakMap,ji=new WeakMap,ea=new WeakMap,wi=new WeakSet,Wd=function(){return c(this,Zt)&&"added"||c(this,Zt)===null&&this.guessedText&&"review"||"missing"},Og=async function(){var i,r,l;const t=c(this,ci);if(!t)return;if(c(this,ji)){if(t.classList.toggle("done",!!c(this,Zt)),t.setAttribute("data-l10n-id",c(Ln,ea)[c(this,wi,Wd)]),(i=c(this,ju))==null||i.setAttribute("data-l10n-id",c(Ln,ea)[`${c(this,wi,Wd)}-label`]),!c(this,Zt)){(r=c(this,Oi))==null||r.remove();return}}else{if(!c(this,Zt)&&!c(this,Di)){t.classList.remove("done"),(l=c(this,Oi))==null||l.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=c(this,Oi);if(!e){x(this,Oi,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${c(this,Kn).id}`;const u=100,d=c(this,Kn)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(c(this,ls)),x(this,ls,null)},{once:!0}),t.addEventListener("mouseenter",()=>{x(this,ls,setTimeout(()=>{x(this,ls,null),c(this,Oi).classList.add("show"),c(this,Kn)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),t.addEventListener("mouseleave",()=>{var f;c(this,ls)&&(clearTimeout(c(this,ls)),x(this,ls,null)),(f=c(this,Oi))==null||f.classList.remove("show")},{signal:d})}c(this,Di)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=c(this,Zt)),e.parentNode||t.append(e);const n=c(this,Kn).getElementForAltText();n==null||n.setAttribute("aria-describedby",e.id)},_(Ln,ea,null),ae(Ln,"_l10n",null);let b0=Ln;var Bi,wl,ui,If,Mr,zu,ta;class Sg{constructor(t){_(this,Bi,null);_(this,wl,!1);_(this,ui,null);_(this,If,null);_(this,Mr,null);_(this,zu,null);_(this,ta,!1);x(this,ui,t),this.toolbar=null}render(){if(!c(this,ui)._uiManager.hasCommentManager())return null;const t=x(this,Bi,document.createElement("button"));t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=c(this,ui)._uiManager._signal;if(!(e instanceof AbortSignal)||e.aborted)return t;t.addEventListener("contextmenu",ei,{signal:e}),t.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:e});const n=i=>{i.preventDefault(),this.edit()};return t.addEventListener("click",n,{capture:!0,signal:e}),t.addEventListener("keydown",i=>{i.target===t&&i.key==="Enter"&&(x(this,wl,!0),n(i))},{signal:e}),t}edit(){const{bottom:t,left:e,right:n}=c(this,ui).getClientDimensions(),i={top:t};c(this,ui)._uiManager.direction==="ltr"?i.right=n:i.left=e,c(this,ui)._uiManager.editComment(c(this,ui),i)}finish(){c(this,Bi)&&(c(this,Bi).focus({focusVisible:c(this,wl)}),x(this,wl,!1))}isDeleted(){return c(this,ta)||c(this,Mr)===""}hasBeenEdited(){return this.isDeleted()||c(this,Mr)!==c(this,If)}serialize(){return this.data}get data(){return{text:c(this,Mr),date:c(this,zu),deleted:c(this,ta)}}set data(t){if(t===null){x(this,Mr,""),x(this,ta,!0);return}x(this,Mr,t),x(this,zu,new Date),x(this,ta,!1)}setInitialText(t){x(this,If,t),this.data=t}toggle(t=!1){c(this,Bi)&&(c(this,Bi).disabled=!t)}shown(){}destroy(){var t;(t=c(this,Bi))==null||t.remove(),x(this,Bi,null),x(this,Mr,""),x(this,zu,null),x(this,ui,null),x(this,wl,!1),x(this,ta,!1)}}Bi=new WeakMap,wl=new WeakMap,ui=new WeakMap,If=new WeakMap,Mr=new WeakMap,zu=new WeakMap,ta=new WeakMap;var $u,Sl,Df,Of,Ff,jf,Bf,Lr,xl,Nr,bl,Ir,Ga,xC,bC,AC;const hS=class hS{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:l=null,signal:u}){_(this,Ga);_(this,$u);_(this,Sl,!1);_(this,Df,null);_(this,Of);_(this,Ff);_(this,jf);_(this,Bf);_(this,Lr,null);_(this,xl);_(this,Nr,null);_(this,bl);_(this,Ir,null);x(this,$u,t),x(this,Df,n),x(this,Of,e),x(this,Ff,i),x(this,jf,r),x(this,Bf,l),x(this,bl,new AbortController),x(this,xl,AbortSignal.any([u,c(this,bl).signal])),t.addEventListener("touchstart",k(this,Ga,xC).bind(this),{passive:!1,signal:c(this,xl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ar.pixelRatio}destroy(){var t,e;(t=c(this,bl))==null||t.abort(),x(this,bl,null),(e=c(this,Lr))==null||e.abort(),x(this,Lr,null)}};$u=new WeakMap,Sl=new WeakMap,Df=new WeakMap,Of=new WeakMap,Ff=new WeakMap,jf=new WeakMap,Bf=new WeakMap,Lr=new WeakMap,xl=new WeakMap,Nr=new WeakMap,bl=new WeakMap,Ir=new WeakMap,Ga=new WeakSet,xC=function(t){var i,r,l;if((i=c(this,Of))!=null&&i.call(this))return;if(t.touches.length===1){if(c(this,Lr))return;const u=x(this,Lr,new AbortController),d=AbortSignal.any([c(this,xl),u.signal]),f=c(this,$u),p={capture:!0,signal:d,passive:!1},g=y=>{var w;y.pointerType==="touch"&&((w=c(this,Lr))==null||w.abort(),x(this,Lr,null))};f.addEventListener("pointerdown",y=>{y.pointerType==="touch"&&(Dt(y),g(y))},p),f.addEventListener("pointerup",g,p),f.addEventListener("pointercancel",g,p);return}if(!c(this,Ir)){x(this,Ir,new AbortController);const u=AbortSignal.any([c(this,xl),c(this,Ir).signal]),d=c(this,$u),f={signal:u,capture:!1,passive:!1};d.addEventListener("touchmove",k(this,Ga,bC).bind(this),f);const p=k(this,Ga,AC).bind(this);d.addEventListener("touchend",p,f),d.addEventListener("touchcancel",p,f),f.capture=!0,d.addEventListener("pointerdown",Dt,f),d.addEventListener("pointermove",Dt,f),d.addEventListener("pointercancel",Dt,f),d.addEventListener("pointerup",Dt,f),(r=c(this,Ff))==null||r.call(this)}if(Dt(t),t.touches.length!==2||(l=c(this,Df))!=null&&l.call(this)){x(this,Nr,null);return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),x(this,Nr,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY})},bC=function(t){var L;if(!c(this,Nr)||t.touches.length!==2)return;Dt(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:i,screenY:r}=e,{screenX:l,screenY:u}=n,d=c(this,Nr),{touch0X:f,touch0Y:p,touch1X:g,touch1Y:y}=d,w=g-f,b=y-p,A=l-i,E=u-r,T=Math.hypot(A,E)||1,M=Math.hypot(w,b)||1;if(!c(this,Sl)&&Math.abs(M-T)<=hS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=i,d.touch0Y=r,d.touch1X=l,d.touch1Y=u,!c(this,Sl)){x(this,Sl,!0);return}const R=[(i+l)/2,(r+u)/2];(L=c(this,jf))==null||L.call(this,R,M,T)},AC=function(t){var e;t.touches.length>=2||(c(this,Ir)&&(c(this,Ir).abort(),x(this,Ir,null),(e=c(this,Bf))==null||e.call(this)),c(this,Nr)&&(Dt(t),x(this,Nr,null),x(this,Sl,!1)))};let A0=hS;var Al,hi,pt,un,Uu,na,zf,_l,hn,El,Dr,sa,$f,Cl,cs,Uf,kl,Or,zi,Hu,Gu,Xs,Tl,Hf,j0,Pe,A2,Gf,_2,Fg,_C,EC,E2,jg,C2,CC,kC,TC,k2,PC,T2,RC,MC,LC,P2,Vd;const De=class De{constructor(t){_(this,Pe);_(this,Al,null);_(this,hi,null);_(this,pt,null);_(this,un,null);_(this,Uu,!1);_(this,na,null);_(this,zf,"");_(this,_l,!1);_(this,hn,null);_(this,El,null);_(this,Dr,null);_(this,sa,null);_(this,$f,"");_(this,Cl,!1);_(this,cs,null);_(this,Uf,!1);_(this,kl,!1);_(this,Or,!1);_(this,zi,null);_(this,Hu,0);_(this,Gu,0);_(this,Xs,null);_(this,Tl,null);ae(this,"isSelected",!1);ae(this,"_isCopy",!1);ae(this,"_editToolbar",null);ae(this,"_initialOptions",Object.create(null));ae(this,"_initialData",null);ae(this,"_isVisible",!0);ae(this,"_uiManager",null);ae(this,"_focusEventsAllowed",!0);_(this,Hf,!1);_(this,j0,De._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=De.prototype._resizeWithKeyboard,e=Tc.TRANSLATE_SMALL,n=Tc.TRANSLATE_BIG;return je(this,"_resizerKeyboardManager",new tm([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],De.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new II({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(De._l10n??(De._l10n=t),De._l10nResizer||(De._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),De._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);De._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){st("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Hf)}set _isDraggable(t){var e;x(this,Hf,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,j0)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):k(this,Pe,Vd).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(c(this,Cl)?x(this,Cl,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,l]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i),this._onTranslated()}translate(t,e){k(this,Pe,A2).call(this,this.parentDimensions,t,e)}translateInPage(t,e){c(this,cs)||x(this,cs,[this.x,this.y,this.width,this.height]),k(this,Pe,A2).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){c(this,cs)||x(this,cs,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!c(this,cs)&&(c(this,cs)[0]!==this.x||c(this,cs)[1]!==this.y)}get _hasBeenResized(){return!!c(this,cs)&&(c(this,cs)[2]!==this.width||c(this,cs)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=De,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,i]}=this;let{x:r,y:l,width:u,height:d}=this;if(u*=n,d*=i,r*=n,l*=i,this._mustFixPosition)switch(t){case 0:r=jn(r,0,n-u),l=jn(l,0,i-d);break;case 90:r=jn(r,0,n-d),l=jn(l,u,i);break;case 180:r=jn(r,u,n),l=jn(l,d,i);break;case 270:r=jn(r,d,n),l=jn(l,0,i-u);break}this.x=r/=n,this.y=l/=i;const[f,p]=this.getBaseTranslation();r+=f,l+=p,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return k(n=De,Gf,_2).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return k(n=De,Gf,_2).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/n).toFixed(2)}%`,c(this,_l)||(r.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),r=!c(this,_l)&&e.endsWith("%");if(i&&r)return;const[l,u]=this.parentDimensions;i||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!c(this,_l)&&!r&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=c(this,pt))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||c(this,kl))return this._editToolbar;this._editToolbar=new f2(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=c(this,pt))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return c(this,pt)||(b0.initialize(De._l10n),x(this,pt,new b0(this)),c(this,Al)&&(c(this,pt).data=c(this,Al),x(this,Al,null))),c(this,pt)}get altTextData(){var t;return(t=c(this,pt))==null?void 0:t.data}set altTextData(t){c(this,pt)&&(c(this,pt).data=t)}get guessedAltText(){var t;return(t=c(this,pt))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=c(this,pt))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=c(this,pt))==null?void 0:e.serialize(t)}hasAltText(){return!!c(this,pt)&&!c(this,pt).isEmpty()}hasAltTextData(){var t;return((t=c(this,pt))==null?void 0:t.hasData())??!1}addCommentButton(){return c(this,un)?c(this,un):x(this,un,new Sg(this))}get commentColor(){return null}get comment(){const t=c(this,un);return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){c(this,un)||x(this,un,new Sg(this)),c(this,un).data=t}setCommentData(t){c(this,un)||x(this,un,new Sg(this)),c(this,un).setInitialText(t)}get hasEditedComment(){var t;return(t=c(this,un))==null?void 0:t.hasBeenEdited()}async editComment(){c(this,un)||x(this,un,new Sg(this)),c(this,un).edit()}addComment(t){if(this.hasEditedComment){const[,,,i]=t.rect,[r]=this.pageDimensions,[l]=this.pageTranslation,u=l+r+1,d=i-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,i]}}}render(){var l;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=c(this,Uu)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),k(this,Pe,T2).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),cC(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(c(this,Tl)||x(this,Tl,new A0({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,Pe,CC).bind(this),onPinching:k(this,Pe,kC).bind(this),onPinchEnd:k(this,Pe,TC).bind(this),signal:this._uiManager._signal}))),(l=this._uiManager._editorUndoBar)==null||l.hide(),t}pointerdown(t){const{isMac:e}=vn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(x(this,Cl,!0),this._isDraggable){k(this,Pe,PC).call(this,t);return}k(this,Pe,k2).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){c(this,zi)&&clearTimeout(c(this,zi)),x(this,zi,setTimeout(()=>{var t;x(this,zi,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const i=this.parentScale,[r,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/i,p=e/i,g=this.x*r,y=this.y*l,w=this.width*r,b=this.height*l;switch(n){case 0:return[g+f+u,l-y-p-b+d,g+f+w+u,l-y-p+d];case 90:return[g+p+u,l-y+f+d,g+p+b+u,l-y+f+w+d];case 180:return[g-f-w+u,l-y+p+d,g-f+u,l-y+p+b+d];case 270:return[g-p-b+u,l-y-f-w+d,g-p+u,l-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,l]=t,u=r-n,d=l-i;switch(this.rotation){case 0:return[n,e-l,u,d];case 90:return[n,e-i,d,u];case 180:return[r,e-i,u,d];case 270:return[r,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),x(this,kl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),x(this,kl,!1),!0):!1}isInEditMode(){return c(this,kl)}shouldGetKeyboardEvents(){return c(this,Or)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:l}=window;return e<l&&i>0&&t<r&&n>0}rebuild(){k(this,Pe,T2).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){st("An editor must be serializable")}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});i.rotation=t.rotation,x(i,Al,t.accessibilityData),i._isCopy=t.isCopy||!1;const[r,l]=i.pageDimensions,[u,d,f,p]=i.getRectInCurrentCoords(t.rect,l);return i.x=u/r,i.y=d/l,i.width=f/r,i.height=p/l,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=c(this,sa))==null||t.abort(),x(this,sa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,zi)&&(clearTimeout(c(this,zi)),x(this,zi,null)),k(this,Pe,Vd).call(this),this.removeEditToolbar(),c(this,Xs)){for(const n of c(this,Xs).values())clearTimeout(n);x(this,Xs,null)}this.parent=null,(e=c(this,Tl))==null||e.destroy(),x(this,Tl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,Pe,_C).call(this),c(this,hn).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),x(this,Dr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=c(this,hn).children;if(!c(this,hi)){x(this,hi,Array.from(e));const l=k(this,Pe,RC).bind(this),u=k(this,Pe,MC).bind(this),d=this._uiManager._signal;for(const f of c(this,hi)){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",k(this,Pe,LC).bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",De._l10nResizer[p])}}const n=c(this,hi)[0];let i=0;for(const l of e){if(l===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(c(this,hi).length/4);if(r!==i){if(r<i)for(let u=0;u<i-r;u++)c(this,hn).append(c(this,hn).firstChild);else if(r>i)for(let u=0;u<r-i;u++)c(this,hn).firstChild.before(c(this,hn).lastChild);let l=0;for(const u of e){const f=c(this,hi)[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",De._l10nResizer[f])}}k(this,Pe,P2).call(this,0),x(this,Or,!0),c(this,hn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){c(this,Or)&&k(this,Pe,C2).call(this,c(this,$f),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,Pe,Vd).call(this),this.div.focus()}select(){var t,e,n;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(n=c(this,pt))==null||n.toggleAltTextBadge(!1)}}unselect(){var t,e,n,i,r;this.isSelected&&(this.isSelected=!1,(t=c(this,hn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=c(this,pt))==null||r.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return c(this,Uf)}set isEditing(t){x(this,Uf,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){x(this,_l,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){c(this,Xs)||x(this,Xs,new Map);const{action:n}=t;let i=c(this,Xs).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),c(this,Xs).delete(n),c(this,Xs).size===0&&x(this,Xs,null)},De._telemetryTimeout),c(this,Xs).set(n,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),x(this,Uu,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Uu,!0)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Al=new WeakMap,hi=new WeakMap,pt=new WeakMap,un=new WeakMap,Uu=new WeakMap,na=new WeakMap,zf=new WeakMap,_l=new WeakMap,hn=new WeakMap,El=new WeakMap,Dr=new WeakMap,sa=new WeakMap,$f=new WeakMap,Cl=new WeakMap,cs=new WeakMap,Uf=new WeakMap,kl=new WeakMap,Or=new WeakMap,zi=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,Xs=new WeakMap,Tl=new WeakMap,Hf=new WeakMap,j0=new WeakMap,Pe=new WeakSet,A2=function([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Gf=new WeakSet,_2=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Fg=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},_C=function(){if(c(this,hn))return;x(this,hn,document.createElement("div")),c(this,hn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const i=document.createElement("div");c(this,hn).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",k(this,Pe,EC).bind(this,n),{signal:e}),i.addEventListener("contextmenu",ei,{signal:e}),i.tabIndex=-1}this.div.prepend(c(this,hn))},EC=function(t,e){var p;e.preventDefault();const{isMac:n}=vn.platform;if(e.button!==0||e.ctrlKey&&n)return;(p=c(this,pt))==null||p.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,x(this,El,[e.screenX,e.screenY]);const r=new AbortController,l=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,Pe,C2).bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Dt,{passive:!1,signal:l}),window.addEventListener("contextmenu",ei,{signal:l}),x(this,Dr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{var g;r.abort(),this.parent.togglePointerEvents(!0),(g=c(this,pt))==null||g.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=u,this.div.style.cursor=d,k(this,Pe,jg).call(this)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})},E2=function(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e;const[r,l]=this.parentDimensions;this.setDims(r*n,l*i),this.fixAndSetPosition(),this._onResized()},jg=function(){if(!c(this,Dr))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=c(this,Dr);x(this,Dr,null);const r=this.x,l=this.y,u=this.width,d=this.height;r===t&&l===e&&u===n&&d===i||this.addCommands({cmd:k(this,Pe,E2).bind(this,r,l,u,d),undo:k(this,Pe,E2).bind(this,t,e,n,i),mustExec:!0})},C2=function(t,e){const[n,i]=this.parentDimensions,r=this.x,l=this.y,u=this.width,d=this.height,f=De.MIN_SIZE/n,p=De.MIN_SIZE/i,g=k(this,Pe,Fg).call(this,this.rotation),y=(W,H)=>[g[0]*W+g[2]*H,g[1]*W+g[3]*H],w=k(this,Pe,Fg).call(this,360-this.rotation),b=(W,H)=>[w[0]*W+w[2]*H,w[1]*W+w[3]*H];let A,E,T=!1,M=!1;switch(t){case"topLeft":T=!0,A=(W,H)=>[0,0],E=(W,H)=>[W,H];break;case"topMiddle":A=(W,H)=>[W/2,0],E=(W,H)=>[W/2,H];break;case"topRight":T=!0,A=(W,H)=>[W,0],E=(W,H)=>[0,H];break;case"middleRight":M=!0,A=(W,H)=>[W,H/2],E=(W,H)=>[0,H/2];break;case"bottomRight":T=!0,A=(W,H)=>[W,H],E=(W,H)=>[0,0];break;case"bottomMiddle":A=(W,H)=>[W/2,H],E=(W,H)=>[W/2,0];break;case"bottomLeft":T=!0,A=(W,H)=>[0,H],E=(W,H)=>[W,0];break;case"middleLeft":M=!0,A=(W,H)=>[0,H/2],E=(W,H)=>[W,H/2];break}const R=A(u,d),L=E(u,d);let N=y(...L);const D=De._round(r+N[0]),B=De._round(l+N[1]);let X=1,ee=1,$,F;if(e.fromKeyboard)({deltaX:$,deltaY:F}=e);else{const{screenX:W,screenY:H}=e,[q,K]=c(this,El);[$,F]=this.screenToPageTranslation(W-q,H-K),c(this,El)[0]=W,c(this,El)[1]=H}if([$,F]=b($/n,F/i),T){const W=Math.hypot(u,d);X=ee=Math.max(Math.min(Math.hypot(L[0]-R[0]-$,L[1]-R[1]-F)/W,1/u,1/d),f/u,p/d)}else M?X=jn(Math.abs(L[0]-R[0]-$),f,1)/u:ee=jn(Math.abs(L[1]-R[1]-F),p,1)/d;const J=De._round(u*X),oe=De._round(d*ee);N=y(...E(J,oe));const ce=D-N[0],te=B-N[1];c(this,cs)||x(this,cs,[this.x,this.y,this.width,this.height]),this.width=J,this.height=oe,this.x=ce,this.y=te,this.setDims(n*J,i*oe),this.fixAndSetPosition(),this._onResizing()},CC=function(){var t;x(this,Dr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=c(this,pt))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},kC=function(t,e,n){let r=.7*(n/e)+1-.7;if(r===1)return;const l=k(this,Pe,Fg).call(this,this.rotation),u=(D,B)=>[l[0]*D+l[2]*B,l[1]*D+l[3]*B],[d,f]=this.parentDimensions,p=this.x,g=this.y,y=this.width,w=this.height,b=De.MIN_SIZE/d,A=De.MIN_SIZE/f;r=Math.max(Math.min(r,1/y,1/w),b/y,A/w);const E=De._round(y*r),T=De._round(w*r);if(E===y&&T===w)return;c(this,cs)||x(this,cs,[p,g,y,w]);const M=u(y/2,w/2),R=De._round(p+M[0]),L=De._round(g+M[1]),N=u(E/2,T/2);this.x=R-N[0],this.y=L-N[1],this.width=E,this.height=T,this.setDims(d*E,f*T),this.fixAndSetPosition(),this._onResizing()},TC=function(){var t;(t=c(this,pt))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),k(this,Pe,jg).call(this)},k2=function(t){const{isMac:e}=vn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},PC=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),l={capture:!0,passive:!1,signal:r},u=f=>{i.abort(),x(this,na,null),x(this,Cl,!1),this._uiManager.endDragSession()||k(this,Pe,k2).call(this,f),n&&this._onStopDragging()};e&&(x(this,Hu,t.clientX),x(this,Gu,t.clientY),x(this,na,t.pointerId),x(this,zf,t.pointerType),window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:g,pointerId:y}=f;if(y!==c(this,na)){Dt(f);return}const[w,b]=this.screenToPageTranslation(p-c(this,Hu),g-c(this,Gu));x(this,Hu,p),x(this,Gu,g),this._uiManager.dragSelectedEditors(w,b)},l),window.addEventListener("touchmove",Dt,l),window.addEventListener("pointerdown",f=>{f.pointerType===c(this,zf)&&(c(this,Tl)||f.isPrimary)&&u(f),Dt(f)},l));const d=f=>{if(!c(this,na)||c(this,na)===f.pointerId){u(f);return}Dt(f)};window.addEventListener("pointerup",d,{signal:r}),window.addEventListener("blur",d,{signal:r})},T2=function(){if(c(this,sa)||!this.div)return;x(this,sa,new AbortController);const t=this._uiManager.combinedSignal(c(this,sa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},RC=function(t){De._resizerKeyboardManager.exec(this,t)},MC=function(t){var e;c(this,Or)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==c(this,hn)&&k(this,Pe,Vd).call(this)},LC=function(t){x(this,$f,c(this,Or)?t:"")},P2=function(t){if(c(this,hi))for(const e of c(this,hi))e.tabIndex=t},Vd=function(){x(this,Or,!1),k(this,Pe,P2).call(this,-1),k(this,Pe,jg).call(this)},_(De,Gf),ae(De,"_l10n",null),ae(De,"_l10nResizer",null),ae(De,"_borderLineWidth",-1),ae(De,"_colorManager",new g2),ae(De,"_zIndex",1),ae(De,"_telemetryTimeout",1e3);let ot=De;class II extends ot{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const y_=3285377520,zs=4294901760,Pi=65535;class NC{constructor(t){this.h1=t?t&4294967295:y_,this.h2=t?t&4294967295:y_}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let A=0,E=t.length;A<E;A++){const T=t.charCodeAt(A);T<=255?e[n++]=T:(e[n++]=T>>>8,e[n++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,l=new Uint32Array(e.buffer,0,i);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,y=461845907,w=g&Pi,b=y&Pi;for(let A=0;A<i;A++)A&1?(u=l[A],u=u*g&zs|u*w&Pi,u=u<<15|u>>>17,u=u*y&zs|u*b&Pi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[A],d=d*g&zs|d*w&Pi,d=d<<15|d>>>17,d=d*y&zs|d*b&Pi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,r){case 3:u^=e[i*4+2]<<16;case 2:u^=e[i*4+1]<<8;case 1:u^=e[i*4],u=u*g&zs|u*w&Pi,u=u<<15|u>>>17,u=u*y&zs|u*b&Pi,i&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&zs|t*36045&Pi,e=e*4283543511&zs|((e<<16|t>>>16)*2950163797&zs)>>>16,t^=e>>>1,t=t*444984403&zs|t*60499&Pi,e=e*3301882366&zs|((e<<16|t>>>16)*3120437893&zs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const R2=Object.freeze({map:null,hash:"",transfer:void 0});var Pl,Rl,dn,B0,IC;class nS{constructor(){_(this,B0);_(this,Pl,!1);_(this,Rl,null);_(this,dn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=c(this,dn).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return c(this,dn).get(t)}remove(t){if(c(this,dn).delete(t),c(this,dn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of c(this,dn).values())if(e instanceof ot)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=c(this,dn).get(t);let i=!1;if(n!==void 0)for(const[r,l]of Object.entries(e))n[r]!==l&&(i=!0,n[r]=l);else i=!0,c(this,dn).set(t,e);i&&k(this,B0,IC).call(this),e instanceof ot&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return c(this,dn).has(t)}get size(){return c(this,dn).size}resetModified(){c(this,Pl)&&(x(this,Pl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new DC(this)}get serializable(){if(c(this,dn).size===0)return R2;const t=new Map,e=new NC,n=[],i=Object.create(null);let r=!1;for(const[l,u]of c(this,dn)){const d=u instanceof ot?u.serialize(!1,i):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),r||(r=!!d.bitmap))}if(r)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:R2}get editorStats(){let t=null;const e=new Map;for(const n of c(this,dn).values()){if(!(n instanceof ot))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const l=t[r]||(t[r]=new Map);for(const[u,d]of Object.entries(i)){if(u==="type")continue;let f=l.get(u);f||(f=new Map,l.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[n,i]of e)t[n]=i.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){x(this,Rl,null)}get modifiedIds(){if(c(this,Rl))return c(this,Rl);const t=[];for(const e of c(this,dn).values())!(e instanceof ot)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return x(this,Rl,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return c(this,dn).entries()}}Pl=new WeakMap,Rl=new WeakMap,dn=new WeakMap,B0=new WeakSet,IC=function(){c(this,Pl)||(x(this,Pl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Wf;class DC extends nS{constructor(e){super();_(this,Wf);const{map:n,hash:i,transfer:r}=e.serializable,l=structuredClone(n,r?{transfer:r}:null);x(this,Wf,{map:l,hash:i,transfer:r})}get print(){st("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Wf)}get modifiedIds(){return je(this,"modifiedIds",{ids:new Set,hash:""})}}Wf=new WeakMap;var Wu;class DI{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){_(this,Wu,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),c(this,Wu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||c(this,Wu).has(t.loadedName))){if(Ot(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:l}=t,u=new FontFace(i,r,l);this.addNativeFontFace(u);try{await u.load(),c(this,Wu).add(i),n==null||n(t)}catch{Ne(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}st("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Ne(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return je(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return je(this,"isSyncFontLoadingSupported",Fn||vn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Ot(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return je(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(L,N){return L.charCodeAt(N)<<24|L.charCodeAt(N+1)<<16|L.charCodeAt(N+2)<<8|L.charCodeAt(N+3)&255}function i(L,N,D,B){const X=L.substring(0,N),ee=L.substring(N+D);return X+B+ee}let r,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(L,N){if(++f>30){Ne("Load test font never loaded."),N();return}if(d.font="30px "+L,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(p.bind(null,L,N))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=i(y,976,g.length,g);const b=16,A=1482184792;let E=n(y,b);for(r=0,l=g.length-3;r<l;r+=4)E=E-A+n(g,r)|0;r<g.length&&(E=E-A+n(g+"XXX",r)|0),y=i(y,b,4,wI(E));const T=`url(data:font/opentype;base64,${btoa(y)});`,M=`@font-face {font-family:"${g}";src:${T}}`;this.insertRule(M);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const L of[t.loadedName,g]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=L,R.append(N)}this._document.body.append(R),p(g,()=>{R.remove(),e.complete()})}}Wu=new WeakMap;class OI{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${sC(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let i;try{i=t.get(n)}catch(l){Ne(`getPathGenerator - ignoring character: "${l}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=r}}function FI(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Fn)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function jI(a){if(Fn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Jp(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a==null?void 0:a.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xg(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const M2=a=>typeof a=="object"&&Number.isInteger(a==null?void 0:a.num)&&a.num>=0&&Number.isInteger(a==null?void 0:a.gen)&&a.gen>=0,BI=a=>typeof a=="object"&&typeof(a==null?void 0:a.name)=="string",zI=_I.bind(null,M2,BI);var Fr,z0;class $I{constructor(){_(this,Fr,new Map);_(this,z0,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};c(this,z0).then(()=>{for(const[i]of c(this,Fr))i.call(this,n)})}addEventListener(t,e,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);i=()=>r.removeEventListener("abort",l),r.addEventListener("abort",l)}c(this,Fr).set(e,i)}removeEventListener(t,e){const n=c(this,Fr).get(e);n==null||n(),c(this,Fr).delete(e)}terminate(){for(const[,t]of c(this,Fr))t==null||t();c(this,Fr).clear()}}Fr=new WeakMap,z0=new WeakMap;const bg={DATA:1,ERROR:2},Nt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function v_(){}function Yn(a){if(a instanceof Ua||a instanceof u2||a instanceof p_||a instanceof S0||a instanceof R1)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||st('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Ua(a.message);case"InvalidPDFException":return new u2(a.message);case"PasswordException":return new p_(a.message,a.code);case"ResponseException":return new S0(a.message,a.status,a.missing);case"UnknownErrorException":return new R1(a.message,a.details)}return new R1(a.message,a.toString())}var Vu,Zs,OC,FC,jC,Bg;class Xd{constructor(t,e,n){_(this,Zs);_(this,Vu,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",k(this,Zs,OC).bind(this),{signal:c(this,Vu).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(l){r.reject(l)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[r]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:r,data:e,desiredSize:f.desiredSize},i),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[r].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Nt.PULL,streamId:r,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ot(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[r].cancelCall=p,this.streamControllers[r].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Nt.CANCEL,streamId:r,reason:Yn(f)}),p.promise}},n)}destroy(){var t;(t=c(this,Vu))==null||t.abort(),x(this,Vu,null)}}Vu=new WeakMap,Zs=new WeakSet,OC=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){k(this,Zs,jC).call(this,t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===bg.DATA)i.resolve(t.data);else if(t.callback===bg.ERROR)i.reject(Yn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(l){r.postMessage({sourceName:n,targetName:i,callback:bg.DATA,callbackId:t.callbackId,data:l})},function(l){r.postMessage({sourceName:n,targetName:i,callback:bg.ERROR,callbackId:t.callbackId,reason:Yn(l)})});return}if(t.streamId){k(this,Zs,FC).call(this,t);return}e(t.data)},FC=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:Nt.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Nt.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Ot(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Nt.ERROR,streamId:e,reason:Yn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Nt.START_COMPLETE,streamId:e,success:!0})},function(f){r.postMessage({sourceName:n,targetName:i,stream:Nt.START_COMPLETE,streamId:e,reason:Yn(f)})})},jC=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Nt.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Yn(t.reason));break;case Nt.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Yn(t.reason));break;case Nt.PULL:if(!u){r.postMessage({sourceName:n,targetName:i,stream:Nt.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||v_).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Nt.PULL_COMPLETE,streamId:e,success:!0})},function(f){r.postMessage({sourceName:n,targetName:i,stream:Nt.PULL_COMPLETE,streamId:e,reason:Yn(f)})});break;case Nt.ENQUEUE:if(Ot(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Nt.CLOSE:if(Ot(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),k(this,Zs,Bg).call(this,l,e);break;case Nt.ERROR:Ot(l,"error should have stream controller"),l.controller.error(Yn(t.reason)),k(this,Zs,Bg).call(this,l,e);break;case Nt.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Yn(t.reason)),k(this,Zs,Bg).call(this,l,e);break;case Nt.CANCEL:if(!u)break;const d=Yn(t.reason);Promise.try(u.onCancel||v_,d).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Nt.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){r.postMessage({sourceName:n,targetName:i,stream:Nt.CANCEL_COMPLETE,streamId:e,reason:Yn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Bg=async function(t,e){var n,i,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var Vf;class BC{constructor({enableHWA:t=!1}){_(this,Vf,!1);x(this,Vf,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,Vf)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){st("Abstract method `_createCanvas` called.")}}Vf=new WeakMap;class UI extends BC{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class zC{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){st("Abstract method `_fetch` called.")}}class w_ extends zC{async _fetch(t){const e=await Zp(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Jp(e)}}class $C{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(t=!1){}}var Ml,Xu,jr,Br,Cn,Ll,Nl,me,_n,Yd,cu,zg,uu,UC,L2,hu,qd,Kd,N2,Qd;class HI extends $C{constructor({docId:e,ownerDocument:n=globalThis.document}){super();_(this,me);_(this,Ml);_(this,Xu);_(this,jr);_(this,Br);_(this,Cn);_(this,Ll);_(this,Nl,0);x(this,Br,e),x(this,Cn,n)}addFilter(e){if(!e)return"none";let n=c(this,me,_n).get(e);if(n)return n;const[i,r,l]=k(this,me,zg).call(this,e),u=e.length===1?i:`${i}${r}${l}`;if(n=c(this,me,_n).get(u),n)return c(this,me,_n).set(e,n),n;const d=`g_${c(this,Br)}_transfer_map_${zt(this,Nl)._++}`,f=k(this,me,uu).call(this,d);c(this,me,_n).set(e,f),c(this,me,_n).set(u,f);const p=k(this,me,hu).call(this,d);return k(this,me,Kd).call(this,i,r,l,p),f}addHCMFilter(e,n){var b;const i=`${e}-${n}`,r="base";let l=c(this,me,Yd).get(r);if((l==null?void 0:l.key)===i||(l?((b=l.filter)==null||b.remove(),l.key=i,l.url="none",l.filter=null):(l={key:i,url:"none",filter:null},c(this,me,Yd).set(r,l)),!e||!n))return l.url;const u=k(this,me,Qd).call(this,e);e=Se.makeHexColor(...u);const d=k(this,me,Qd).call(this,n);if(n=Se.makeHexColor(...d),c(this,me,cu).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return l.url;const f=new Array(256);for(let A=0;A<=255;A++){const E=A/255;f[A]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=f.join(","),g=`g_${c(this,Br)}_hcm_filter`,y=l.filter=k(this,me,hu).call(this,g);k(this,me,Kd).call(this,p,p,p,y),k(this,me,L2).call(this,y);const w=(A,E)=>{const T=u[A]/255,M=d[A]/255,R=new Array(E+1);for(let L=0;L<=E;L++)R[L]=T+L/E*(M-T);return R.join(",")};return k(this,me,Kd).call(this,w(0,5),w(1,5),w(2,5),y),l.url=k(this,me,uu).call(this,g),l.url}addAlphaFilter(e){let n=c(this,me,_n).get(e);if(n)return n;const[i]=k(this,me,zg).call(this,[e]),r=`alpha_${i}`;if(n=c(this,me,_n).get(r),n)return c(this,me,_n).set(e,n),n;const l=`g_${c(this,Br)}_alpha_map_${zt(this,Nl)._++}`,u=k(this,me,uu).call(this,l);c(this,me,_n).set(e,u),c(this,me,_n).set(r,u);const d=k(this,me,hu).call(this,l);return k(this,me,N2).call(this,i,d),u}addLuminosityFilter(e){let n=c(this,me,_n).get(e||"luminosity");if(n)return n;let i,r;if(e?([i]=k(this,me,zg).call(this,[e]),r=`luminosity_${i}`):r="luminosity",n=c(this,me,_n).get(r),n)return c(this,me,_n).set(e,n),n;const l=`g_${c(this,Br)}_luminosity_map_${zt(this,Nl)._++}`,u=k(this,me,uu).call(this,l);c(this,me,_n).set(e,u),c(this,me,_n).set(r,u);const d=k(this,me,hu).call(this,l);return k(this,me,UC).call(this,d),e&&k(this,me,N2).call(this,i,d),u}addHighlightHCMFilter(e,n,i,r,l){var M;const u=`${n}-${i}-${r}-${l}`;let d=c(this,me,Yd).get(e);if((d==null?void 0:d.key)===u||(d?((M=d.filter)==null||M.remove(),d.key=u,d.url="none",d.filter=null):(d={key:u,url:"none",filter:null},c(this,me,Yd).set(e,d)),!n||!i))return d.url;const[f,p]=[n,i].map(k(this,me,Qd).bind(this));let g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[w,b]=[r,l].map(k(this,me,Qd).bind(this));y<g&&([g,y,w,b]=[y,g,b,w]),c(this,me,cu).style.color="";const A=(R,L,N)=>{const D=new Array(256),B=(y-g)/N,X=R/255,ee=(L-R)/(255*N);let $=0;for(let F=0;F<=N;F++){const J=Math.round(g+F*B),oe=X+F*ee;for(let ce=$;ce<=J;ce++)D[ce]=oe;$=J+1}for(let F=$;F<256;F++)D[F]=D[$-1];return D.join(",")},E=`g_${c(this,Br)}_hcm_${e}_filter`,T=d.filter=k(this,me,hu).call(this,E);return k(this,me,L2).call(this,T),k(this,me,Kd).call(this,A(w[0],b[0],5),A(w[1],b[1],5),A(w[2],b[2],5),T),d.url=k(this,me,uu).call(this,E),d.url}destroy(e=!1){var n,i,r,l;e&&((n=c(this,Ll))!=null&&n.size)||((i=c(this,jr))==null||i.parentNode.parentNode.remove(),x(this,jr,null),(r=c(this,Xu))==null||r.clear(),x(this,Xu,null),(l=c(this,Ll))==null||l.clear(),x(this,Ll,null),x(this,Nl,0))}}Ml=new WeakMap,Xu=new WeakMap,jr=new WeakMap,Br=new WeakMap,Cn=new WeakMap,Ll=new WeakMap,Nl=new WeakMap,me=new WeakSet,_n=function(){return c(this,Xu)||x(this,Xu,new Map)},Yd=function(){return c(this,Ll)||x(this,Ll,new Map)},cu=function(){if(!c(this,jr)){const e=c(this,Cn).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=c(this,Cn).createElementNS(wr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),x(this,jr,c(this,Cn).createElementNS(wr,"defs")),e.append(i),i.append(c(this,jr)),c(this,Cn).body.append(e)}return c(this,jr)},zg=function(e){if(e.length===1){const f=e[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=f[y]/255;const g=p.join(",");return[g,g,g]}const[n,i,r]=e,l=new Array(256),u=new Array(256),d=new Array(256);for(let f=0;f<256;f++)l[f]=n[f]/255,u[f]=i[f]/255,d[f]=r[f]/255;return[l.join(","),u.join(","),d.join(",")]},uu=function(e){if(c(this,Ml)===void 0){x(this,Ml,"");const n=c(this,Cn).URL;n!==c(this,Cn).baseURI&&(hy(n)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Ml,eC(n,"")))}return`url(${c(this,Ml)}#${e})`},UC=function(e){const n=c(this,Cn).createElementNS(wr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},L2=function(e){const n=c(this,Cn).createElementNS(wr,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},hu=function(e){const n=c(this,Cn).createElementNS(wr,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),c(this,me,cu).append(n),n},qd=function(e,n,i){const r=c(this,Cn).createElementNS(wr,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)},Kd=function(e,n,i,r){const l=c(this,Cn).createElementNS(wr,"feComponentTransfer");r.append(l),k(this,me,qd).call(this,l,"feFuncR",e),k(this,me,qd).call(this,l,"feFuncG",n),k(this,me,qd).call(this,l,"feFuncB",i)},N2=function(e,n){const i=c(this,Cn).createElementNS(wr,"feComponentTransfer");n.append(i),k(this,me,qd).call(this,i,"feFuncA",e)},Qd=function(e){return c(this,me,cu).style.color=e,dy(getComputedStyle(c(this,me,cu)).getPropertyValue("color"))};class HC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){st("Abstract method `_fetch` called.")}}class S_ extends HC{async _fetch(t){const e=await Zp(t,"arraybuffer");return new Uint8Array(e)}}class GC{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){st("Abstract method `_fetch` called.")}}class x_ extends GC{async _fetch(t){const e=await Zp(t,"arraybuffer");return new Uint8Array(e)}}Fn&&Ne("Please use the `legacy` build in Node.js environments.");async function sS(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class GI extends $C{}class WI extends BC{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class VI extends zC{async _fetch(t){return sS(t)}}class XI extends HC{async _fetch(t){return sS(t)}}class YI extends GC{async _fetch(t){return sS(t)}}const ru="__forcedDependency";var us,Nn,Yu,$i,qu,zr,Ze,et,$r,hs,ia,Ku,ra,oa;class qI{constructor(t){_(this,us,{__proto__:null});_(this,Nn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[ru]:[]});_(this,Yu,new Map);_(this,$i,[]);_(this,qu,[]);_(this,zr,[[1,0,0,1,0,0]]);_(this,Ze,[-1/0,-1/0,1/0,1/0]);_(this,et,new Float64Array([1/0,1/0,-1/0,-1/0]));_(this,$r,-1);_(this,hs,new Set);_(this,ia,new Map);_(this,Ku,new Map);_(this,ra);_(this,oa);x(this,ra,t.width),x(this,oa,t.height)}save(t){return x(this,us,{__proto__:c(this,us)}),x(this,Nn,{__proto__:c(this,Nn),transform:{__proto__:c(this,Nn).transform},moveText:{__proto__:c(this,Nn).moveText},sameLineText:{__proto__:c(this,Nn).sameLineText},[ru]:{__proto__:c(this,Nn)[ru]}}),x(this,Ze,{__proto__:c(this,Ze)}),c(this,$i).push([t,null]),this}restore(t){const e=Object.getPrototypeOf(c(this,us));if(e===null)return this;x(this,us,e),x(this,Nn,Object.getPrototypeOf(c(this,Nn))),x(this,Ze,Object.getPrototypeOf(c(this,Ze)));const n=c(this,$i).pop();return n!==void 0&&(n[1]=t),this}recordOpenMarker(t){return c(this,$i).push([t,null]),this}getOpenMarker(){return c(this,$i).length===0?null:c(this,$i).at(-1)[0]}recordCloseMarker(t){const e=c(this,$i).pop();return e!==void 0&&(e[1]=t),this}beginMarkedContent(t){return c(this,qu).push([t,null]),this}endMarkedContent(t){const e=c(this,qu).pop();return e!==void 0&&(e[1]=t),this}pushBaseTransform(t){return c(this,zr).push(Se.multiplyByDOMMatrix(c(this,zr).at(-1),t.getTransform())),this}popBaseTransform(){return c(this,zr).length>1&&c(this,zr).pop(),this}recordSimpleData(t,e){return c(this,us)[t]=e,this}recordIncrementalData(t,e){return c(this,Nn)[t].push(e),this}resetIncrementalData(t,e){return c(this,Nn)[t].length=0,this}recordNamedData(t,e){return c(this,Yu).set(t,e),this}recordFutureForcedDependency(t,e){return this.recordIncrementalData(ru,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in c(this,us)&&this.recordFutureForcedDependency(e,c(this,us)[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of c(this,hs))this.recordFutureForcedDependency(ru,t);return this}resetBBox(t){return x(this,$r,t),c(this,et)[0]=1/0,c(this,et)[1]=1/0,c(this,et)[2]=-1/0,c(this,et)[3]=-1/0,this}get hasPendingBBox(){return c(this,$r)!==-1}recordClipBox(t,e,n,i,r,l){const u=Se.multiplyByDOMMatrix(c(this,zr).at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];Se.axialAlignedBoundingBox([n,r,i,l],u,d);const f=Se.intersect(c(this,Ze),d);return f?(c(this,Ze)[0]=f[0],c(this,Ze)[1]=f[1],c(this,Ze)[2]=f[2],c(this,Ze)[3]=f[3]):(c(this,Ze)[0]=c(this,Ze)[1]=1/0,c(this,Ze)[2]=c(this,Ze)[3]=-1/0),this}recordBBox(t,e,n,i,r,l){const u=c(this,Ze);if(u[0]===1/0)return this;const d=Se.multiplyByDOMMatrix(c(this,zr).at(-1),e.getTransform());if(u[0]===-1/0)return Se.axialAlignedBoundingBox([n,r,i,l],d,c(this,et)),this;const f=[1/0,1/0,-1/0,-1/0];return Se.axialAlignedBoundingBox([n,r,i,l],d,f),c(this,et)[0]=Math.min(c(this,et)[0],Math.max(f[0],u[0])),c(this,et)[1]=Math.min(c(this,et)[1],Math.max(f[1],u[1])),c(this,et)[2]=Math.max(c(this,et)[2],Math.min(f[2],u[2])),c(this,et)[3]=Math.max(c(this,et)[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,i=1,r=0,l=0,u){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&c(this,Ku).get(n),f!==!1&&(p=[0,0,0,0],Se.axialAlignedBoundingBox(d,n.fontMatrix,p),(i!==1||r!==0||l!==0)&&Se.scaleMinMax([i,0,0,-i,r,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return d&&p&&f===void 0&&(f=p[0]<=r-g.actualBoundingBoxLeft&&p[2]>=r+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,c(this,Ku).set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,r-g.actualBoundingBoxLeft,r+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return c(this,et)[0]=Math.max(0,c(this,Ze)[0]),c(this,et)[1]=Math.max(0,c(this,Ze)[1]),c(this,et)[2]=Math.min(c(this,ra),c(this,Ze)[2]),c(this,et)[3]=Math.min(c(this,oa),c(this,Ze)[3]),this}getSimpleIndex(t){return c(this,us)[t]}recordDependencies(t,e){const n=c(this,hs),i=c(this,us),r=c(this,Nn);for(const l of e)l in c(this,us)?n.add(i[l]):l in r&&r[l].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(t,e){const n=c(this,ia),i=c(this,hs);for(const r of c(this,Nn)[e])n.get(r).dependencies.forEach(i.add,i.add(r));return this}recordNamedDependency(t,e){return c(this,Yu).has(e)&&c(this,hs).add(c(this,Yu).get(e)),this}recordOperation(t,e=!1){this.recordDependencies(t,[ru]);const n=new Set(c(this,hs)),i=c(this,$i).concat(c(this,qu)),r=c(this,$r)===t?{minX:c(this,et)[0],minY:c(this,et)[1],maxX:c(this,et)[2],maxY:c(this,et)[3]}:null;return c(this,ia).set(t,{bbox:r,pairs:i,dependencies:n}),e||x(this,$r,-1),c(this,hs).clear(),this}bboxToClipBoxDropOperation(t){return c(this,$r)!==-1&&(x(this,$r,-1),c(this,Ze)[0]=Math.max(c(this,Ze)[0],c(this,et)[0]),c(this,Ze)[1]=Math.max(c(this,Ze)[1],c(this,et)[1]),c(this,Ze)[2]=Math.min(c(this,Ze)[2],c(this,et)[2]),c(this,Ze)[3]=Math.min(c(this,Ze)[3],c(this,et)[3])),c(this,hs).clear(),this}_takePendingDependencies(){const t=c(this,hs);return x(this,hs,new Set),t}_extractOperation(t){const e=c(this,ia).get(t);return c(this,ia).delete(t),e}_pushPendingDependencies(t){for(const e of t)c(this,hs).add(e)}take(){return c(this,Ku).clear(),Array.from(c(this,ia),([t,{bbox:e,pairs:n,dependencies:i}])=>(n.forEach(r=>r.forEach(i.add,i)),i.delete(t),{minX:((e==null?void 0:e.minX)??0)/c(this,ra),maxX:((e==null?void 0:e.maxX)??c(this,ra))/c(this,ra),minY:((e==null?void 0:e.minY)??0)/c(this,oa),maxY:((e==null?void 0:e.maxY)??c(this,oa))/c(this,oa),dependencies:Array.from(i).sort((r,l)=>r-l),idx:t}))}}us=new WeakMap,Nn=new WeakMap,Yu=new WeakMap,$i=new WeakMap,qu=new WeakMap,zr=new WeakMap,Ze=new WeakMap,et=new WeakMap,$r=new WeakMap,hs=new WeakMap,ia=new WeakMap,Ku=new WeakMap,ra=new WeakMap,oa=new WeakMap;var qe,bt,Qu,aa,Ju;const dS=class dS{constructor(t,e){_(this,qe);_(this,bt);_(this,Qu,0);_(this,aa);_(this,Ju,0);if(t instanceof dS)return t;x(this,qe,t),x(this,aa,t._takePendingDependencies()),x(this,bt,e)}save(t){return zt(this,Ju)._++,c(this,qe).save(c(this,bt)),this}restore(t){return c(this,Ju)>0&&(c(this,qe).restore(c(this,bt)),zt(this,Ju)._--),this}recordOpenMarker(t){return zt(this,Qu)._++,this}getOpenMarker(){return c(this,Qu)>0?c(this,bt):c(this,qe).getOpenMarker()}recordCloseMarker(t){return zt(this,Qu)._--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return c(this,qe).pushBaseTransform(t),this}popBaseTransform(){return c(this,qe).popBaseTransform(),this}recordSimpleData(t,e){return c(this,qe).recordSimpleData(t,c(this,bt)),this}recordIncrementalData(t,e){return c(this,qe).recordIncrementalData(t,c(this,bt)),this}resetIncrementalData(t,e){return c(this,qe).resetIncrementalData(t,c(this,bt)),this}recordNamedData(t,e){return this}recordFutureForcedDependency(t,e){return c(this,qe).recordFutureForcedDependency(t,c(this,bt)),this}inheritSimpleDataAsFutureForcedDependencies(t){return c(this,qe).inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return c(this,qe).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return c(this,qe).hasPendingBBox||c(this,qe).resetBBox(c(this,bt)),this}get hasPendingBBox(){return c(this,qe).hasPendingBBox}recordClipBox(t,e,n,i,r,l){return c(this,qe).recordClipBox(c(this,bt),e,n,i,r,l),this}recordBBox(t,e,n,i,r,l){return c(this,qe).recordBBox(c(this,bt),e,n,i,r,l),this}recordCharacterBBox(t,e,n,i,r,l,u){return c(this,qe).recordCharacterBBox(c(this,bt),e,n,i,r,l,u),this}recordFullPageBBox(t){return c(this,qe).recordFullPageBBox(c(this,bt)),this}getSimpleIndex(t){return c(this,qe).getSimpleIndex(t)}recordDependencies(t,e){return c(this,qe).recordDependencies(c(this,bt),e),this}copyDependenciesFromIncrementalOperation(t,e){return c(this,qe).copyDependenciesFromIncrementalOperation(c(this,bt),e),this}recordNamedDependency(t,e){return c(this,qe).recordNamedDependency(c(this,bt),e),this}recordOperation(t){c(this,qe).recordOperation(c(this,bt),!0);const e=c(this,qe)._extractOperation(c(this,bt));for(const n of e.dependencies)c(this,aa).add(n);return c(this,aa).delete(c(this,bt)),c(this,aa).delete(null),this}bboxToClipBoxDropOperation(t){return c(this,qe).bboxToClipBoxDropOperation(c(this,bt)),this}recordNestedDependencies(){c(this,qe)._pushPendingDependencies(c(this,aa))}take(){throw new Error("Unreachable")}};qe=new WeakMap,bt=new WeakMap,Qu=new WeakMap,aa=new WeakMap,Ju=new WeakMap;let _0=dS;const $s={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],transform:["transform"],transformAndFill:["transform","fillColor"]},mn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function I2(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,n),a.clip(i)}class iS{isModifyingCurrentTransform(){return!1}getPattern(){st("Abstract method `getPattern` called.")}}class KI extends iS{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===mn.STROKE||i===mn.FILL){const l=e.current.getClippedPathBoundingBox(i,At(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=Se.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),I2(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),r=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);r.setTransform(g)}else I2(t,this._bbox),r=this._createGradient(t);return r}}function N1(a,t,e,n,i,r,l,u){const d=t.coords,f=t.colors,p=a.data,g=a.width*4;let y;d[e+1]>d[n+1]&&(y=e,e=n,n=y,y=r,r=l,l=y),d[n+1]>d[i+1]&&(y=n,n=i,i=y,y=l,l=u,u=y),d[e+1]>d[n+1]&&(y=e,e=n,n=y,y=r,r=l,l=y);const w=(d[e]+t.offsetX)*t.scaleX,b=(d[e+1]+t.offsetY)*t.scaleY,A=(d[n]+t.offsetX)*t.scaleX,E=(d[n+1]+t.offsetY)*t.scaleY,T=(d[i]+t.offsetX)*t.scaleX,M=(d[i+1]+t.offsetY)*t.scaleY;if(b>=M)return;const R=f[r],L=f[r+1],N=f[r+2],D=f[l],B=f[l+1],X=f[l+2],ee=f[u],$=f[u+1],F=f[u+2],J=Math.round(b),oe=Math.round(M);let ce,te,W,H,q,K,Z,O;for(let G=J;G<=oe;G++){if(G<E){const de=G<b?0:(b-G)/(b-E);ce=w-(w-A)*de,te=R-(R-D)*de,W=L-(L-B)*de,H=N-(N-X)*de}else{let de;G>M?de=1:E===M?de=0:de=(E-G)/(E-M),ce=A-(A-T)*de,te=D-(D-ee)*de,W=B-(B-$)*de,H=X-(X-F)*de}let ne;G<b?ne=0:G>M?ne=1:ne=(b-G)/(b-M),q=w-(w-T)*ne,K=R-(R-ee)*ne,Z=L-(L-$)*ne,O=N-(N-F)*ne;const he=Math.round(Math.min(ce,q)),ve=Math.round(Math.max(ce,q));let pe=g*G+he*4;for(let de=he;de<=ve;de++)ne=(ce-de)/(ce-q),ne<0?ne=0:ne>1&&(ne=1),p[pe++]=te-(te-K)*ne|0,p[pe++]=W-(W-Z)*ne|0,p[pe++]=H-(H-O)*ne|0,p[pe++]=255}}function QI(a,t,e){const n=t.coords,i=t.colors;let r,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(r=0;r<d;r++){let p=r*u;for(let g=0;g<f;g++,p++)N1(a,e,n[p],n[p+1],n[p+u],i[p],i[p+1],i[p+u]),N1(a,e,n[p+u+1],n[p+1],n[p+u],i[p+u+1],i[p+1],i[p+u])}break;case"triangles":for(r=0,l=n.length;r<l;r+=3)N1(a,e,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class JI extends iS{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),w=f/g,b=p/y,A={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/w,scaleY:1/b},E=g+2*2,T=y+2*2,M=n.getCanvas("mesh",E,T),R=M.context,L=R.createImageData(g,y);if(e){const D=L.data;for(let B=0,X=D.length;B<X;B+=4)D[B]=e[0],D[B+1]=e[1],D[B+2]=e[2],D[B+3]=255}for(const D of this._figures)QI(L,D,A);return R.putImageData(L,2,2),{canvas:M.canvas,offsetX:u-2*w,offsetY:d-2*b,scaleX:w,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,i){I2(t,this._bbox);const r=new Float32Array(2);if(i===mn.SHADING)Se.singularValueDecompose2dScale(At(t),r);else if(this.matrix){Se.singularValueDecompose2dScale(this.matrix,r);const[u,d]=r;Se.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=u,r[1]*=d}else Se.singularValueDecompose2dScale(e.baseTransform,r);const l=this._createMeshCanvas(r,i===mn.SHADING?null:this._background,e.cachedCanvases);return i!==mn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class ZI extends iS{getPattern(){return"hotpink"}}function eD(a){switch(a[0]){case"RadialAxial":return new KI(a);case"Mesh":return new JI(a);case"Dummy":return new ZI}throw new Error(`Unknown IR type: ${a[0]}`)}const b_={COLORED:1,UNCOLORED:2},$0=class $0{constructor(t,e,n,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(t){var q,K,Z,O;const{bbox:e,operatorList:n,paintType:i,tilingType:r,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),uy("TilingType: "+r);const p=e[0],g=e[1],y=e[2],w=e[3],b=y-p,A=w-g,E=new Float32Array(2);Se.singularValueDecompose2dScale(this.matrix,E);const[T,M]=E;Se.singularValueDecompose2dScale(this.baseTransform,E);const R=T*E[0],L=M*E[1];let N=b,D=A,B=!1,X=!1;const ee=Math.ceil(d*R),$=Math.ceil(f*L),F=Math.ceil(b*R),J=Math.ceil(A*L);ee>=F?N=d:B=!0,$>=J?D=f:X=!0;const oe=this.getSizeAndScale(N,this.ctx.canvas.width,R),ce=this.getSizeAndScale(D,this.ctx.canvas.height,L),te=t.cachedCanvases.getCanvas("pattern",oe.size,ce.size),W=te.context,H=u.createCanvasGraphics(W);if(H.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(H,i,l),W.translate(-oe.scale*p,-ce.scale*g),H.transform(0,oe.scale,0,0,ce.scale,0,0),W.save(),(q=H.dependencyTracker)==null||q.save(),this.clipBbox(H,p,g,y,w),H.baseTransform=At(H.ctx),H.executeOperatorList(n),H.endDrawing(),(O=(K=H.dependencyTracker)==null?void 0:(Z=K.restore()).recordNestedDependencies)==null||O.call(Z),W.restore(),B||X){const G=te.canvas;B&&(N=d),X&&(D=f);const ne=this.getSizeAndScale(N,this.ctx.canvas.width,R),he=this.getSizeAndScale(D,this.ctx.canvas.height,L),ve=ne.size,pe=he.size,de=t.cachedCanvases.getCanvas("pattern-workaround",ve,pe),Le=de.context,Ce=B?Math.floor(b/d):0,Be=X?Math.floor(A/f):0;for(let it=0;it<=Ce;it++)for(let vt=0;vt<=Be;vt++)Le.drawImage(G,ve*it,pe*vt,ve,pe,0,0,ve,pe);return{canvas:de.canvas,scaleX:ne.scale,scaleY:he.scale,offsetX:p,offsetY:g}}return{canvas:te.canvas,scaleX:oe.scale,scaleY:ce.scale,offsetX:p,offsetY:g}}getSizeAndScale(t,e,n){const i=Math.max($0.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const l=i-e,u=r-n;t.ctx.rect(e,n,l,u),Se.axialAlignedBoundingBox([e,n,i,r],At(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case b_.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;i.fillStyle=r.fillColor=l,i.strokeStyle=r.strokeColor=u;break;case b_.UNCOLORED:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new vI(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,i){let r=n;i!==mn.SHADING&&(r=Se.transform(r,e.baseTransform),this.matrix&&(r=Se.transform(r,this.matrix)));const l=this.createPatternCanvas(e);let u=new DOMMatrix(r);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=t.createPattern(l.canvas,"repeat");return d.setTransform(u),d}};ae($0,"MAX_PATTERN_SIZE",3e3);let D2=$0;function tD({src:a,srcPos:t=0,dest:e,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:l=!1}){const u=vn.isLittleEndian?4278190080:255,[d,f]=l?[r,u]:[u,r],p=n>>3,g=n&7,y=a.length;e=new Uint32Array(e.buffer);let w=0;for(let b=0;b<i;b++){for(const E=t+p;t<E;t++){const T=t<y?a[t]:255;e[w++]=T&128?f:d,e[w++]=T&64?f:d,e[w++]=T&32?f:d,e[w++]=T&16?f:d,e[w++]=T&8?f:d,e[w++]=T&4?f:d,e[w++]=T&2?f:d,e[w++]=T&1?f:d}if(g===0)continue;const A=t<y?a[t++]:255;for(let E=0;E<g;E++)e[w++]=A&1<<7-E?f:d}return{srcPos:t,destPos:w}}const A_=16,__=100,nD=15,E_=10,Zn=16,I1=new DOMMatrix,Cs=new Float32Array(2),yu=new Float32Array([1/0,1/0,-1/0,-1/0]);function sD(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},a.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},a.transform=function(e,n,i,r,l,u){t.transform(e,n,i,r,l,u),this.__originalTransform(e,n,i,r,l,u)},a.setTransform=function(e,n,i,r,l,u){t.setTransform(e,n,i,r,l,u),this.__originalSetTransform(e,n,i,r,l,u)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,i,r,l,u){t.bezierCurveTo(e,n,i,r,l,u),this.__originalBezierCurveTo(e,n,i,r,l,u)},a.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class iD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ag(a,t,e,n,i,r,l,u,d,f){const[p,g,y,w,b,A]=At(a);if(g===0&&y===0){const M=l*p+b,R=Math.round(M),L=u*w+A,N=Math.round(L),D=(l+d)*p+b,B=Math.abs(Math.round(D)-R)||1,X=(u+f)*w+A,ee=Math.abs(Math.round(X)-N)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(w),R,N),a.drawImage(t,e,n,i,r,0,0,B,ee),a.setTransform(p,g,y,w,b,A),[B,ee]}if(p===0&&w===0){const M=u*y+b,R=Math.round(M),L=l*g+A,N=Math.round(L),D=(u+f)*y+b,B=Math.abs(Math.round(D)-R)||1,X=(l+d)*g+A,ee=Math.abs(Math.round(X)-N)||1;return a.setTransform(0,Math.sign(g),Math.sign(y),0,R,N),a.drawImage(t,e,n,i,r,0,0,ee,B),a.setTransform(p,g,y,w,b,A),[ee,B]}a.drawImage(t,e,n,i,r,l,u,d,f);const E=Math.hypot(p,g),T=Math.hypot(y,w);return[E*d,T*f]}class C_{constructor(t,e,n){ae(this,"alphaIsShape",!1);ae(this,"fontSize",0);ae(this,"fontSizeScale",1);ae(this,"textMatrix",null);ae(this,"textMatrixScale",1);ae(this,"fontMatrix",c2);ae(this,"leading",0);ae(this,"x",0);ae(this,"y",0);ae(this,"lineX",0);ae(this,"lineY",0);ae(this,"charSpacing",0);ae(this,"wordSpacing",0);ae(this,"textHScale",1);ae(this,"textRenderingMode",ln.FILL);ae(this,"textRise",0);ae(this,"fillColor","#000000");ae(this,"strokeColor","#000000");ae(this,"patternFill",!1);ae(this,"patternStroke",!1);ae(this,"fillAlpha",1);ae(this,"strokeAlpha",1);ae(this,"lineWidth",1);ae(this,"activeSMask",null);ae(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=yu.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=mn.FILL,e=null){const n=this.minMax.slice();if(t===mn.STROKE){e||st("Stroke bounding box must include transform."),Se.singularValueDecompose2dScale(e,Cs);const i=Cs[0]*this.lineWidth/2,r=Cs[1]*this.lineWidth/2;n[0]-=i,n[1]-=r,n[2]+=i,n[3]+=r}return n}updateClipFromPath(){const t=Se.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(yu,0)}getClippedPathBoundingBox(t=mn.FILL,e=null){return Se.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function k_(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,i=e%Zn,r=(e-i)/Zn,l=i===0?r:r+1,u=a.createImageData(n,Zn);let d=0,f;const p=t.data,g=u.data;let y,w,b,A;if(t.kind===Lg.GRAYSCALE_1BPP){const E=p.byteLength,T=new Uint32Array(g.buffer,0,g.byteLength>>2),M=T.length,R=n+7>>3,L=4294967295,N=vn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(b=y<r?Zn:i,f=0,w=0;w<b;w++){const D=E-d;let B=0;const X=D>R?n:D*8-7,ee=X&-8;let $=0,F=0;for(;B<ee;B+=8)F=p[d++],T[f++]=F&128?L:N,T[f++]=F&64?L:N,T[f++]=F&32?L:N,T[f++]=F&16?L:N,T[f++]=F&8?L:N,T[f++]=F&4?L:N,T[f++]=F&2?L:N,T[f++]=F&1?L:N;for(;B<X;B++)$===0&&(F=p[d++],$=128),T[f++]=F&$?L:N,$>>=1}for(;f<M;)T[f++]=0;a.putImageData(u,0,y*Zn)}}else if(t.kind===Lg.RGBA_32BPP){for(w=0,A=n*Zn*4,y=0;y<r;y++)g.set(p.subarray(d,d+A)),d+=A,a.putImageData(u,0,w),w+=Zn;y<l&&(A=n*i*4,g.set(p.subarray(d,d+A)),a.putImageData(u,0,w))}else if(t.kind===Lg.RGB_24BPP)for(b=Zn,A=n*b,y=0;y<l;y++){for(y>=r&&(b=i,A=n*b),f=0,w=A;w--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;a.putImageData(u,0,y*Zn)}else throw new Error(`bad image kind: ${t.kind}`)}function T_(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,i=e%Zn,r=(e-i)/Zn,l=i===0?r:r+1,u=a.createImageData(n,Zn);let d=0;const f=t.data,p=u.data;for(let g=0;g<l;g++){const y=g<r?Zn:i;({srcPos:d}=tD({src:f,srcPos:d,dest:p,width:n,height:y,nonBlackColor:0})),a.putImageData(u,0,g*Zn)}}function Id(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function _g(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function P_(a,t){if(t)return!0;Se.singularValueDecompose2dScale(a,Cs);const e=Math.fround(ar.pixelRatio*Ha.PDF_TO_CSS_UNITS);return Cs[0]<=e&&Cs[1]<=e}const rD=["butt","round","square"],oD=["miter","round","bevel"],aD={},R_={};var Si,O2,F2,j2;const fS=class fS{constructor(t,e,n,i,r,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){_(this,Si);this.ctx=t,this.current=new C_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new iD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){var i;return typeof e=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",r,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...At(this.compositeCtx))}this.ctx.save(),_g(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=At(this.ctx)}executeOperatorList(t,e,n,i,r){var T;const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>E_&&typeof n=="function",g=p?Date.now()+nD:0;let y=0;const w=this.commonObjs,b=this.objs;let A,E;for(;;){if(i!==void 0&&d===i.nextBreakPoint)return i.breakIt(d,n),d;if(!r||r.has(d))if(A=u[d],E=l[d]??null,A!==mf.dependency)E===null?this[A](d):this[A](d,...E);else for(const M of E){(T=this.dependencyTracker)==null||T.recordNamedData(M,d);const R=M.startsWith("g_")?w:b;if(!R.has(M))return R.get(M,n),d}if(d++,d===f)return d;if(p&&++y>E_){if(Date.now()>g)return n(),d;y=0}}}endDrawing(){k(this,Si,O2).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),k(this,Si,F2).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,d=i,f="prescale1",p,g;for(;r>2&&u>1||l>2&&d>1;){let y=u,w=d;r>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),r/=u/y),l>2&&d>1&&(w=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/w),p=this.cachedCanvases.getCanvas(f,y,w),g=p.context,g.clearRect(0,0,y,w),g.drawImage(t,0,0,u,d,0,0,y,w),t=p.canvas,u=y,d=w,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){var $,F;const n=this.ctx,{width:i,height:r}=e,l=this.current.fillColor,u=this.current.patternFill,d=At(n);let f,p,g,y;if((e.bitmap||e.data)&&e.count>1){const J=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(J),f||(f=new Map,this._cachedBitmapsMap.set(J,f));const oe=f.get(p);if(oe&&!u){const ce=Math.round(Math.min(d[0],d[2])+d[4]),te=Math.round(Math.min(d[1],d[3])+d[5]);return($=this.dependencyTracker)==null||$.recordDependencies(t,$s.transformAndFill),{canvas:oe,offsetX:ce,offsetY:te}}g=oe}g||(y=this.cachedCanvases.getCanvas("maskCanvas",i,r),T_(y.context,e));let w=Se.transform(d,[1/i,0,0,-1/r,0,0]);w=Se.transform(w,[1,0,0,1,0,-r]);const b=yu.slice();Se.axialAlignedBoundingBox([0,0,i,r],w,b);const[A,E,T,M]=b,R=Math.round(T-A)||1,L=Math.round(M-E)||1,N=this.cachedCanvases.getCanvas("fillCanvas",R,L),D=N.context,B=A,X=E;D.translate(-B,-X),D.transform(...w),g||(g=this._scaleImage(y.canvas,Ti(D)),g=g.img,f&&u&&f.set(p,g)),D.imageSmoothingEnabled=P_(At(D),e.interpolate),Ag(D,g,0,0,g.width,g.height,0,0,i,r),D.globalCompositeOperation="source-in";const ee=Se.transform(Ti(D),[1,0,0,1,-B,-X]);return D.fillStyle=u?l.getPattern(n,this,ee,mn.FILL):l,D.fillRect(0,0,i,r),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(t,$s.transformAndFill),{canvas:N.canvas,offsetX:Math.round(B),offsetY:Math.round(X)}}setLineWidth(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",t),this.ctx.lineCap=rD[e]}setLineJoin(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",t),this.ctx.lineJoin=oD[e]}setMiterLimit(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("dash",t);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){var n,i,r,l,u;for(const[d,f]of e)switch(d){case"LW":this.setLineWidth(t,f);break;case"LC":this.setLineCap(t,f);break;case"LJ":this.setLineJoin(t,f);break;case"ML":this.setMiterLimit(t,f);break;case"D":this.setDash(t,f[0],f[1]);break;case"RI":this.setRenderingIntent(t,f);break;case"FL":this.setFlatness(t,f);break;case"Font":this.setFont(t,f[0],f[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=f;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=f;break;case"BM":(r=this.dependencyTracker)==null||r.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=f;break;case"SMask":(l=this.dependencyTracker)==null||l.recordSimpleData("SMask",t),this.current.activeSMask=f?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(u=this.dependencyTracker)==null||u.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(f);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),Id(this.suspendedCtx,l),sD(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Id(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],l=i[1],u=i[2]-r,d=i[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,n,u,d,e.subtype,e.backdrop,e.transferMap,r,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,l,u,d,f,p,g){let y=t.canvas,w=d-p,b=f-g;if(l)if(w<0||b<0||w+n>y.width||b+i>y.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,i),T=E.context;T.drawImage(y,-w,-b),T.globalCompositeOperation="destination-atop",T.fillStyle=l,T.fillRect(0,0,n,i),T.globalCompositeOperation="source-over",y=E.canvas,w=b=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(w,b,n,i),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(w,b,n,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const A=new Path2D;A.rect(d,f,n,i),e.clip(A),e.globalCompositeOperation="destination-in",e.drawImage(y,w,b,n,i,d,f,n,i),e.restore()}save(t){var n;this.inSMaskMode&&Id(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),(n=this.dependencyTracker)==null||n.save(t)}restore(t){var e;if((e=this.dependencyTracker)==null||e.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Id(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,i,r,l,u){var d;(d=this.dependencyTracker)==null||d.recordIncrementalData("transform",t),this.ctx.transform(e,n,i,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,i){let[r]=n;if(!i){r||(r=n[0]=new Path2D),this[e](t,r);return}if(this.dependencyTracker!==null){const l=e===mf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-l,i[2]+l,i[1]-l,i[3]+l).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,d=r.length;u<d;)switch(r[u++]){case wg.moveTo:l.moveTo(r[u++],r[u++]);break;case wg.lineTo:l.lineTo(r[u++],r[u++]);break;case wg.curveTo:l.bezierCurveTo(r[u++],r[u++],r[u++],r[u++],r[u++],r[u++]);break;case wg.closePath:l.closePath();break;default:Ne(`Unrecognized drawing path operator: ${r[u-1]}`);break}r=l}Se.axialAlignedBoundingBox(i,At(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){var l;const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&(r!=null&&r.getPattern)){const u=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Ti(i),mn.STROKE),u){const d=new Path2D;d.addPath(e,i.getTransform().invertSelf().multiplySelf(u)),e=d}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);(l=this.dependencyTracker)==null||l.recordDependencies(t,$s.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(mn.STROKE,At(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){var f,p,g;const i=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const y=r.isModifyingCurrentTransform()?i.getTransform():null;if((f=this.dependencyTracker)==null||f.save(t),i.save(),i.fillStyle=r.getPattern(i,this,Ti(i),mn.FILL),y){const w=new Path2D;w.addPath(e,i.getTransform().invertSelf().multiplySelf(y)),e=w}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),(p=this.dependencyTracker)==null||p.recordDependencies(t,$s.fill),u&&(i.restore(),(g=this.dependencyTracker)==null||g.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){var n;this.ctx.fill(e),(n=this.dependencyTracker)==null||n.recordDependencies(t,$s.rawFillPath).recordOperation(t)}clip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=aD}eoClip(t){var e;(e=this.dependencyTracker)==null||e.recordFutureForcedDependency("clipMode",t),this.pendingClip=R_}beginText(t){var e;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(e=this.dependencyTracker)==null||e.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;e!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",t),i.recordCloseMarker(t)}if(e!==void 0){const i=new Path2D,r=n.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&i.addPath(p,new DOMMatrix(l).preMultiplySelf(r).translate(u,d).scale(f,-f));n.clip(i)}delete this.pendingTextPaths}setCharSpacing(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){var g,y;(g=this.dependencyTracker)==null||g.recordSimpleData("font",t).recordNamedDependency(t,e);const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||c2,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const l=i.loadedName||"sans-serif",u=((y=i.systemFontInfo)==null?void 0:y.css)||`"${l}", ${i.fallbackName}`;let d="normal";i.black?d="900":i.bold&&(d="bold");const f=i.italic?"italic":"normal";let p=n;n<A_?p=A_:n>__&&(p=__),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){var e;this.moveText(t,0,this.current.leading),(e=this.dependencyTracker)==null||e.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}paintChar(t,e,n,i,r,l){var T,M,R,L;const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,y=p&ln.FILL_STROKE_MASK,w=!!(p&ln.ADD_TO_PATH_FLAG),b=d.patternFill&&!f.missingFile,A=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||w||b||A)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||b||A)){u.save(),u.translate(n,i),u.scale(g,-g),(T=this.dependencyTracker)==null||T.recordCharacterBBox(t,u,f);let N;if(y===ln.FILL||y===ln.FILL_STROKE)if(r){N=u.getTransform(),u.setTransform(...r);const D=k(this,Si,j2).call(this,E,N,r);u.fill(D)}else u.fill(E);if(y===ln.STROKE||y===ln.FILL_STROKE)if(l){N||(N=u.getTransform()),u.setTransform(...l);const{a:D,b:B,c:X,d:ee}=N,$=Se.inverseTransform(l),F=Se.transform([D,B,X,ee,0,0],$);Se.singularValueDecompose2dScale(F,Cs),u.lineWidth*=Math.max(Cs[0],Cs[1])/g,u.stroke(k(this,Si,j2).call(this,E,N,l))}else u.lineWidth/=g,u.stroke(E);u.restore()}else(y===ln.FILL||y===ln.FILL_STROKE)&&(u.fillText(e,n,i),(M=this.dependencyTracker)==null||M.recordCharacterBBox(t,u,f,g,n,i,()=>u.measureText(e))),(y===ln.STROKE||y===ln.FILL_STROKE)&&(this.dependencyTracker&&((R=this.dependencyTracker)==null||R.recordCharacterBBox(t,u,f,g,n,i,()=>u.measureText(e)).recordDependencies(t,$s.stroke)),u.strokeText(e,n,i));w&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:At(u),x:n,y:i,fontSize:g,path:E}),(L=this.dependencyTracker)==null||L.recordCharacterBBox(t,u,f,g,n,i))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return je(this,"isFontSubpixelAAEnabled",n)}showText(t,e){var X,ee,$,F;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,$s.showText).copyDependenciesFromIncrementalOperation(t,"sameLineText").resetBBox(t),this.current.textRenderingMode&ln.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font){this.showType3Text(t,e),(X=this.dependencyTracker)==null||X.recordOperation(t).recordIncrementalData("sameLineText",t);return}const r=n.fontSize;if(r===0){(ee=this.dependencyTracker)==null||ee.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,y=e.length,w=i.vertical,b=w?1:-1,A=i.defaultVMetrics,E=r*n.fontMatrix[0],T=n.textRenderingMode===ln.FILL&&!i.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let M,R;if(n.patternFill){l.save();const J=n.fillColor.getPattern(l,this,Ti(l),mn.FILL);M=At(l),l.restore(),l.fillStyle=J}if(n.patternStroke){l.save();const J=n.strokeColor.getPattern(l,this,Ti(l),mn.STROKE);R=At(l),l.restore(),l.strokeStyle=J}let L=n.lineWidth;const N=n.textMatrixScale;if(N===0||L===0){const J=n.textRenderingMode&ln.FILL_STROKE_MASK;(J===ln.STROKE||J===ln.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=N;if(u!==1&&(l.scale(u,u),L/=u),l.lineWidth=L,i.isInvalidPDFjsFont){const J=[];let oe=0;for(const te of e)J.push(te.unicode),oe+=te.width;const ce=J.join("");if(l.fillText(ce,0,0),this.dependencyTracker!==null){const te=l.measureText(ce);this.dependencyTracker.recordBBox(t,this.ctx,-te.actualBoundingBoxLeft,te.actualBoundingBoxRight,-te.actualBoundingBoxAscent,te.actualBoundingBoxDescent).recordOperation(t).recordIncrementalData("sameLineText",t)}n.x+=oe*E*g,l.restore(),this.compose();return}let D=0,B;for(B=0;B<y;++B){const J=e[B];if(typeof J=="number"){D+=b*J*r/1e3;continue}let oe=!1;const ce=(J.isSpace?f:0)+d,te=J.fontChar,W=J.accent;let H,q,K=J.width;if(w){const G=J.vmetric||A,ne=-(J.vmetric?G[1]:K*.5)*E,he=G[2]*E;K=G?-G[0]:K,H=ne/u,q=(D+he)/u}else H=D/u,q=0;let Z;if(i.remeasure&&K>0){Z=l.measureText(te);const G=Z.width*1e3/r*u;if(K<G&&this.isFontSubpixelAAEnabled){const ne=K/G;oe=!0,l.save(),l.scale(ne,1),H/=ne}else K!==G&&(H+=(K-G)/2e3*r/u)}if(this.contentVisible&&(J.isInFont||i.missingFile)){if(T&&!W)l.fillText(te,H,q),($=this.dependencyTracker)==null||$.recordCharacterBBox(t,l,Z?{bbox:null}:i,r/u,H,q,()=>Z??l.measureText(te));else if(this.paintChar(t,te,H,q,M,R),W){const G=H+r*W.offset.x/u,ne=q-r*W.offset.y/u;this.paintChar(t,W.fontChar,G,ne,M,R)}}const O=w?K*E-ce*p:K*E+ce*p;D+=O,oe&&l.restore()}w?n.y-=D:n.x+=D*g,l.restore(),this.compose(),(F=this.dependencyTracker)==null||F.recordOperation(t).recordIncrementalData("sameLineText",t)}showType3Text(t,e){const n=this.ctx,i=this.current,r=i.font,l=i.fontSize,u=i.fontDirection,d=r.vertical?1:-1,f=i.charSpacing,p=i.wordSpacing,g=i.textHScale*u,y=i.fontMatrix||c2,w=e.length,b=i.textRenderingMode===ln.INVISIBLE;let A,E,T,M;if(b||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(g,u);const R=this.dependencyTracker;for(this.dependencyTracker=R?new _0(R,t):null,A=0;A<w;++A){if(E=e[A],typeof E=="number"){M=d*E*l/1e3,this.ctx.translate(M,0),i.x+=M*g;continue}const L=(E.isSpace?p:0)+f,N=r.charProcOperatorList[E.operatorListId];N?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...y),this.executeOperatorList(N),this.restore()):Ne(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];Se.applyTransform(D,y),T=D[0]*l+L,n.translate(T,0),i.x+=T*g}n.restore(),R&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=R)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,i,r,l,u){var f;const d=new Path2D;d.rect(i,r,l-i,u-r),this.ctx.clip(d),(f=this.dependencyTracker)==null||f.recordBBox(t,this.ctx,i,l,r,u).recordClipBox(t,this.ctx,i,l,r,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const i=this.baseTransform||At(this.ctx),r={createCanvasGraphics:l=>new fS(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new _0(this.dependencyTracker,t):null)};n=new D2(e,this.ctx,r,i)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){var e;(e=this.dependencyTracker)==null||e.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=eD(this.getObject(t,e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(t,e){var l;if(!this.contentVisible)return;const n=this.ctx;this.save(t);const i=this._getPattern(t,e);n.fillStyle=i.getPattern(n,this,Ti(n),mn.SHADING);const r=Ti(n);if(r){const{width:u,height:d}=n.canvas,f=yu.slice();Se.axialAlignedBoundingBox([0,0,u,d],r,f);const[p,g,y,w]=f;this.ctx.fillRect(p,g,y-p,w-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(l=this.dependencyTracker)==null||l.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,$s.transform).recordDependencies(t,$s.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){st("Should not call beginInlineImage")}beginImageData(){st("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){var i;if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=At(this.ctx),n)){Se.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,l,u,d]=n,f=new Path2D;f.rect(r,l,u-r,d-l),this.ctx.clip(f),(i=this.dependencyTracker)==null||i.recordClipBox(t,this.ctx,r,u,l,d),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){var R;if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||uy("TODO: Support non-isolated groups."),e.knockout&&Ne("Knockout groups not supported.");const i=At(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=yu.slice();Se.axialAlignedBoundingBox(e.bbox,At(n),r);const l=[0,0,n.canvas.width,n.canvas.height];r=Se.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),d=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(g,f,p),w=y.context;w.translate(-u,-d),w.transform(...i);let b=new Path2D;const[A,E,T,M]=e.bbox;if(b.rect(A,E,T-A,M-E),e.matrix){const L=new Path2D;L.addPath(b,new DOMMatrix(e.matrix)),b=L}w.clip(b),e.smask&&this.smaskStack.push({canvas:y.canvas,context:w,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,d),n.save()),Id(n,w),this.ctx=w,(R=this.dependencyTracker)==null||R.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){var r;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(r=this.dependencyTracker)==null||r.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const l=At(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...l);const u=yu.slice();Se.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],l,u),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotation(t,e,n,i,r,l){if(k(this,Si,O2).call(this),_g(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=d,Se.singularValueDecompose2dScale(At(this.ctx),Cs);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:y,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(Cs[0],0,0,-Cs[1],0,d*Cs[1]),_g(this.ctx)}else{_g(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,d),this.ctx.clip(f)}}this.current=new C_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),k(this,Si,F2).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){var u;if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const i=this.ctx,r=this._createMaskCanvas(t,e),l=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(l,r.offsetX,r.offsetY),(u=this.dependencyTracker)==null||u.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+l.width,r.offsetY,r.offsetY+l.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,i=0,r=0,l,u){var g,y,w;if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=At(d);d.transform(n,i,r,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),(g=this.dependencyTracker)==null||g.resetBBox(t);for(let b=0,A=u.length;b<A;b+=2){const E=Se.transform(f,[n,i,r,l,u[b],u[b+1]]);d.drawImage(p.canvas,E[4],E[5]),(y=this.dependencyTracker)==null||y.recordBBox(t,this.ctx,E[4],E[4]+p.canvas.width,E[5],E[5]+p.canvas.height)}d.restore(),this.compose(),(w=this.dependencyTracker)==null||w.recordOperation(t)}paintImageMaskXObjectGroup(t,e){var l,u,d;if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;(l=this.dependencyTracker)==null||l.resetBBox(t).recordDependencies(t,$s.transformAndFill);for(const f of e){const{data:p,width:g,height:y,transform:w}=f,b=this.cachedCanvases.getCanvas("maskCanvas",g,y),A=b.context;A.save();const E=this.getObject(t,p,f);T_(A,E),A.globalCompositeOperation="source-in",A.fillStyle=r?i.getPattern(A,this,Ti(n),mn.FILL):i,A.fillRect(0,0,g,y),A.restore(),n.save(),n.transform(...w),n.scale(1,-1),Ag(n,b.canvas,0,0,g,y,0,-1,1,1),(u=this.dependencyTracker)==null||u.recordBBox(t,n,0,g,0,y),n.restore()}this.compose(),(d=this.dependencyTracker)==null||d.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,i,r){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Ne("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,g=r.length;p<g;p+=2)f.push({transform:[n,0,0,i,r[p],r[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),l=r.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",r.canvas}paintInlineImageXObject(t,e){var f;if(!this.contentVisible)return;const n=e.width,i=e.height,r=this.ctx;this.save(t);const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/n,-1/i);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const g=this.cachedCanvases.getCanvas("inlineImage",n,i).context;k_(g,e),u=this.applyTransferMapsToCanvas(g)}const d=this._scaleImage(u,Ti(r));r.imageSmoothingEnabled=P_(At(r),e.interpolate),(f=this.dependencyTracker)==null||f.resetBBox(t).recordBBox(t,r,0,n,-i,0).recordDependencies(t,$s.imageXObject).recordOperation(t),Ag(r,d.img,0,0,d.paintWidth,d.paintHeight,0,-i,n,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){var l,u,d;if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const f=e.width,p=e.height,y=this.cachedCanvases.getCanvas("inlineImage",f,p).context;k_(y,e),r=this.applyTransferMapsToCanvas(y)}(l=this.dependencyTracker)==null||l.resetBBox(t);for(const f of n)i.save(),i.transform(...f.transform),i.scale(1,-1),Ag(i,r,f.x,f.y,f.w,f.h,0,-1,1,1),(u=this.dependencyTracker)==null||u.recordBBox(t,i,0,1,-1,0),i.restore();(d=this.dependencyTracker)==null||d.recordOperation(t),this.compose()}paintSolidColorImageMask(t){var e;this.contentVisible&&((e=this.dependencyTracker)==null||e.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,$s.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){var e;(e=this.dependencyTracker)==null||e.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){var l,u;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===R_?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,(l=this.dependencyTracker)==null||l.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):(u=this.dependencyTracker)==null||u.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=At(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let l,u;if(n===0&&i===0){const d=Math.abs(e),f=Math.abs(r);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,g=f*t;l=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(e*r-n*i),f=Math.hypot(e,n),p=Math.hypot(i,r);if(t===0)l=p/d,u=f/d;else{const g=t*d;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:i}}=this,[r,l]=this.getScaleForStroking();if(r===l){n.lineWidth=(i||1)*r,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(r,l),I1.a=1/r,I1.d=1/l;const d=new Path2D;if(d.addPath(t,I1),u.length>0){const f=Math.max(r,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=i||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Si=new WeakSet,O2=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},F2=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},j2=function(t,e,n){const i=new Path2D;return i.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),i};let Au=fS;for(const a in mf)Au.prototype[a]!==void 0&&(Au.prototype[mf[a]]=Au.prototype[a]);var Xf,Yf;class Zi{static get workerPort(){return c(this,Xf)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");x(this,Xf,t)}static get workerSrc(){return c(this,Yf)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");x(this,Yf,t)}}Xf=new WeakMap,Yf=new WeakMap,_(Zi,Xf,null),_(Zi,Yf,"");var Zu,qf;class lD{constructor({parsedData:t,rawData:e}){_(this,Zu);_(this,qf);x(this,Zu,t),x(this,qf,e)}getRaw(){return c(this,qf)}get(t){return c(this,Zu).get(t)??null}[Symbol.iterator](){return c(this,Zu).entries()}}Zu=new WeakMap,qf=new WeakMap;const du=Symbol("INTERNAL");var Kf,Qf,Jf,eh;class cD{constructor(t,{name:e,intent:n,usage:i,rbGroups:r}){_(this,Kf,!1);_(this,Qf,!1);_(this,Jf,!1);_(this,eh,!0);x(this,Kf,!!(t&_s.DISPLAY)),x(this,Qf,!!(t&_s.PRINT)),this.name=e,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(c(this,Jf))return c(this,eh);if(!c(this,eh))return!1;const{print:t,view:e}=this.usage;return c(this,Kf)?(e==null?void 0:e.viewState)!=="OFF":c(this,Qf)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==du&&st("Internal method `_setVisible` called."),x(this,Jf,n),x(this,eh,e)}}Kf=new WeakMap,Qf=new WeakMap,Jf=new WeakMap,eh=new WeakMap;var la,tt,th,nh,Zf,B2;class uD{constructor(t,e=_s.DISPLAY){_(this,Zf);_(this,la,null);_(this,tt,new Map);_(this,th,null);_(this,nh,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,x(this,nh,t.order);for(const n of t.groups)c(this,tt).set(n.id,new cD(e,n));if(t.baseState==="OFF")for(const n of c(this,tt).values())n._setVisible(du,!1);for(const n of t.on)c(this,tt).get(n)._setVisible(du,!0);for(const n of t.off)c(this,tt).get(n)._setVisible(du,!1);x(this,th,this.getHash())}}isVisible(t){if(c(this,tt).size===0)return!0;if(!t)return uy("Optional content group not defined."),!0;if(t.type==="OCG")return c(this,tt).has(t.id)?c(this,tt).get(t.id).visible:(Ne(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return k(this,Zf,B2).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!c(this,tt).has(e))return Ne(`Optional content group not found: ${e}`),!0;if(c(this,tt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!c(this,tt).has(e))return Ne(`Optional content group not found: ${e}`),!0;if(!c(this,tt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!c(this,tt).has(e))return Ne(`Optional content group not found: ${e}`),!0;if(!c(this,tt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!c(this,tt).has(e))return Ne(`Optional content group not found: ${e}`),!0;if(c(this,tt).get(e).visible)return!1}return!0}return Ne(`Unknown optional content policy ${t.policy}.`),!0}return Ne(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var r;const i=c(this,tt).get(t);if(!i){Ne(`Optional content group not found: ${t}`);return}if(n&&e&&i.rbGroups.length)for(const l of i.rbGroups)for(const u of l)u!==t&&((r=c(this,tt).get(u))==null||r._setVisible(du,!1,!0));i._setVisible(du,!!e,!0),x(this,la,null)}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=c(this,tt).get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!r.visible,e);break}}x(this,la,null)}get hasInitialVisibility(){return c(this,th)===null||this.getHash()===c(this,th)}getOrder(){return c(this,tt).size?c(this,nh)?c(this,nh).slice():[...c(this,tt).keys()]:null}getGroup(t){return c(this,tt).get(t)||null}getHash(){if(c(this,la)!==null)return c(this,la);const t=new NC;for(const[e,n]of c(this,tt))t.update(`${e}:${n.visible}`);return x(this,la,t.hexdigest())}[Symbol.iterator](){return c(this,tt).entries()}}la=new WeakMap,tt=new WeakMap,th=new WeakMap,nh=new WeakMap,Zf=new WeakSet,B2=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const r=t[i];let l;if(Array.isArray(r))l=k(this,Zf,B2).call(this,r);else if(c(this,tt).has(r))l=c(this,tt).get(r).visible;else return Ne(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class hD{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ot(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,(r==null?void 0:r.length)>0){const d=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});Ot(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,i,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new dD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new fD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class dD{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=tS(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fD{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function pD(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),r(p)}if(e=l(a),e){const p=f(e);return r(p)}if(e=n("filename","i").exec(a),e){e=e[1];let p=u(e);return p=f(p),r(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function i(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const y=new TextDecoder(p,{fatal:!0}),w=Jp(g);g=y.decode(w),t=!1}catch{}}return g}function r(p){return t&&/[\x80-\xff]/.test(p)&&(p=i("utf-8",p),t&&(p=i("iso-8859-1",p))),p}function l(p){const g=[];let y;const w=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=w.exec(p))!==null;){let[,A,E,T]=y;if(A=parseInt(A,10),A in g){if(A===0)break;continue}g[A]=[E,T]}const b=[];for(let A=0;A<g.length&&A in g;++A){let[E,T]=g[A];T=u(T),E&&(T=unescape(T),A===0&&(T=d(T))),b.push(T)}return b.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let y=0;y<g.length;++y){const w=g[y].indexOf('"');w!==-1&&(g[y]=g[y].slice(0,w),g.length=y+1),g[y]=g[y].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const y=p.slice(0,g),b=p.slice(g+1).replace(/^[^']*'/,"");return i(y,b)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,y,w,b){if(w==="q"||w==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),i(y,b);try{b=atob(b)}catch{}return i(y,b)})}return""}function WC(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function fy(a){var t;return((t=URL.parse(a))==null?void 0:t.origin)??null}function VC({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(a.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function XC(a){const t=a.get("Content-Disposition");if(t){let e=pD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(tS(e))return e}return null}function nm(a,t){return new S0(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function YC(a){return a===200||a===206}function qC(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function KC(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Ne(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class mD{constructor(t){ae(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=WC(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new yD(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class gD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,qC(n,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=fy(r.url),!YC(r.status))throw nm(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const l=r.headers,{allowRangeRequests:u,suggestedLength:d}=VC({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=XC(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ua("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:KC(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class yD{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${n-1}`);const l=i.url;fetch(l,qC(r,this._withCredentials,this._abortController)).then(u=>{const d=fy(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!YC(u.status))throw nm(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:KC(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const D1=200,O1=206;function vD(a){const t=a.response;return typeof t!="string"?t:Jp(t).buffer}class wD{constructor({url:t,httpHeaders:e,withCredentials:n}){ae(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=WC(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,l]of this.headers)e.setRequestHeader(r,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=O1):i.expectedStatus=D1,e.responseType="arraybuffer",Ot(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var i;const n=this.pendingRequests[t];n&&((i=n.onProgress)==null||i.call(n,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){n.onError(i.status);return}const r=i.status||D1;if(!(r===D1&&n.expectedStatus===O1)&&r!==n.expectedStatus){n.onError(i.status);return}const u=vD(i);if(r===O1){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(Ne('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class SD{constructor(t){this._source=t,this._manager=new wD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new bD(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class xD{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=fy(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:l}=VC({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=XC(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=nm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bD{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=fy((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=nm(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const AD=/^[a-z][a-z0-9\-+.]+:/i;function _D(a){if(AD.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class ED{constructor(t){this.source=t,this.url=_D(t.url),Ot(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new CD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new kD(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class CD{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=nm(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ua("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kD{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Dd=Symbol("INITIAL_DATA");var ds,ep,z2;class QC{constructor(){_(this,ep);_(this,ds,Object.create(null))}get(t,e=null){if(e){const i=k(this,ep,z2).call(this,t);return i.promise.then(()=>e(i.data)),null}const n=c(this,ds)[t];if(!n||n.data===Dd)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=c(this,ds)[t];return!!e&&e.data!==Dd}delete(t){const e=c(this,ds)[t];return!e||e.data===Dd?!1:(delete c(this,ds)[t],!0)}resolve(t,e=null){const n=k(this,ep,z2).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in c(this,ds)){const{data:n}=c(this,ds)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}x(this,ds,Object.create(null))}*[Symbol.iterator](){for(const t in c(this,ds)){const{data:e}=c(this,ds)[t];e!==Dd&&(yield[t,e])}}}ds=new WeakMap,ep=new WeakSet,z2=function(t){var e;return(e=c(this,ds))[t]||(e[t]={...Promise.withResolvers(),data:Dd})};const TD=1e5,M_=30;var j_,ca,Qn,tp,np,Il,Ur,sp,ip,Dl,sh,ih,ua,rh,rp,oh,Ol,op,ap,ah,Fl,lp,ha,lh,yo,JC,ZC,$2,Rs,$g,U2,ek,tk;const $t=class $t{constructor({textContentSource:t,container:e,viewport:n}){_(this,yo);_(this,ca,Promise.withResolvers());_(this,Qn,null);_(this,tp,!1);_(this,np,!!((j_=globalThis.FontInspector)!=null&&j_.enabled));_(this,Il,null);_(this,Ur,null);_(this,sp,0);_(this,ip,0);_(this,Dl,null);_(this,sh,null);_(this,ih,0);_(this,ua,0);_(this,rh,Object.create(null));_(this,rp,[]);_(this,oh,null);_(this,Ol,[]);_(this,op,new WeakMap);_(this,ap,null);var d;if(t instanceof ReadableStream)x(this,oh,t);else if(typeof t=="object")x(this,oh,new ReadableStream({start(f){f.enqueue(t),f.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Qn,x(this,sh,e)),x(this,ua,n.scale*ar.pixelRatio),x(this,ih,n.rotation),x(this,Ur,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:l,pageY:u}=n.rawDims;x(this,ap,[1,0,0,-1,-l,u+r]),x(this,ip,i),x(this,sp,r),k(d=$t,Rs,ek).call(d),kc(e,n),c(this,ca).promise.finally(()=>{c($t,lh).delete(this),x(this,Ur,null),x(this,rh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=vn.platform;return je(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{c(this,Dl).read().then(({value:e,done:n})=>{if(n){c(this,ca).resolve();return}c(this,Il)??x(this,Il,e.lang),Object.assign(c(this,rh),e.styles),k(this,yo,JC).call(this,e.items),t()},c(this,ca).reject)};return x(this,Dl,c(this,oh).getReader()),c($t,lh).add(this),t(),c(this,ca).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*ar.pixelRatio,i=t.rotation;if(i!==c(this,ih)&&(e==null||e(),x(this,ih,i),kc(c(this,sh),{rotation:i})),n!==c(this,ua)){e==null||e(),x(this,ua,n);const l={div:null,properties:null,ctx:k(r=$t,Rs,$g).call(r,c(this,Il))};for(const u of c(this,Ol))l.properties=c(this,op).get(u),l.div=u,k(this,yo,$2).call(this,l)}}cancel(){var e;const t=new Ua("TextLayer task cancelled.");(e=c(this,Dl))==null||e.cancel(t).catch(()=>{}),x(this,Dl,null),c(this,ca).reject(t)}get textDivs(){return c(this,Ol)}get textContentItemsStr(){return c(this,rp)}static cleanup(){if(!(c(this,lh).size>0)){c(this,ah).clear();for(const{canvas:t}of c(this,Fl).values())t.remove();c(this,Fl).clear()}}};ca=new WeakMap,Qn=new WeakMap,tp=new WeakMap,np=new WeakMap,Il=new WeakMap,Ur=new WeakMap,sp=new WeakMap,ip=new WeakMap,Dl=new WeakMap,sh=new WeakMap,ih=new WeakMap,ua=new WeakMap,rh=new WeakMap,rp=new WeakMap,oh=new WeakMap,Ol=new WeakMap,op=new WeakMap,ap=new WeakMap,ah=new WeakMap,Fl=new WeakMap,lp=new WeakMap,ha=new WeakMap,lh=new WeakMap,yo=new WeakSet,JC=function(t){var i,r;if(c(this,tp))return;(r=c(this,Ur)).ctx??(r.ctx=k(i=$t,Rs,$g).call(i,c(this,Il)));const e=c(this,Ol),n=c(this,rp);for(const l of t){if(e.length>TD){Ne("Ignoring additional textDivs for performance reasons."),x(this,tp,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const u=c(this,Qn);x(this,Qn,document.createElement("span")),c(this,Qn).classList.add("markedContent"),l.id&&c(this,Qn).setAttribute("id",`${l.id}`),u.append(c(this,Qn))}else l.type==="endMarkedContent"&&x(this,Qn,c(this,Qn).parentNode);continue}n.push(l.str),k(this,yo,ZC).call(this,l)}},ZC=function(t){var A;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};c(this,Ol).push(e);const i=Se.transform(c(this,ap),t.transform);let r=Math.atan2(i[1],i[0]);const l=c(this,rh)[t.fontName];l.vertical&&(r+=Math.PI/2);let u=c(this,np)&&l.fontSubstitution||l.fontFamily;u=$t.fontFamilyMap.get(u)||u;const d=Math.hypot(i[2],i[3]),f=d*k(A=$t,Rs,tk).call(A,u,l,c(this,Il));let p,g;r===0?(p=i[4],g=i[5]-f):(p=i[4]+f*Math.sin(r),g=i[5]-f*Math.cos(r));const y="calc(var(--total-scale-factor) *",w=e.style;c(this,Qn)===c(this,sh)?(w.left=`${(100*p/c(this,ip)).toFixed(2)}%`,w.top=`${(100*g/c(this,sp)).toFixed(2)}%`):(w.left=`${y}${p.toFixed(2)}px)`,w.top=`${y}${g.toFixed(2)}px)`),w.fontSize=`${y}${(c($t,ha)*d).toFixed(2)}px)`,w.fontFamily=u,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,c(this,np)&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);E!==T&&Math.max(E,T)/Math.min(E,T)>1.5&&(b=!0)}if(b&&(n.canvasWidth=l.vertical?t.height:t.width),c(this,op).set(e,n),c(this,Ur).div=e,c(this,Ur).properties=n,k(this,yo,$2).call(this,c(this,Ur)),n.hasText&&c(this,Qn).append(e),n.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),c(this,Qn).append(E)}},$2=function(t){var u;const{div:e,properties:n,ctx:i}=t,{style:r}=e;let l="";if(c($t,ha)>1&&(l=`scale(${1/c($t,ha)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:d}=r,{canvasWidth:f,fontSize:p}=n;k(u=$t,Rs,U2).call(u,i,p*c(this,ua),d);const{width:g}=i.measureText(e.textContent);g>0&&(l=`scaleX(${f*c(this,ua)/g}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(r.transform=l)},Rs=new WeakSet,$g=function(t=null){let e=c(this,Fl).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Fl).set(t,e),c(this,lp).set(e,{size:0,family:""})}return e},U2=function(t,e,n){const i=c(this,lp).get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)},ek=function(){if(c(this,ha)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),x(this,ha,t.getBoundingClientRect().height),t.remove()},tk=function(t,e,n){const i=c(this,ah).get(t);if(i)return i;const r=k(this,Rs,$g).call(this,n);r.canvas.width=r.canvas.height=M_,k(this,Rs,U2).call(this,r,M_,t);const l=r.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let f=.8;return u?f=u/(u+d):(vn.platform.isFirefox&&Ne("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),c(this,ah).set(t,f),f},_($t,Rs),_($t,ah,new Map),_($t,Fl,new Map),_($t,lp,new WeakMap),_($t,ha,null),_($t,lh,new Set);let gf=$t;class yf{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(r){var d;if(!r)return;let l=null;const u=r.name;if(u==="#text")l=r.value;else if(yf.shouldBuildText(u))(d=r==null?void 0:r.attributes)!=null&&d.textContent?l=r.attributes.textContent:r.value&&(l=r.value);else return;if(l!==null&&e.push({str:l}),!!r.children)for(const f of r.children)i(f)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const PD=100;function nk(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new H2,{docId:e}=t,n=a.url?FI(a.url):null,i=a.data?jI(a.data):null,r=a.httpHeaders||null,l=a.withCredentials===!0,u=a.password??null,d=a.range instanceof sk?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof vf?a.worker:null;const g=a.verbosity,y=typeof a.docBaseUrl=="string"&&!hy(a.docBaseUrl)?a.docBaseUrl:null,w=xg(a.cMapUrl),b=a.cMapPacked!==!1,A=a.CMapReaderFactory||(Fn?VI:w_),E=xg(a.iccUrl),T=xg(a.standardFontDataUrl),M=a.StandardFontDataFactory||(Fn?XI:S_),R=xg(a.wasmUrl),L=a.WasmFactory||(Fn?YI:x_),N=a.stopAtErrors!==!0,D=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,B=a.isEvalSupported!==!1,X=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Fn,ee=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Fn&&(vn.platform.isFirefox||!globalThis.chrome),$=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,F=typeof a.disableFontFace=="boolean"?a.disableFontFace:Fn,J=a.fontExtraProperties===!0,oe=a.enableXfa===!0,ce=a.ownerDocument||globalThis.document,te=a.disableRange===!0,W=a.disableStream===!0,H=a.disableAutoFetch===!0,q=a.pdfBug===!0,K=a.CanvasFactory||(Fn?WI:UI),Z=a.FilterFactory||(Fn?GI:HI),O=a.enableHWA===!0,G=a.useWasm!==!1,ne=d?d.length:a.length??NaN,he=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Fn&&!F,ve=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(A===w_&&M===S_&&L===x_&&w&&T&&R&&$d(w,document.baseURI)&&$d(T,document.baseURI)&&$d(R,document.baseURI)),pe=null;mI(g);const de={canvasFactory:new K({ownerDocument:ce,enableHWA:O}),filterFactory:new Z({docId:e,ownerDocument:ce}),cMapReaderFactory:ve?null:new A({baseUrl:w,isCompressed:b}),standardFontDataFactory:ve?null:new M({baseUrl:T}),wasmFactory:ve?null:new L({baseUrl:R})};p||(p=vf.create({verbosity:g,port:Zi.workerPort}),t._worker=p);const Le={docId:e,apiVersion:"5.4.149",data:i,password:u,disableAutoFetch:H,rangeChunkSize:f,length:ne,docBaseUrl:y,enableXfa:oe,evaluatorOptions:{maxImageSize:D,disableFontFace:F,ignoreErrors:N,isEvalSupported:B,isOffscreenCanvasSupported:X,isImageDecoderSupported:ee,canvasMaxAreaInBytes:$,fontExtraProperties:J,useSystemFonts:he,useWasm:G,useWorkerFetch:ve,cMapUrl:w,iccUrl:E,standardFontDataUrl:T,wasmUrl:R}},Ce={ownerDocument:ce,pdfBug:q,styleElement:pe,loadingParams:{disableAutoFetch:H,enableXfa:oe}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Be=p.messageHandler.sendWithPromise("GetDocRequest",Le,i?[i.buffer]:null);let it;if(d)it=new hD(d,{disableRange:te,disableStream:W});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");const vt=$d(n)?mD:Fn?ED:SD;it=new vt({url:n,length:ne,httpHeaders:r,withCredentials:l,rangeChunkSize:f,disableRange:te,disableStream:W})}return Be.then(vt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ns=new Xd(e,vt,p.port),xi=new LD(Ns,t,it,Ce,de,O);t._transport=xi,Ns.send("Ready",null)})}).catch(t._capability.reject),t}var U0;const H0=class H0{constructor(){ae(this,"_capability",Promise.withResolvers());ae(this,"_transport",null);ae(this,"_worker",null);ae(this,"docId",`d${zt(H0,U0)._++}`);ae(this,"destroyed",!1);ae(this,"onPassword",null);ae(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,n,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};U0=new WeakMap,_(H0,U0,0);let H2=H0;var jl,cp,up,hp,dp;class sk{constructor(t,e,n=!1,i=null){_(this,jl,Promise.withResolvers());_(this,cp,[]);_(this,up,[]);_(this,hp,[]);_(this,dp,[]);this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(t){c(this,dp).push(t)}addProgressListener(t){c(this,hp).push(t)}addProgressiveReadListener(t){c(this,up).push(t)}addProgressiveDoneListener(t){c(this,cp).push(t)}onDataRange(t,e){for(const n of c(this,dp))n(t,e)}onDataProgress(t,e){c(this,jl).promise.then(()=>{for(const n of c(this,hp))n(t,e)})}onDataProgressiveRead(t){c(this,jl).promise.then(()=>{for(const e of c(this,up))e(t)})}onDataProgressiveDone(){c(this,jl).promise.then(()=>{for(const t of c(this,cp))t()})}transportReady(){c(this,jl).resolve()}requestDataRange(t,e){st("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}jl=new WeakMap,cp=new WeakMap,up=new WeakMap,hp=new WeakMap,dp=new WeakMap;class RD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Hr,Bl,Jd;class MD{constructor(t,e,n,i=!1){_(this,Bl);_(this,Hr,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new g_:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new QC,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new em({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:i="display",annotationMode:r=zo.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:y=!1,recordOperations:w=!1,filteredOperationIndexes:b=null}){var X,ee,$;(X=this._stats)==null||X.time("Overall");const A=this._transport.getRenderingIntent(i,r,g,y),{renderingIntent:E,cacheKey:T}=A;x(this,Hr,!1),d||(d=this._transport.getOptionalContentConfig(E));let M=this._intentStates.get(T);M||(M=Object.create(null),this._intentStates.set(T,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const R=!!(E&_s.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ee=this._stats)==null||ee.time("Page Request"),this._pumpOperatorList(A));const L=!this.recordedGroups&&(w||this._pdfBug&&(($=globalThis.StepperManager)==null?void 0:$.enabled)),N=F=>{var J,oe,ce;if(M.renderTasks.delete(D),L){const te=(J=D.gfx)==null?void 0:J.dependencyTracker.take();te?((oe=D.stepper)==null||oe.setOperatorGroups(te),w&&(this.recordedGroups=te)):w&&(this.recordedGroups=[])}R&&x(this,Hr,!0),k(this,Bl,Jd).call(this),F?(D.capability.reject(F),this._abortOperatorList({intentState:M,reason:F instanceof Error?F:new Error(F)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(ce=globalThis.Stats)!=null&&ce.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new G2({callback:N,params:{canvas:e,canvasContext:t,dependencyTracker:L?new qI(e):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,filteredOperationIndexes:b});(M.renderTasks||(M.renderTasks=new Set)).add(D);const B=D.task;return Promise.all([M.displayReadyCapability.promise,d]).then(([F,J])=>{var oe;if(this.destroyed){N();return}if((oe=this._stats)==null||oe.time("Rendering"),!(J.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:F,optionalContentConfig:J}),D.operatorListChanged()}).catch(N),B}getOperatorList({intent:t="display",annotationMode:e=zo.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var f;function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,i,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=r,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(f=this._stats)==null||f.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>yf.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,i){function r(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??(u.lang=d.lang),Object.assign(u.styles,d.styles),u.items.push(...d.items),r()},i)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),x(this,Hr,!1),Promise.all(t)}cleanup(t=!1){x(this,Hr,!0);const e=k(this,Bl,Jd).call(this);return t&&e&&this._stats&&(this._stats=new g_),e}_startRenderPage(t,e){var i,r;const n=this._intentStates.get(e);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&k(this,Bl,Jd).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:i},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();k(this,Bl,Jd).call(this)}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof eS){let i=PD;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Ua(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Hr=new WeakMap,Bl=new WeakSet,Jd=function(){if(!c(this,Hr)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Hr,!1),!0};var da,di,Gr,zl,G0,$l,Ul,Bn,Ug,ik,rk,Zd,ch,Hg;const ft=class ft{constructor({name:t=null,port:e=null,verbosity:n=gI()}={}){_(this,Bn);_(this,da,Promise.withResolvers());_(this,di,null);_(this,Gr,null);_(this,zl,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(c(ft,Ul).has(e))throw new Error("Cannot use more than one PDFWorker per port.");c(ft,Ul).set(e,this),k(this,Bn,ik).call(this,e)}else k(this,Bn,rk).call(this)}get promise(){return c(this,da).promise}get port(){return c(this,Gr)}get messageHandler(){return c(this,di)}destroy(){var t,e;this.destroyed=!0,(t=c(this,zl))==null||t.terminate(),x(this,zl,null),c(ft,Ul).delete(c(this,Gr)),x(this,Gr,null),(e=c(this,di))==null||e.destroy(),x(this,di,null)}static create(t){const e=c(this,Ul).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ft(t)}static get workerSrc(){if(Zi.workerSrc)return Zi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return je(this,"_setupFakeWorkerGlobal",(async()=>c(this,ch,Hg)?c(this,ch,Hg):(await import(this.workerSrc)).WorkerMessageHandler)())}};da=new WeakMap,di=new WeakMap,Gr=new WeakMap,zl=new WeakMap,G0=new WeakMap,$l=new WeakMap,Ul=new WeakMap,Bn=new WeakSet,Ug=function(){c(this,da).resolve(),c(this,di).send("configure",{verbosity:this.verbosity})},ik=function(t){x(this,Gr,t),x(this,di,new Xd("main","worker",t)),c(this,di).on("ready",()=>{}),k(this,Bn,Ug).call(this)},rk=function(){if(c(ft,$l)||c(ft,ch,Hg)){k(this,Bn,Zd).call(this);return}let{workerSrc:t}=ft;try{ft._isSameOrigin(window.location,t)||(t=ft._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Xd("main","worker",e),i=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?c(this,da).reject(new Error("Worker was destroyed")):k(this,Bn,Zd).call(this)},r=new AbortController;e.addEventListener("error",()=>{c(this,zl)||i()},{signal:r.signal}),n.on("test",u=>{if(r.abort(),this.destroyed||!u){i();return}x(this,di,n),x(this,Gr,e),x(this,zl,e),k(this,Bn,Ug).call(this)}),n.on("ready",u=>{if(r.abort(),this.destroyed){i();return}try{l()}catch{k(this,Bn,Zd).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{uy("The worker has been disabled.")}k(this,Bn,Zd).call(this)},Zd=function(){c(ft,$l)||(Ne("Setting up fake worker."),x(ft,$l,!0)),ft._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){c(this,da).reject(new Error("Worker was destroyed"));return}const e=new $I;x(this,Gr,e);const n=`fake${zt(ft,G0)._++}`,i=new Xd(n+"_worker",n,e);t.setup(i,e),x(this,di,new Xd(n,n+"_worker",e)),k(this,Bn,Ug).call(this)}).catch(t=>{c(this,da).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ch=new WeakSet,Hg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},_(ft,ch),_(ft,G0,0),_(ft,$l,!1),_(ft,Ul,new WeakMap),Fn&&(x(ft,$l,!0),Zi.workerSrc||(Zi.workerSrc="./pdf.worker.mjs")),ft._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const i=new URL(e,n);return n.origin===i.origin},ft._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ft.fromPort=t=>{if(TI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ft.create(t)};let vf=ft;var Wr,Ui,uh,hh,Vr,Hl,ef;class LD{constructor(t,e,n,i,r,l){_(this,Hl);_(this,Wr,new Map);_(this,Ui,new Map);_(this,uh,new Map);_(this,hh,new Map);_(this,Vr,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new QC,this.fontLoader=new DI({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}get annotationStorage(){return je(this,"annotationStorage",new nS)}getRenderingIntent(t,e=zo.ENABLE,n=null,i=!1,r=!1){let l=_s.DISPLAY,u=R2;switch(t){case"any":l=_s.ANY;break;case"display":break;case"print":l=_s.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${t}`)}const d=l&_s.PRINT&&n instanceof DC?n:this.annotationStorage;switch(e){case zo.DISABLE:l+=_s.ANNOTATIONS_DISABLE;break;case zo.ENABLE:break;case zo.ENABLE_FORMS:l+=_s.ANNOTATIONS_FORMS;break;case zo.ENABLE_STORAGE:l+=_s.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(l+=_s.IS_EDITING),r&&(l+=_s.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Vr))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of c(this,Ui).values())t.push(i._destroy());c(this,Ui).clear(),c(this,uh).clear(),c(this,hh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i,r;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Wr).clear(),this.filterFactory.destroy(),gf.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Ua("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,i)=>{Ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:l}){if(l){i.close();return}Ot(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:l}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=d=>{var f;(f=e.onProgress)==null||f.call(e,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:l}}),t.on("GetRangeReader",(n,i)=>{Ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:l,done:u}){if(u){i.close();return}Ot(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{r.cancel(l),i.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new RD(n,this))}),t.on("DocException",n=>{e._capability.reject(Yn(n))}),t.on("PasswordRequest",n=>{x(this,Vr,Promise.withResolvers());try{if(!e.onPassword)throw Yn(n);const i=r=>{r instanceof Error?c(this,Vr).reject(r):c(this,Vr).resolve({password:r})};e.onPassword(i,n.code)}catch(i){c(this,Vr).reject(i)}return c(this,Vr).promise}),t.on("DataLoaded",n=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Ui).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,r])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in r){const p=r.error;Ne(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const u=this._params.pdfBug&&((l=globalThis.FontInspector)!=null&&l.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new OI(r,u);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=r;Ot(f,"The imageRef must be defined.");for(const p of c(this,Ui).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,r,l])=>{var d;if(this.destroyed)return;const u=c(this,Ui).get(i);if(!u.objs.has(n)){if(u._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(r){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[n.type];if(!i)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=c(this,uh).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&c(this,hh).set(r.refStr,t);const l=new MD(e,r,this,this._params.pdfBug);return c(this,Ui).set(e,l),l});return c(this,uh).set(e,i),i}getPageIndex(t){return M2(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return k(this,Hl,ef).call(this,"GetFieldObjects")}hasJSActions(){return k(this,Hl,ef).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return k(this,Hl,ef).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return k(this,Hl,ef).call(this,"GetOptionalContentConfig").then(e=>new uD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=c(this,Wr).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(i=>{var r,l;return{info:i[0],metadata:i[1]?new lD(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return c(this,Wr).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of c(this,Ui).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),c(this,Wr).clear(),this.filterFactory.destroy(!0),gf.cleanup()}}cachedPageNumber(t){if(!M2(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return c(this,hh).get(e)??null}}Wr=new WeakMap,Ui=new WeakMap,uh=new WeakMap,hh=new WeakMap,Vr=new WeakMap,Hl=new WeakSet,ef=function(t,e=null){const n=c(this,Wr).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return c(this,Wr).set(t,i),i};var fa;class ND{constructor(t){_(this,fa,null);ae(this,"onContinue",null);ae(this,"onError",null);x(this,fa,t)}get promise(){return c(this,fa).capability.promise}cancel(t=0){c(this,fa).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=c(this,fa).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=c(this,fa);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}fa=new WeakMap;var pa,Gl;const hl=class hl{constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:y=null,enableHWA:w=!1,filteredOperationIndexes:b=null}){_(this,pa,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ND(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=w,this._dependencyTracker=e.dependencyTracker,this._filteredOperationIndexes=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,f;if(this.cancelled)return;if(this._canvas){if(c(hl,Gl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(hl,Gl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:r,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Au(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:i,viewport:n,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var n,i,r;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,pa)&&(window.cancelAnimationFrame(c(this,pa)),x(this,pa,null)),c(hl,Gl).delete(this._canvas),t||(t=new eS(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(i=this.task).onError)==null||r.call(i,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,pa,window.requestAnimationFrame(()=>{x(this,pa,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(hl,Gl).delete(this._canvas),this.callback())))}};pa=new WeakMap,Gl=new WeakMap,_(hl,Gl,new WeakSet);let G2=hl;const ID="5.4.149",DD="9e2e9e209";var fs,Wl,dh,Wt,fp,fh,Xr,pp,ma,fi,mp,nt,W2,V2,X2,ol,ok,Bo;const qn=class qn{constructor({editor:t=null,uiManager:e=null}){_(this,nt);_(this,fs,null);_(this,Wl,null);_(this,dh);_(this,Wt,null);_(this,fp,!1);_(this,fh,!1);_(this,Xr,null);_(this,pp);_(this,ma,null);_(this,fi,null);var n,i;t?(x(this,fh,!1),x(this,Xr,t)):x(this,fh,!0),x(this,fi,(t==null?void 0:t._uiManager)||e),x(this,pp,c(this,fi)._eventBus),x(this,dh,((n=t==null?void 0:t.color)==null?void 0:n.toUpperCase())||((i=c(this,fi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),c(qn,mp)||x(qn,mp,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return je(this,"_keyboardManager",new tm([[["Escape","mac+Escape"],qn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qn.prototype._moveToPrevious],[["Home","mac+Home"],qn.prototype._moveToBeginning],[["End","mac+End"],qn.prototype._moveToEnd]]))}renderButton(){const t=x(this,fs,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",c(this,Xr)&&(t.ariaControls=`${c(this,Xr).id}_colorpicker_dropdown`);const e=c(this,fi)._signal;t.addEventListener("click",k(this,nt,ol).bind(this),{signal:e}),t.addEventListener("keydown",k(this,nt,X2).bind(this),{signal:e});const n=x(this,Wl,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=c(this,dh),t.append(n),t}renderMainDropdown(){const t=x(this,Wt,k(this,nt,W2).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===c(this,fs)){k(this,nt,ol).call(this,t);return}const e=t.target.getAttribute("data-color");e&&k(this,nt,V2).call(this,e,t)}_moveToNext(t){var e,n;if(!c(this,nt,Bo)){k(this,nt,ol).call(this,t);return}if(t.target===c(this,fs)){(e=c(this,Wt).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=c(this,Wt))==null?void 0:e.firstChild)||t.target===c(this,fs)){c(this,nt,Bo)&&this._hideDropdownFromKeyboard();return}c(this,nt,Bo)||k(this,nt,ol).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!c(this,nt,Bo)){k(this,nt,ol).call(this,t);return}(e=c(this,Wt).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!c(this,nt,Bo)){k(this,nt,ol).call(this,t);return}(e=c(this,Wt).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=c(this,Wt))==null||t.classList.add("hidden"),c(this,fs).ariaExpanded="false",(e=c(this,ma))==null||e.abort(),x(this,ma,null)}_hideDropdownFromKeyboard(){var t;if(!c(this,fh)){if(!c(this,nt,Bo)){(t=c(this,Xr))==null||t.unselect();return}this.hideDropdown(),c(this,fs).focus({preventScroll:!0,focusVisible:c(this,fp)})}}updateColor(t){if(c(this,Wl)&&(c(this,Wl).style.backgroundColor=t),!c(this,Wt))return;const e=c(this,fi).highlightColors.values();for(const n of c(this,Wt).children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=c(this,fs))==null||t.remove(),x(this,fs,null),x(this,Wl,null),(e=c(this,Wt))==null||e.remove(),x(this,Wt,null)}};fs=new WeakMap,Wl=new WeakMap,dh=new WeakMap,Wt=new WeakMap,fp=new WeakMap,fh=new WeakMap,Xr=new WeakMap,pp=new WeakMap,ma=new WeakMap,fi=new WeakMap,mp=new WeakMap,nt=new WeakSet,W2=function(){const t=document.createElement("div"),e=c(this,fi)._signal;t.addEventListener("contextmenu",ei,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),c(this,Xr)&&(t.id=`${c(this,Xr).id}_colorpicker_dropdown`);for(const[n,i]of c(this,fi).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",c(qn,mp)[n]);const l=document.createElement("span");r.append(l),l.className="swatch",l.style.backgroundColor=i,r.ariaSelected=i===c(this,dh),r.addEventListener("click",k(this,nt,V2).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",k(this,nt,X2).bind(this),{signal:e}),t},V2=function(t,e){e.stopPropagation(),c(this,pp).dispatch("switchannotationeditorparams",{source:this,type:He.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},X2=function(t){qn._keyboardManager.exec(this,t)},ol=function(t){if(c(this,nt,Bo)){this.hideDropdown();return}if(x(this,fp,t.detail===0),c(this,ma)||(x(this,ma,new AbortController),window.addEventListener("pointerdown",k(this,nt,ok).bind(this),{signal:c(this,fi).combinedSignal(c(this,ma))})),c(this,fs).ariaExpanded="true",c(this,Wt)){c(this,Wt).classList.remove("hidden");return}const e=x(this,Wt,k(this,nt,W2).call(this));c(this,fs).append(e)},ok=function(t){var e;(e=c(this,Wt))!=null&&e.contains(t.target)||this.hideDropdown()},Bo=function(){return c(this,Wt)&&!c(this,Wt).classList.contains("hidden")},_(qn,mp,null);let E0=qn;var Hi,gp,ph,yp;const dl=class dl{constructor(t){_(this,Hi,null);_(this,gp,null);_(this,ph,null);x(this,gp,t),x(this,ph,t._uiManager),c(dl,yp)||x(dl,yp,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(c(this,Hi))return c(this,Hi);const{editorType:t,colorType:e,colorValue:n}=c(this,gp),i=x(this,Hi,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",c(dl,yp)[t]),i.addEventListener("input",()=>{c(this,ph).updateParams(e,i.value)},{signal:c(this,ph)._signal}),i}update(t){c(this,Hi)&&(c(this,Hi).value=t)}destroy(){var t;(t=c(this,Hi))==null||t.remove(),x(this,Hi,null)}hideDropdown(){}};Hi=new WeakMap,gp=new WeakMap,ph=new WeakMap,yp=new WeakMap,_(dl,yp,null);let C0=dl;function L_(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Od(a){return Math.max(0,Math.min(255,255*a))}class N_{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Od(t),[t,t,t]}static G_HTML([t]){const e=L_(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Od)}static RGB_HTML(t){return`#${t.map(L_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[Od(1-Math.min(1,t+i)),Od(1-Math.min(1,n+i)),Od(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,r=1-e,l=1-n,u=Math.min(i,r,l);return["CMYK",i,r,l,u]}}class OD{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){st("Abstract method `_createSVG` called.")}}class k0 extends OD{_createSVG(t){return document.createElementNS(wr,t)}}class ak{static setupStorage(t,e,n,i,r){const l=i.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),r==="print")break;t.addEventListener("input",u=>{i.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",u=>{i.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),r==="print")break;t.addEventListener("input",u=>{i.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;i.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:r}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${i}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&r.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){var g,y;const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",l=document.createElement(i.name);i.attributes&&this.setAttributes({html:l,element:i,intent:r,linkService:n});const u=r!=="richText",d=t.div;if(d.append(l),t.viewport){const w=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=w}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(i.children.length===0){if(i.value){const w=document.createTextNode(i.value);l.append(w),u&&yf.shouldBuildText(i.name)&&f.push(w)}return{textDivs:f}}const p=[[i,-1,l]];for(;p.length>0;){const[w,b,A]=p.at(-1);if(b+1===w.children.length){p.pop();continue}const E=w.children[++p.at(-1)[1]];if(E===null)continue;const{name:T}=E;if(T==="#text"){const R=document.createTextNode(E.value);f.push(R),A.append(R);continue}const M=(g=E==null?void 0:E.attributes)!=null&&g.xmlns?document.createElementNS(E.attributes.xmlns,T):document.createElement(T);if(A.append(M),E.attributes&&this.setAttributes({html:M,element:E,storage:e,intent:r,linkService:n}),((y=E.children)==null?void 0:y.length)>0)p.push([E,-1,M]);else if(E.value){const R=document.createTextNode(E.value);u&&yf.shouldBuildText(T)&&f.push(R),M.append(R)}}for(const w of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const FD=9,Pc=new WeakSet,jD=new Date().getTimezoneOffset()*60*1e3;class I_{static create(t){switch(t.data.annotationType){case It.LINK:return new rS(t);case It.TEXT:return new BD(t);case It.WIDGET:switch(t.data.fieldType){case"Tx":return new zD(t);case"Btn":return t.data.radioButton?new hk(t):t.data.checkBox?new UD(t):new HD(t);case"Ch":return new GD(t);case"Sig":return new $D(t)}return new Nc(t);case It.POPUP:return new q2(t);case It.FREETEXT:return new vk(t);case It.LINE:return new VD(t);case It.SQUARE:return new XD(t);case It.CIRCLE:return new YD(t);case It.POLYLINE:return new wk(t);case It.CARET:return new KD(t);case It.INK:return new oS(t);case It.POLYGON:return new qD(t);case It.HIGHLIGHT:return new Sk(t);case It.UNDERLINE:return new QD(t);case It.SQUIGGLY:return new JD(t);case It.STRIKEOUT:return new ZD(t);case It.STAMP:return new xk(t);case It.FILEATTACHMENT:return new e4(t);default:return new Mt(t)}}}var Vl,mh,Yr,Rc,lk,Y2;const pS=class pS{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){_(this,Rc);_(this,Vl,null);_(this,mh,!1);_(this,Yr,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return pS._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:t,rect:e}=this.data;let n=-1/0,i=-1/0;if((t==null?void 0:t.length)>=8){for(let r=0;r<t.length;r+=8)t[r+1]>i?(i=t[r+1],n=t[r+2]):t[r+1]===i&&(n=Math.max(n,t[r+2]));return[n,i]}return e?[e[2],e[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[t,e,n]=this.data.color,r=255*(1-(this.data.opacity??1));return k(this,Rc,lk).call(this,Math.min(t+r,255),Math.min(e+r,255),Math.min(n+r,255))}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/n,t[1]=100*(t[1]-l)/i,t}updateEdited(t){var r;if(!this.container)return;t.rect&&(c(this,Vl)||x(this,Vl,{rect:this.data.rect.slice(0)}));const{rect:e,popup:n}=t;e&&k(this,Rc,Y2).call(this,e);let i=((r=c(this,Yr))==null?void 0:r.popup)||this.popup;!i&&(n!=null&&n.text)&&(this._createPopup(n),i=c(this,Yr).popup),i&&(i.updateEdited(t),n!=null&&n.deleted&&(i.remove(),x(this,Yr,null),this.popup=null))}resetEdited(){var t;c(this,Vl)&&(k(this,Rc,Y2).call(this,c(this,Vl).rect),(t=c(this,Yr))==null||t.popup.resetEdited(),x(this,Vl,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof Nc)&&!(this instanceof rS)&&(r.tabIndex=0);const{style:l}=r;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof q2){const{rotation:A}=e;return!e.hasOwnCanvas&&A!==0&&this.setRotation(A,r),r}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const A=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(A>0||E>0){const M=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=M}else if(this instanceof hk){const M=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=M}switch(e.borderStyle.style){case au.SOLID:l.borderStyle="solid";break;case au.DASHED:l.borderStyle="dashed";break;case au.BEVELED:Ne("Unimplemented border style: beveled");break;case au.INSET:Ne("Unimplemented border style: inset");break;case au.UNDERLINE:l.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(x(this,mh,!0),l.borderColor=Se.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):l.borderWidth=0}const f=Se.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:y,pageY:w}=i.rawDims;l.left=`${100*(f[0]-y)/p}%`,l.top=`${100*(f[1]-w)/g}%`;const{rotation:b}=e;return e.hasOwnCanvas||b===0?(l.width=`${100*u/p}%`,l.height=`${100*d/g}%`):this.setRotation(b,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:l}=this;t%180!==0&&([r,l]=[l,r]),e.style.width=`${100*r/n}%`,e.style.height=`${100*l/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,i)=>{const r=i.detail[e],l=r[0],u=r.slice(1);i.target.style[n]=N_[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:N_[`${l}_rgb`](u)})};return je(this,"_commonActions",{display:e=>{const{display:n}=e.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const l=n[i];if(l){const u={detail:{[i]:r},target:t};l(u),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect.map(A=>Math.fround(A));if(t.length===8){const[A,E,T,M]=t.subarray(2,6);if(i===A&&r===E&&e===T&&n===M)return}const{style:l}=this.container;let u;if(c(this,mh)){const{borderColor:A,borderWidth:E}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=i-e,f=r-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const y=p.createElement("defs");g.append(y);const w=p.createElement("clipPath"),b=`clippath_${this.data.id}`;w.setAttribute("id",b),w.setAttribute("clipPathUnits","objectBoundingBox"),y.append(w);for(let A=2,E=t.length;A<E;A+=8){const T=t[A],M=t[A+1],R=t[A+2],L=t[A+3],N=p.createElement("rect"),D=(R-e)/d,B=(r-M)/f,X=(T-R)/d,ee=(M-L)/f;N.setAttribute("x",D),N.setAttribute("y",B),N.setAttribute("width",X),N.setAttribute("height",ee),w.append(N),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${B}" width="${X}" height="${ee}"/>`)}c(this,mh)&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${b})`}_createPopup(t=null){const{data:e}=this;let n,i;t?(n={str:t.text},i=t.date):(n=e.contentsObj,i=e.modificationDate);const r=x(this,Yr,new q2({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}get hasPopupElement(){return!!(c(this,Yr)||this.popup||this.data.popupRef)}render(){st("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:r,id:l,exportValues:u}of i){if(r===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Pc.has(f)){Ne(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const i of document.getElementsByName(t)){const{exportValue:r}=i,l=i.getAttribute("data-element-id");l!==e&&Pc.has(i)&&n.push({id:l,exportValue:r,domElement:i})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Vl=new WeakMap,mh=new WeakMap,Yr=new WeakMap,Rc=new WeakSet,lk=function(t,e,n){t/=255,e/=255,n/=255;const i=Math.max(t,e,n),r=Math.min(t,e,n),l=(i+r)/2,u=((1+Math.sqrt(l))/2*100).toFixed(2);if(i===r)return`hsl(0, 0%, ${u}%)`;const d=i-r;let f;i===t?f=(e-n)/d+(e<n?6:0):i===e?f=(n-t)/d+2:f=(t-e)/d+4,f=(f*60).toFixed(2);const p=(d/(1-Math.abs(2*l-1))*100).toFixed(2);return`hsl(${f}, ${p}%, ${u}%)`},Y2=function(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:l,pageX:u,pageY:d}}}}=this;n==null||n.splice(0,4,...t),e.left=`${100*(t[0]-u)/r}%`,e.top=`${100*(l-t[3]+d)/l}%`,i===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(i)};let Mt=pS;var ks,al,ck,uk;class rS extends Mt{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});_(this,ks);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),r=!0):e.attachment?(k(this,ks,ck).call(this,i,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(k(this,ks,uk).call(this,i,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(e,n,i=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&k(this,ks,al).call(this),i&&(e.title=i)}_bindNamedAction(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(e.title=i),k(this,ks,al).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const l=i.get(r);l&&(e[l]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),k(this,ks,al).call(this)}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),k(this,ks,al).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var g;i==null||i();const{fields:r,refs:l,include:u}=n,d=[];if(r.length!==0||l.length!==0){const y=new Set(l);for(const w of r){const b=this._fieldObjects[w]||[];for(const{id:A}of b)y.add(A)}for(const w of Object.values(this._fieldObjects))for(const b of w)y.has(b.id)===u&&d.push(b)}else for(const y of Object.values(this._fieldObjects))d.push(...y);const f=this.annotationStorage,p=[];for(const y of d){const{id:w}=y;switch(p.push(w),y.type){case"text":{const A=y.defaultValue||"";f.setValue(w,{value:A});break}case"checkbox":case"radiobutton":{const A=y.defaultValue===y.exportValues;f.setValue(w,{value:A});break}case"combobox":case"listbox":{const A=y.defaultValue||"";f.setValue(w,{value:A});break}default:continue}const b=document.querySelector(`[data-element-id="${w}"]`);if(b){if(!Pc.has(b)){Ne(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}})),!1}}}ks=new WeakSet,al=function(){this.container.setAttribute("data-internal-link","")},ck=function(e,n,i="",r=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:i&&(e.title=i),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},k(this,ks,al).call(this)},uk=function(e,n,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(e.title=i),k(this,ks,al).call(this)};class BD extends Mt{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Nc extends Mt{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return vn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,l=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{var u;if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(l)}}))})}_setEventListeners(t,e,n,i){var r,l,u;for(const[d,f]of n)(f==="Action"||(r=this.data.actions)!=null&&r[f])&&((f==="Focus"||f==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,d,f,i),f==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(t,e,"blur","Blur",null):f==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Se.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||FD,r=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(P1*i))||1,g=f/p;l=Math.min(i,d(g/P1))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(i,d(f/P1))}r.fontSize=`calc(${l}px * var(--total-scale-factor))`,r.color=Se.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class zD extends Nc{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),r.setValue(l.id,{[i]:n})}render(){var i,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=t.getValue(e,{value:this.data.fieldValue});let u=l.value||"";const d=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;d&&u.length>d&&(u=u.slice(0,d));let f=l.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;f&&this.data.comb&&(f=f.replaceAll(/\s+/g,""));const p={userValue:u,formattedValue:f,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=f??u,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",f??u),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Pc.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:g,datetimeType:y,timeStep:w}=this.data,b=!!y&&this.enableScripting;g&&(n.title=g),this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",E=>{t.setValue(e,{value:E.target.value}),this.setPropertyOnSiblings(n,"value",E.target.value,"value"),p.formattedValue=null}),n.addEventListener("resetform",E=>{const T=this.data.defaultFieldValue??"";n.value=p.userValue=T,p.formattedValue=null});let A=E=>{const{formattedValue:T}=p;T!=null&&(E.target.value=T),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",T=>{var R;if(p.focused)return;const{target:M}=T;if(b&&(M.type=y,w&&(M.step=w)),p.userValue){const L=p.userValue;if(b)if(y==="time"){const N=new Date(L),D=[N.getHours(),N.getMinutes(),N.getSeconds()];M.value=D.map(B=>B.toString().padStart(2,"0")).join(":")}else M.value=new Date(L-jD).toISOString().split(y==="date"?"T":".",1)[0];else M.value=L}p.lastCommittedValue=M.value,p.commitKey=1,(R=this.data.actions)!=null&&R.Focus||(p.focused=!0)}),n.addEventListener("updatefromsandbox",T=>{this.showElementAndHideCanvas(T.target);const M={value(R){p.userValue=R.detail.value??"",b||t.setValue(e,{value:p.userValue.toString()}),R.target.value=p.userValue},formattedValue(R){const{formattedValue:L}=R.detail;p.formattedValue=L,L!=null&&R.target!==document.activeElement&&(R.target.value=L);const N={formattedValue:L};b&&(N.value=L),t.setValue(e,N)},selRange(R){R.target.setSelectionRange(...R.detail.selRange)},charLimit:R=>{var B;const{charLimit:L}=R.detail,{target:N}=R;if(L===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",L);let D=p.userValue;!D||D.length<=L||(D=D.slice(0,L),N.value=p.userValue=D,t.setValue(e,{value:D}),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(M,T)}),n.addEventListener("keydown",T=>{var L;p.commitKey=1;let M=-1;if(T.key==="Escape"?M=0:T.key==="Enter"&&!this.data.multiLine?M=2:T.key==="Tab"&&(p.commitKey=3),M===-1)return;const{value:R}=T.target;p.lastCommittedValue!==R&&(p.lastCommittedValue=R,p.userValue=R,(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:M,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}}))});const E=A;A=null,n.addEventListener("blur",T=>{var L,N;if(!p.focused||!T.relatedTarget)return;(L=this.data.actions)!=null&&L.Blur||(p.focused=!1);const{target:M}=T;let{value:R}=M;if(b){if(R&&y==="time"){const D=R.split(":").map(B=>parseInt(B,10));R=new Date(2e3,0,1,D[0],D[1],D[2]||0).valueOf(),M.step=""}else R=new Date(R).valueOf();M.type="text"}p.userValue=R,p.lastCommittedValue!==R&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:p.commitKey,selStart:T.target.selectionStart,selEnd:T.target.selectionEnd}})),E(T)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",T=>{var ee;p.lastCommittedValue=null;const{data:M,target:R}=T,{value:L,selectionStart:N,selectionEnd:D}=R;let B=N,X=D;switch(T.inputType){case"deleteWordBackward":{const $=L.substring(0,N).match(/\w*[^\w]*$/);$&&(B-=$[0].length);break}case"deleteWordForward":{const $=L.substring(N).match(/^[^\w]*\w*/);$&&(X+=$[0].length);break}case"deleteContentBackward":N===D&&(B-=1);break;case"deleteContentForward":N===D&&(X+=1);break}T.preventDefault(),(ee=this.linkService.eventBus)==null||ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,change:M||"",willCommit:!1,selStart:B,selEnd:X}})}),this._setEventListeners(n,p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],T=>T.target.value)}if(A&&n.addEventListener("blur",A),this.data.comb){const T=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${T}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class $D extends Nc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class UD extends Nc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Pc.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),r.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hk extends Nc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const r=document.createElement("input");if(Pc.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),r.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;r.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const y=p&&g.id===n;g.domElement&&(g.domElement.checked=y),t.setValue(g.id,{value:y})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class HD extends rS{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class GD extends Nc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Pc.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const y of i.options)y.selected=y.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),r=!1),i.append(g)}let l=null;if(r){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),i.prepend(p),l=()=>{p.remove(),i.removeEventListener("input",l),l=null},i.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:y,multiple:w}=i;return w?Array.prototype.filter.call(y,b=>b.selected).map(b=>b[g]):y.selectedIndex===-1?null:y[y.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",p=>{const g={value(y){l==null||l();const w=y.detail.value,b=new Set(Array.isArray(w)?w:[w]);for(const A of i.options)A.selected=b.has(A.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(y){i.multiple=!0},remove(y){const w=i.options,b=y.detail.remove;w[b].selected=!1,i.remove(b),w.length>0&&Array.prototype.findIndex.call(w,E=>E.selected)===-1&&(w[0].selected=!0),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},clear(y){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(y){const{index:w,displayValue:b,exportValue:A}=y.detail.insert,E=i.children[w],T=document.createElement("option");T.textContent=b,T.value=A,E?E.before(T):i.append(T),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},items(y){const{items:w}=y.detail;for(;i.length!==0;)i.remove(0);for(const b of w){const{displayValue:A,exportValue:E}=b,T=document.createElement("option");T.textContent=A,T.value=E,i.append(T)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(y)}),d=u(!1)},indices(y){const w=new Set(y.detail.indices);for(const b of y.target.options)b.selected=w.has(b.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("input",p=>{var w;const g=u(!0),y=u(!1);t.setValue(e,{value:g}),p.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:y,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):i.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class q2 extends Mt{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Mt._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new WD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${Zw}${i}`).join(",")),this.container}}var Xl,W0,V0,Yl,gh,Ct,qr,ga,Kr,vp,wp,yh,Gi,ps,Qr,Jr,Sp,ya,vh,xp,Zr,wh,ql,va,$e,Gg,dk,fk,Wg,K2,pk,mk,gk,yk,Vg,Xg,Q2;class WD{constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:r,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:g,eventBus:y=null}){_(this,$e);_(this,Xl,k(this,$e,gk).bind(this));_(this,W0,k(this,$e,Q2).bind(this));_(this,V0,k(this,$e,Xg).bind(this));_(this,Yl,k(this,$e,Vg).bind(this));_(this,gh,null);_(this,Ct,null);_(this,qr,null);_(this,ga,null);_(this,Kr,null);_(this,vp,null);_(this,wp,null);_(this,yh,null);_(this,Gi,!1);_(this,ps,null);_(this,Qr,null);_(this,Jr,null);_(this,Sp,null);_(this,ya,null);_(this,vh,null);_(this,xp,null);_(this,Zr,null);_(this,wh,null);_(this,ql,null);_(this,va,!1);x(this,Ct,t),x(this,wh,i),x(this,qr,l),x(this,Zr,u),x(this,wp,d),x(this,gh,e),x(this,xp,f),x(this,yh,p),x(this,Kr,n),x(this,vp,y),x(this,ga,x0.toDateObject(r)),this.trigger=n.flatMap(w=>w.getElementsToTriggerPopup()),k(this,$e,Gg).call(this),c(this,Ct).hidden=!0,g&&k(this,$e,Vg).call(this)}render(){var i;if(c(this,ps))return;const t=x(this,ps,document.createElement("div"));if(t.className="popup",c(this,gh)){const r=t.style.outlineColor=Se.makeHexColor(...c(this,gh));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(i=c(this,wh))!=null&&i.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=c(this,wh)}if(t.append(e),c(this,ga)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,ga).valueOf()})),r.dateTime=c(this,ga).toISOString(),e.append(r)}const n=c(this,$e,Wg);if(n)ak.render({xfaHtml:n,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(c(this,qr));t.append(r)}c(this,Ct).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let r=0,l=i.length;r<l;++r){const u=i[r];n.append(document.createTextNode(u)),r<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popup:e,deleted:n}){var i;if(n||e!=null&&e.deleted){this.remove();return}k(this,$e,Gg).call(this),c(this,ql)||x(this,ql,{contentsObj:c(this,qr),richText:c(this,Zr)}),t&&x(this,Jr,null),e&&(x(this,Zr,k(this,$e,mk).call(this,e.text)),x(this,ga,x0.toDateObject(e.date)),x(this,qr,null)),(i=c(this,ps))==null||i.remove(),x(this,ps,null)}resetEdited(){var t;c(this,ql)&&({contentsObj:zt(this,qr)._,richText:zt(this,Zr)._}=c(this,ql),x(this,ql,null),(t=c(this,ps))==null||t.remove(),x(this,ps,null),x(this,Jr,null))}remove(){var t,e;(t=c(this,Qr))==null||t.abort(),x(this,Qr,null),(e=c(this,ps))==null||e.remove(),x(this,ps,null),x(this,va,!1),x(this,Gi,!1);for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){x(this,va,this.isVisible),c(this,va)&&(c(this,Ct).hidden=!0)}maybeShow(){k(this,$e,Gg).call(this),c(this,va)&&(c(this,ps)||k(this,$e,Xg).call(this),x(this,va,!1),c(this,Ct).hidden=!1)}get isVisible(){return c(this,Ct).hidden===!1}}Xl=new WeakMap,W0=new WeakMap,V0=new WeakMap,Yl=new WeakMap,gh=new WeakMap,Ct=new WeakMap,qr=new WeakMap,ga=new WeakMap,Kr=new WeakMap,vp=new WeakMap,wp=new WeakMap,yh=new WeakMap,Gi=new WeakMap,ps=new WeakMap,Qr=new WeakMap,Jr=new WeakMap,Sp=new WeakMap,ya=new WeakMap,vh=new WeakMap,xp=new WeakMap,Zr=new WeakMap,wh=new WeakMap,ql=new WeakMap,va=new WeakMap,$e=new WeakSet,Gg=function(){var e;if(c(this,Qr))return;x(this,Qr,new AbortController);const{signal:t}=c(this,Qr);for(const n of this.trigger)n.addEventListener("click",c(this,Yl),{signal:t}),n.addEventListener("mouseenter",c(this,V0),{signal:t}),n.addEventListener("mouseleave",c(this,W0),{signal:t}),n.classList.add("popupTriggerArea");for(const n of c(this,Kr))(e=n.container)==null||e.addEventListener("keydown",c(this,Xl),{signal:t});k(this,$e,fk).call(this)},dk=function(){const t=c(this,Kr).find(e=>e.hasCommentButton);t&&(x(this,ya,t._normalizePoint(t.commentButtonPosition)),x(this,vh,t.commentButtonColor))},fk=function(){if(c(this,Sp)||(c(this,ya)||k(this,$e,dk).call(this),!c(this,ya)))return;const t=x(this,Sp,document.createElement("button"));t.className="annotationCommentButton";const e=c(this,Kr)[0].container;t.style.zIndex=e.style.zIndex+1,t.tabIndex=0;const{signal:n}=c(this,Qr);t.addEventListener("hover",c(this,Yl),{signal:n}),t.addEventListener("keydown",c(this,Xl),{signal:n}),t.addEventListener("click",()=>{var u;const[{data:{id:r},annotationEditorType:l}]=c(this,Kr);(u=c(this,vp))==null||u.dispatch("switchannotationeditormode",{source:this,editId:r,mode:l,editComment:!0})},{signal:n});const{style:i}=t;i.left=`calc(${c(this,ya)[0]}%)`,i.top=`calc(${c(this,ya)[1]}% - var(--comment-button-dim))`,c(this,vh)&&(i.backgroundColor=c(this,vh)),e.after(t)},Wg=function(){const t=c(this,Zr),e=c(this,qr);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&c(this,Zr).html||null},K2=function(){var t,e,n;return((n=(e=(t=c(this,$e,Wg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},pk=function(){var t,e,n;return((n=(e=(t=c(this,$e,Wg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},mk=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:c(this,$e,pk),fontSize:c(this,$e,K2)?`calc(${c(this,$e,K2)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:i});return n},gk=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&c(this,Gi))&&k(this,$e,Vg).call(this)},yk=function(){if(c(this,Jr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=c(this,wp);let l=!!c(this,yh),u=l?c(this,yh):c(this,xp);for(const b of c(this,Kr))if(!u||Se.intersect(b.data.rect,u)!==null){u=b.data.rect,l=!0;break}const d=Se.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,g=d[0]+p,y=d[1];x(this,Jr,[100*(g-i)/e,100*(y-r)/n]);const{style:w}=c(this,Ct);w.left=`${c(this,Jr)[0]}%`,w.top=`${c(this,Jr)[1]}%`},Vg=function(){x(this,Gi,!c(this,Gi)),c(this,Gi)?(k(this,$e,Xg).call(this),c(this,Ct).addEventListener("click",c(this,Yl)),c(this,Ct).addEventListener("keydown",c(this,Xl))):(k(this,$e,Q2).call(this),c(this,Ct).removeEventListener("click",c(this,Yl)),c(this,Ct).removeEventListener("keydown",c(this,Xl)))},Xg=function(){c(this,ps)||this.render(),this.isVisible?c(this,Gi)&&c(this,Ct).classList.add("focused"):(k(this,$e,yk).call(this),c(this,Ct).hidden=!1,c(this,Ct).style.zIndex=parseInt(c(this,Ct).style.zIndex)+1e3)},Q2=function(){c(this,Ct).classList.remove("focused"),!(c(this,Gi)||!this.isVisible)&&(c(this,Ct).hidden=!0,c(this,Ct).style.zIndex=parseInt(c(this,Ct).style.zIndex)-1e3)};class vk extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Me.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var bp;class VD extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,bp,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),l=x(this,bp,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,bp)}addHighlightArea(){this.container.classList.add("highlightArea")}}bp=new WeakMap;var Ap;class XD extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,Ap,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),l=e.borderStyle.width,u=x(this,Ap,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",i-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ap)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ap=new WeakMap;var _p;class YD extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,_p,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),l=e.borderStyle.width,u=x(this,_p,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",n/2),u.setAttribute("cy",i/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",i/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,_p)}addHighlightArea(){this.container.classList.add("highlightArea")}}_p=new WeakMap;var Ep;class wk extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,Ep,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:i,popupRef:r},width:l,height:u}=this;if(!n)return this.container;const d=this.svgFactory.create(l,u,!0);let f=[];for(let g=0,y=n.length;g<y;g+=2){const w=n[g]-e[0],b=e[3]-n[g+1];f.push(`${w},${b}`)}f=f.join(" ");const p=x(this,Ep,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",f),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),d.append(p),this.container.append(d),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ep)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ep=new WeakMap;class qD extends wk{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class KD extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Cp,Kl,kp,J2;class oS extends Mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});_(this,kp);_(this,Cp,null);_(this,Kl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Me.HIGHLIGHT:Me.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:i,borderStyle:r,popupRef:l}}=this,{transform:u,width:d,height:f}=k(this,kp,J2).call(this,n,e),p=this.svgFactory.create(d,f,!0),g=x(this,Cp,this.svgFactory.createElement("svg:g"));p.append(g),g.setAttribute("stroke-width",r.width||1),g.setAttribute("stroke-linecap","round"),g.setAttribute("stroke-linejoin","round"),g.setAttribute("stroke-miterlimit",10),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),g.setAttribute("transform",u);for(let y=0,w=i.length;y<w;y++){const b=this.svgFactory.createElement(this.svgElementName);c(this,Kl).push(b),b.setAttribute("points",i[y].join(",")),g.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:i,rect:r}=e,l=c(this,Cp);if(n>=0&&l.setAttribute("stroke-width",n||1),i)for(let u=0,d=c(this,Kl).length;u<d;u++)c(this,Kl)[u].setAttribute("points",i[u].join(","));if(r){const{transform:u,width:d,height:f}=k(this,kp,J2).call(this,this.data.rotation,r);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${f}`),l.setAttribute("transform",u)}}getElementsToTriggerPopup(){return c(this,Kl)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:e,rect:n}=this.data;if((e==null?void 0:e.length)>=1){let i=-1/0,r=-1/0;for(const l of e)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>r?(r=l[u+1],i=l[u]):l[u+1]===r&&(i=Math.max(i,l[u]));if(i!==1/0)return[i,r]}return n?[n[2],n[3]]:null}}Cp=new WeakMap,Kl=new WeakMap,kp=new WeakSet,J2=function(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class Sk extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Me.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class QD extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class JD extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class ZD extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class xk extends Mt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Me.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Tp,Pp,Z2;class e4 extends Mt{constructor(e){var i;super(e,{isRenderable:!0});_(this,Pp);_(this,Tp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,Pp,Z2).bind(this)),x(this,Tp,i);const{isMac:r}=vn.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(r?l.metaKey:l.ctrlKey)&&k(this,Pp,Z2).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return c(this,Tp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Tp=new WeakMap,Pp=new WeakSet,Z2=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Rp,Ql,wa,Mp,Wa,tw,nw;const mS=class mS{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:l,structTreeLayer:u}){_(this,Wa);_(this,Rp,null);_(this,Ql,null);_(this,wa,new Map);_(this,Mp,null);this.div=t,x(this,Rp,e),x(this,Ql,n),x(this,Mp,u||null),this.page=r,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return c(this,wa).size>0}async render(t){var l;const{annotations:e}=t,n=this.div;kc(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new k0,annotationStorage:t.annotationStorage||new nS,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const d=u.annotationType===It.POPUP;if(d){const g=i.get(u.id);if(!g)continue;r.elements=g}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const f=I_.create(r);if(!f.isRenderable)continue;if(!d&&u.popupRef){const g=i.get(u.popupRef);g?g.push(f):i.set(u.popupRef,[f])}const p=f.render();u.hidden&&(p.style.visibility="hidden"),await k(this,Wa,tw).call(this,p,u.id,r.elements),f._isEditable&&(c(this,wa).set(f.data.id,f),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(f))}k(this,Wa,nw).call(this)}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new k0,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=mS._defaultBorderStyle),n.data=i;const r=I_.create(n);if(!r.isRenderable)continue;const l=r.render();await k(this,Wa,tw).call(this,l,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,kc(e,{rotation:t.rotation}),k(this,Wa,nw).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(c(this,wa).values())}getEditableAnnotation(t){return c(this,wa).get(t)}static get _defaultBorderStyle(){return je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:au.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Rp=new WeakMap,Ql=new WeakMap,wa=new WeakMap,Mp=new WeakMap,Wa=new WeakSet,tw=async function(t,e,n){var u,d;const i=t.firstChild||t,r=i.id=`${Zw}${e}`,l=await((u=c(this,Mp))==null?void 0:u.getAriaAttributes(r));if(l)for(const[f,p]of l)i.setAttribute(f,p);n?n.at(-1).container.after(t):(this.div.append(t),(d=c(this,Rp))==null||d.moveElementInDOM(this.div,t,i,!1))},nw=function(){var e;if(!c(this,Ql))return;const t=this.div;for(const[n,i]of c(this,Ql)){const r=t.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(i):l.classList.contains("annotationContent")?l.after(i):l.before(i):r.append(i);const u=c(this,wa).get(n);u&&(u._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(n,r.id,i),u._hasNoCanvas=!1):u.canvas=i)}c(this,Ql).clear()};let ew=mS;const Eg=/\r\n?|\n/g;var Ys,ms,Lp,Jl,gs,Ft,bk,Ak,_k,Yg,ho,qg,Kg,Ek,iw,Ck;const ct=class ct extends ot{constructor(e){super({...e,name:"freeTextEditor"});_(this,Ft);_(this,Ys);_(this,ms,"");_(this,Lp,`${this.id}-editor`);_(this,Jl,null);_(this,gs);ae(this,"_colorPicker",null);x(this,Ys,e.color||ct._defaultColor||ot._defaultLineColor),x(this,gs,e.fontSize||ct._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=ct.prototype,n=l=>l.isEmpty(),i=Tc.TRANSLATE_SMALL,r=Tc.TRANSLATE_BIG;return je(this,"_keyboardManager",new tm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){ot.initialize(e,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case He.FREETEXT_SIZE:ct._defaultFontSize=n;break;case He.FREETEXT_COLOR:ct._defaultColor=n;break}}updateParams(e,n){switch(e){case He.FREETEXT_SIZE:k(this,Ft,bk).call(this,n);break;case He.FREETEXT_COLOR:k(this,Ft,Ak).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.FREETEXT_SIZE,ct._defaultFontSize],[He.FREETEXT_COLOR,ct._defaultColor||ot._defaultLineColor]]}get propertiesToUpdate(){return[[He.FREETEXT_SIZE,c(this,gs)],[He.FREETEXT_COLOR,c(this,Ys)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new C0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return He.FREETEXT_COLOR}get colorValue(){return c(this,Ys)}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-ct._internalPadding*e,-(ct._internalPadding+c(this,gs))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,Jl,new AbortController);const e=this._uiManager.combinedSignal(c(this,Jl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Lp)),this._isDraggable=!0,(e=c(this,Jl))==null||e.abort(),x(this,Jl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var n;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=c(this,ms),n=x(this,ms,k(this,Ft,_k).call(this).trimEnd());if(e===n)return;const i=r=>{if(x(this,ms,r),!r){this.remove();return}k(this,Ft,Kg).call(this),this._uiManager.rebuild(this),k(this,Ft,Yg).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),k(this,Ft,Yg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ct._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Lp)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,gs)}px * var(--total-scale-factor))`,i.color=c(this,Ys),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[d,f]=this.getInitialTranslation();[d,f]=this.pageTranslationToScreen(d,f);const[p,g]=this.pageDimensions,[y,w]=this.pageTranslation;let b,A;switch(this.rotation){case 0:b=e+(u[0]-y)/p,A=n+this.height-(u[1]-w)/g;break;case 90:b=e+(u[0]-y)/p,A=n-(u[1]-w)/g,[d,f]=[f,-d];break;case 180:b=e-this.width+(u[0]-y)/p,A=n-(u[1]-w)/g,[d,f]=[-d,-f];break;case 270:b=e+(u[0]-y-this.height*g)/p,A=n+(u[1]-w-this.width*p)/g,[d,f]=[-f,d];break}this.setAt(b*r,A*l,d,f)}else this._moveAfterPaste(e,n);k(this,Ft,Kg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var b,A,E;const n=e.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=k(b=ct,ho,iw).call(b,n.getData("text")||"").replaceAll(Eg,`
`);if(!r)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!r.includes(`
`)){u.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:f}=u,p=[],g=[];if(d.nodeType===Node.TEXT_NODE){const T=d.parentElement;if(g.push(d.nodeValue.slice(f).replaceAll(Eg,"")),T!==this.editorDiv){let M=p;for(const R of this.editorDiv.childNodes){if(R===T){M=g;continue}M.push(k(A=ct,ho,qg).call(A,R))}}p.push(d.nodeValue.slice(0,f).replaceAll(Eg,""))}else if(d===this.editorDiv){let T=p,M=0;for(const R of this.editorDiv.childNodes)M++===f&&(T=g),T.push(k(E=ct,ho,qg).call(E,R))}x(this,ms,`${p.join(`
`)}${r}${g.join(`
`)}`),k(this,Ft,Kg).call(this);const y=new Range;let w=Math.sumPrecise(p.map(T=>T.length));for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const M=T.nodeValue.length;if(w<=M){y.setStart(T,w),y.setEnd(T,w);break}w-=M}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=ct._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,i){var u;let r=null;if(e instanceof vk){const{data:{defaultAppearanceData:{fontSize:d,fontColor:f},rect:p,rotation:g,id:y,popupRef:w,contentsObj:b},textContent:A,textPosition:E,parent:{page:{pageNumber:T}}}=e;if(!A||A.length===0)return null;r=e={annotationType:Me.FREETEXT,color:Array.from(f),fontSize:d,value:A.join(`
`),position:E,pageIndex:T-1,rect:p.slice(0),rotation:g,annotationElementId:y,id:y,deleted:!1,popupRef:w,comment:(b==null?void 0:b.str)||null}}const l=await super.deserialize(e,n,i);return x(l,gs,e.fontSize),x(l,Ys,Se.makeHexColor(...e.color)),x(l,ms,k(u=ct,ho,iw).call(u,e.value)),l._initialData=r,e.comment&&l.setCommentData(e.comment),l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=this.getPDFRect(),i=ot._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,Ys)),r={annotationType:Me.FREETEXT,color:i,fontSize:c(this,gs),value:k(this,Ft,Ek).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!k(this,Ft,Ck).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${c(this,gs)}px * var(--total-scale-factor))`,i.color=c(this,Ys),n.replaceChildren();for(const l of c(this,ms).split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const r={rect:this.getPDFRect()};return r.popup=this.hasEditedComment?this.comment:{text:c(this,ms)},e.updateEdited(r),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Ys=new WeakMap,ms=new WeakMap,Lp=new WeakMap,Jl=new WeakMap,gs=new WeakMap,Ft=new WeakSet,bk=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-c(this,gs))*this.parentScale),x(this,gs,r),k(this,Ft,Yg).call(this)},i=c(this,gs);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ak=function(e){const n=r=>{var l;x(this,Ys,this.editorDiv.style.color=r),(l=this._colorPicker)==null||l.update(r)},i=c(this,Ys);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_k=function(){var i;const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(k(i=ct,ho,qg).call(i,r)),n=r);return e.join(`
`)},Yg=function(){const[e,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:l}=this,u=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",r.div.append(this.div),i=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/n):(this.width=i.height/e,this.height=i.width/n),this.fixAndSetPosition()},ho=new WeakSet,qg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Eg,"")},Kg=function(){if(this.editorDiv.replaceChildren(),!!c(this,ms))for(const e of c(this,ms).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},Ek=function(){return c(this,ms).replaceAll(" "," ")},iw=function(e){return e.replaceAll(" "," ")},Ck=function(e){const{value:n,fontSize:i,color:r,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==i||e.color.some((u,d)=>u!==r[d])||e.pageIndex!==l},_(ct,ho),ae(ct,"_freeTextDefaultContent",""),ae(ct,"_internalPadding",0),ae(ct,"_defaultColor",null),ae(ct,"_defaultFontSize",10),ae(ct,"_type","freetext"),ae(ct,"_editorType",Me.FREETEXT);let sw=ct;class ge{toSVGPath(){st("Abstract method `toSVGPath` must be implemented.")}get box(){st("Abstract getter `box` must be implemented.")}serialize(t,e){st("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,r,l){l||(l=new Float32Array(t.length));for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*i,l[u+1]=n+t[u+1]*r;return l}static _rescaleAndSwap(t,e,n,i,r,l){l||(l=new Float32Array(t.length));for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*i,l[u+1]=n+t[u]*r;return l}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let r=0,l=t.length;r<l;r+=2)i[r]=e+t[r],i[r+1]=n+t[r+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,i,r){switch(r){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,r,l){return[(t+5*n)/6,(e+5*i)/6,(5*n+r)/6,(5*i+l)/6,(n+r)/2,(i+l)/2]}}ae(ge,"PRECISION",1e-4);var ys,pi,Sh,xh,Wi,Fe,Zl,ec,Np,Ip,bh,Ah,Sa,Dp,X0,Y0,Xt,tf,kk,Tk,Pk,Rk,Mk,Lk;const Ar=class Ar{constructor({x:t,y:e},n,i,r,l,u=0){_(this,Xt);_(this,ys);_(this,pi,[]);_(this,Sh);_(this,xh);_(this,Wi,[]);_(this,Fe,new Float32Array(18));_(this,Zl);_(this,ec);_(this,Np);_(this,Ip);_(this,bh);_(this,Ah);_(this,Sa,[]);x(this,ys,n),x(this,Ah,r*i),x(this,xh,l),c(this,Fe).set([NaN,NaN,NaN,NaN,t,e],6),x(this,Sh,u),x(this,Ip,c(Ar,Dp)*i),x(this,Np,c(Ar,Y0)*i),x(this,bh,i),c(this,Sa).push(t,e)}isEmpty(){return isNaN(c(this,Fe)[8])}add({x:t,y:e}){var ee;x(this,Zl,t),x(this,ec,e);const[n,i,r,l]=c(this,ys);let[u,d,f,p]=c(this,Fe).subarray(8,12);const g=t-f,y=e-p,w=Math.hypot(g,y);if(w<c(this,Np))return!1;const b=w-c(this,Ip),A=b/w,E=A*g,T=A*y;let M=u,R=d;u=f,d=p,f+=E,p+=T,(ee=c(this,Sa))==null||ee.push(t,e);const L=-T/b,N=E/b,D=L*c(this,Ah),B=N*c(this,Ah);return c(this,Fe).set(c(this,Fe).subarray(2,8),0),c(this,Fe).set([f+D,p+B],4),c(this,Fe).set(c(this,Fe).subarray(14,18),12),c(this,Fe).set([f-D,p-B],16),isNaN(c(this,Fe)[6])?(c(this,Wi).length===0&&(c(this,Fe).set([u+D,d+B],2),c(this,Wi).push(NaN,NaN,NaN,NaN,(u+D-n)/r,(d+B-i)/l),c(this,Fe).set([u-D,d-B],14),c(this,pi).push(NaN,NaN,NaN,NaN,(u-D-n)/r,(d-B-i)/l)),c(this,Fe).set([M,R,u,d,f,p],6),!this.isEmpty()):(c(this,Fe).set([M,R,u,d,f,p],6),Math.abs(Math.atan2(R-d,M-u)-Math.atan2(T,E))<Math.PI/2?([u,d,f,p]=c(this,Fe).subarray(2,6),c(this,Wi).push(NaN,NaN,NaN,NaN,((u+f)/2-n)/r,((d+p)/2-i)/l),[u,d,M,R]=c(this,Fe).subarray(14,18),c(this,pi).push(NaN,NaN,NaN,NaN,((M+u)/2-n)/r,((R+d)/2-i)/l),!0):([M,R,u,d,f,p]=c(this,Fe).subarray(0,6),c(this,Wi).push(((M+5*u)/6-n)/r,((R+5*d)/6-i)/l,((5*u+f)/6-n)/r,((5*d+p)/6-i)/l,((u+f)/2-n)/r,((d+p)/2-i)/l),[f,p,u,d,M,R]=c(this,Fe).subarray(12,18),c(this,pi).push(((M+5*u)/6-n)/r,((R+5*d)/6-i)/l,((5*u+f)/6-n)/r,((5*d+p)/6-i)/l,((u+f)/2-n)/r,((d+p)/2-i)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=c(this,Wi),e=c(this,pi);if(isNaN(c(this,Fe)[6])&&!this.isEmpty())return k(this,Xt,kk).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);k(this,Xt,Pk).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return k(this,Xt,Tk).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,r,l){return new Nk(t,e,n,i,r,l)}getOutlines(){var g;const t=c(this,Wi),e=c(this,pi),n=c(this,Fe),[i,r,l,u]=c(this,ys),d=new Float32Array((((g=c(this,Sa))==null?void 0:g.length)??0)+2);for(let y=0,w=d.length-2;y<w;y+=2)d[y]=(c(this,Sa)[y]-i)/l,d[y+1]=(c(this,Sa)[y+1]-r)/u;if(d[d.length-2]=(c(this,Zl)-i)/l,d[d.length-1]=(c(this,ec)-r)/u,isNaN(n[6])&&!this.isEmpty())return k(this,Xt,Rk).call(this,d);const f=new Float32Array(c(this,Wi).length+24+c(this,pi).length);let p=t.length;for(let y=0;y<p;y+=2){if(isNaN(t[y])){f[y]=f[y+1]=NaN;continue}f[y]=t[y],f[y+1]=t[y+1]}p=k(this,Xt,Lk).call(this,f,p);for(let y=e.length-6;y>=6;y-=6)for(let w=0;w<6;w+=2){if(isNaN(e[y+w])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[y+w],f[p+1]=e[y+w+1],p+=2}return k(this,Xt,Mk).call(this,f,p),this.newFreeDrawOutline(f,d,c(this,ys),c(this,bh),c(this,Sh),c(this,xh))}};ys=new WeakMap,pi=new WeakMap,Sh=new WeakMap,xh=new WeakMap,Wi=new WeakMap,Fe=new WeakMap,Zl=new WeakMap,ec=new WeakMap,Np=new WeakMap,Ip=new WeakMap,bh=new WeakMap,Ah=new WeakMap,Sa=new WeakMap,Dp=new WeakMap,X0=new WeakMap,Y0=new WeakMap,Xt=new WeakSet,tf=function(){const t=c(this,Fe).subarray(4,6),e=c(this,Fe).subarray(16,18),[n,i,r,l]=c(this,ys);return[(c(this,Zl)+(t[0]-e[0])/2-n)/r,(c(this,ec)+(t[1]-e[1])/2-i)/l,(c(this,Zl)+(e[0]-t[0])/2-n)/r,(c(this,ec)+(e[1]-t[1])/2-i)/l]},kk=function(){const[t,e,n,i]=c(this,ys),[r,l,u,d]=k(this,Xt,tf).call(this);return`M${(c(this,Fe)[2]-t)/n} ${(c(this,Fe)[3]-e)/i} L${(c(this,Fe)[4]-t)/n} ${(c(this,Fe)[5]-e)/i} L${r} ${l} L${u} ${d} L${(c(this,Fe)[16]-t)/n} ${(c(this,Fe)[17]-e)/i} L${(c(this,Fe)[14]-t)/n} ${(c(this,Fe)[15]-e)/i} Z`},Tk=function(t){const e=c(this,pi);t.push(`L${e[4]} ${e[5]} Z`)},Pk=function(t){const[e,n,i,r]=c(this,ys),l=c(this,Fe).subarray(4,6),u=c(this,Fe).subarray(16,18),[d,f,p,g]=k(this,Xt,tf).call(this);t.push(`L${(l[0]-e)/i} ${(l[1]-n)/r} L${d} ${f} L${p} ${g} L${(u[0]-e)/i} ${(u[1]-n)/r}`)},Rk=function(t){const e=c(this,Fe),[n,i,r,l]=c(this,ys),[u,d,f,p]=k(this,Xt,tf).call(this),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-i)/l,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-i)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-i)/l,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-i)/l],0),this.newFreeDrawOutline(g,t,c(this,ys),c(this,bh),c(this,Sh),c(this,xh))},Mk=function(t,e){const n=c(this,pi);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},Lk=function(t,e){const n=c(this,Fe).subarray(4,6),i=c(this,Fe).subarray(16,18),[r,l,u,d]=c(this,ys),[f,p,g,y]=k(this,Xt,tf).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,y,NaN,NaN,NaN,NaN,(i[0]-r)/u,(i[1]-l)/d],e),e+=24},_(Ar,Dp,8),_(Ar,X0,2),_(Ar,Y0,c(Ar,Dp)+c(Ar,X0));let T0=Ar;var _h,tc,eo,Op,vs,Fp,Rt,q0,Ik;class Nk extends ge{constructor(e,n,i,r,l,u){super();_(this,q0);_(this,_h);_(this,tc,new Float32Array(4));_(this,eo);_(this,Op);_(this,vs);_(this,Fp);_(this,Rt);x(this,Rt,e),x(this,vs,n),x(this,_h,i),x(this,Fp,r),x(this,eo,l),x(this,Op,u),this.lastPoint=[NaN,NaN],k(this,q0,Ik).call(this,u);const[d,f,p,g]=c(this,tc);for(let y=0,w=e.length;y<w;y+=2)e[y]=(e[y]-d)/p,e[y+1]=(e[y+1]-f)/g;for(let y=0,w=n.length;y<w;y+=2)n[y]=(n[y]-d)/p,n[y+1]=(n[y+1]-f)/g}toSVGPath(){const e=[`M${c(this,Rt)[4]} ${c(this,Rt)[5]}`];for(let n=6,i=c(this,Rt).length;n<i;n+=6){if(isNaN(c(this,Rt)[n])){e.push(`L${c(this,Rt)[n+4]} ${c(this,Rt)[n+5]}`);continue}e.push(`C${c(this,Rt)[n]} ${c(this,Rt)[n+1]} ${c(this,Rt)[n+2]} ${c(this,Rt)[n+3]} ${c(this,Rt)[n+4]} ${c(this,Rt)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,r],l){const u=i-e,d=r-n;let f,p;switch(l){case 0:f=ge._rescale(c(this,Rt),e,r,u,-d),p=ge._rescale(c(this,vs),e,r,u,-d);break;case 90:f=ge._rescaleAndSwap(c(this,Rt),e,n,u,d),p=ge._rescaleAndSwap(c(this,vs),e,n,u,d);break;case 180:f=ge._rescale(c(this,Rt),i,n,-u,d),p=ge._rescale(c(this,vs),i,n,-u,d);break;case 270:f=ge._rescaleAndSwap(c(this,Rt),i,r,-u,-d),p=ge._rescaleAndSwap(c(this,vs),i,r,-u,-d);break}return{outline:Array.from(f),points:[Array.from(p)]}}get box(){return c(this,tc)}newOutliner(e,n,i,r,l,u=0){return new T0(e,n,i,r,l,u)}getNewOutline(e,n){const[i,r,l,u]=c(this,tc),[d,f,p,g]=c(this,_h),y=l*p,w=u*g,b=i*p+d,A=r*g+f,E=this.newOutliner({x:c(this,vs)[0]*y+b,y:c(this,vs)[1]*w+A},c(this,_h),c(this,Fp),e,c(this,Op),n??c(this,eo));for(let T=2;T<c(this,vs).length;T+=2)E.add({x:c(this,vs)[T]*y+b,y:c(this,vs)[T+1]*w+A});return E.getOutlines()}}_h=new WeakMap,tc=new WeakMap,eo=new WeakMap,Op=new WeakMap,vs=new WeakMap,Fp=new WeakMap,Rt=new WeakMap,q0=new WeakSet,Ik=function(e){const n=c(this,Rt);let i=n[4],r=n[5];const l=[i,r,i,r];let u=i,d=r;const f=e?Math.max:Math.min;for(let g=6,y=n.length;g<y;g+=6){const w=n[g+4],b=n[g+5];if(isNaN(n[g]))Se.pointBoundingBox(w,b,l),d<b?(u=w,d=b):d===b&&(u=f(u,w));else{const A=[1/0,1/0,-1/0,-1/0];Se.bezierBoundingBox(i,r,...n.slice(g,g+6),A),Se.rectBoundingBox(...A,l),d<A[3]?(u=A[2],d=A[3]):d===A[3]&&(u=f(u,A[2]))}i=w,r=b}const p=c(this,tc);p[0]=l[0]-c(this,eo),p[1]=l[1]-c(this,eo),p[2]=l[2]-l[0]+2*c(this,eo),p[3]=l[3]-l[1]+2*c(this,eo),this.lastPoint=[u,d]};var jp,Bp,xa,mi,zn,Dk,Qg,Ok,Fk,ow;class rw{constructor(t,e=0,n=0,i=!0){_(this,zn);_(this,jp);_(this,Bp);_(this,xa,[]);_(this,mi,[]);const r=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:b,width:A,height:E}of t){const T=Math.floor((w-e)/l)*l,M=Math.ceil((w+A+e)/l)*l,R=Math.floor((b-e)/l)*l,L=Math.ceil((b+E+e)/l)*l,N=[T,R,L,!0],D=[M,R,L,!1];c(this,xa).push(N,D),Se.rectBoundingBox(T,R,M,L,r)}const u=r[2]-r[0]+2*n,d=r[3]-r[1]+2*n,f=r[0]-n,p=r[1]-n,g=c(this,xa).at(i?-1:-2),y=[g[0],g[2]];for(const w of c(this,xa)){const[b,A,E]=w;w[0]=(b-f)/u,w[1]=(A-p)/d,w[2]=(E-p)/d}x(this,jp,new Float32Array([f,p,u,d])),x(this,Bp,y)}getOutlines(){c(this,xa).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of c(this,xa))e[3]?(t.push(...k(this,zn,ow).call(this,e)),k(this,zn,Ok).call(this,e)):(k(this,zn,Fk).call(this,e),t.push(...k(this,zn,ow).call(this,e)));return k(this,zn,Dk).call(this,t)}}jp=new WeakMap,Bp=new WeakMap,xa=new WeakMap,mi=new WeakMap,zn=new WeakSet,Dk=function(t){const e=[],n=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const i=[];let r;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,g]=l;n.delete(l);let y=u,w=d;for(r=[u,f],i.push(r);;){let b;if(n.has(p))b=p;else if(n.has(g))b=g;else break;n.delete(b),[u,d,f,p,g]=b,y!==u&&(r.push(y,w,u,w===d?d:f),y=u),w=w===d?f:d}r.push(y,w)}return new t4(i,c(this,jp),c(this,Bp))},Qg=function(t){const e=c(this,mi);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,l=e[r][0];if(l===t)return r;l<t?n=r+1:i=r-1}return i+1},Ok=function([,t,e]){const n=k(this,zn,Qg).call(this,t);c(this,mi).splice(n,0,[t,e])},Fk=function([,t,e]){const n=k(this,zn,Qg).call(this,t);for(let i=n;i<c(this,mi).length;i++){const[r,l]=c(this,mi)[i];if(r!==t)break;if(r===t&&l===e){c(this,mi).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,l]=c(this,mi)[i];if(r!==t)break;if(r===t&&l===e){c(this,mi).splice(i,1);return}}},ow=function(t){const[e,n,i]=t,r=[[e,n,i]],l=k(this,zn,Qg).call(this,i);for(let u=0;u<l;u++){const[d,f]=c(this,mi)[u];for(let p=0,g=r.length;p<g;p++){const[,y,w]=r[p];if(!(f<=y||w<=d)){if(y>=d){if(w>f)r[p][1]=f;else{if(g===1)return[];r.splice(p,1),p--,g--}continue}r[p][2]=d,w>f&&r.push([e,f,w])}}}return r};var zp,Eh;class t4 extends ge{constructor(e,n,i){super();_(this,zp);_(this,Eh);x(this,Eh,e),x(this,zp,n),this.lastPoint=i}toSVGPath(){const e=[];for(const n of c(this,Eh)){let[i,r]=n;e.push(`M${i} ${r}`);for(let l=2;l<n.length;l+=2){const u=n[l],d=n[l+1];u===i?(e.push(`V${d}`),r=d):d===r&&(e.push(`H${u}`),i=u)}e.push("Z")}return e.join(" ")}serialize([e,n,i,r],l){const u=[],d=i-e,f=r-n;for(const p of c(this,Eh)){const g=new Array(p.length);for(let y=0;y<p.length;y+=2)g[y]=e+p[y]*d,g[y+1]=r-p[y+1]*f;u.push(g)}return u}get box(){return c(this,zp)}get classNamesForOutlining(){return["highlightOutline"]}}zp=new WeakMap,Eh=new WeakMap;class aw extends T0{newFreeDrawOutline(t,e,n,i,r,l){return new n4(t,e,n,i,r,l)}}class n4 extends Nk{newOutliner(t,e,n,i,r,l=0){return new aw(t,e,n,i,r,l)}}var Ch,$p,to,nc,Up,Jn,Hp,Gp,sc,qs,ws,fn,kh,no,kn,Th,Ks,Wp,Ie,lw,Jg,jk,Bk,zk,cw,ll,Js,fu,$k,Zg,nf,Uk,Hk,Gk,Wk,Vk;const Ye=class Ye extends ot{constructor(e){super({...e,name:"highlightEditor"});_(this,Ie);_(this,Ch,null);_(this,$p,0);_(this,to);_(this,nc,null);_(this,Up,null);_(this,Jn,null);_(this,Hp,null);_(this,Gp,0);_(this,sc,null);_(this,qs,null);_(this,ws,null);_(this,fn,!1);_(this,kh,null);_(this,no);_(this,kn,null);_(this,Th,"");_(this,Ks);_(this,Wp,"");this.color=e.color||Ye._defaultColor,x(this,Ks,e.thickness||Ye._defaultThickness),x(this,no,e.opacity||Ye._defaultOpacity),x(this,to,e.boxes||null),x(this,Wp,e.methodOfCreation||""),x(this,Th,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(x(this,fn,!0),k(this,Ie,Jg).call(this,e),k(this,Ie,ll).call(this)):c(this,to)&&(x(this,Ch,e.anchorNode),x(this,$p,e.anchorOffset),x(this,Hp,e.focusNode),x(this,Gp,e.focusOffset),k(this,Ie,lw).call(this),k(this,Ie,ll).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=Ye.prototype;return je(this,"_keyboardManager",new tm([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,fn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:c(this,Ks),methodOfCreation:c(this,Wp)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var i;ot.initialize(e,n),Ye._defaultColor||(Ye._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case He.HIGHLIGHT_COLOR:Ye._defaultColor=n;break;case He.HIGHLIGHT_THICKNESS:Ye._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return c(this,kh)}updateParams(e,n){switch(e){case He.HIGHLIGHT_COLOR:k(this,Ie,jk).call(this,n);break;case He.HIGHLIGHT_THICKNESS:k(this,Ie,Bk).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,Ye._defaultColor],[He.HIGHLIGHT_THICKNESS,Ye._defaultThickness]]}get propertiesToUpdate(){return[[He.HIGHLIGHT_COLOR,this.color||Ye._defaultColor],[He.HIGHLIGHT_THICKNESS,c(this,Ks)||Ye._defaultThickness],[He.HIGHLIGHT_FREE,c(this,fn)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",x(this,Up,new E0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,Ie,nf).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,k(this,Ie,nf).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){k(this,Ie,cw).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,Ie,ll).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?k(this,Ie,cw).call(this):e&&(k(this,Ie,ll).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,l,u;const{drawLayer:n}=this.parent;let i;c(this,fn)?(e=(e-this.rotation+360)%360,i=k(r=Ye,Js,fu).call(r,c(this,qs).box,e)):i=k(l=Ye,Js,fu).call(l,[this.x,this.y,this.width,this.height],e),n.updateProperties(c(this,ws),{bbox:i,root:{"data-main-rotation":e}}),n.updateProperties(c(this,kn),{bbox:k(u=Ye,Js,fu).call(u,c(this,Jn).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();c(this,Th)&&(e.setAttribute("aria-label",c(this,Th)),e.setAttribute("role","mark")),c(this,fn)?e.classList.add("free"):this.div.addEventListener("keydown",k(this,Ie,$k).bind(this),{signal:this._uiManager._signal});const n=x(this,sc,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,nc);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),cC(this,c(this,sc),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(c(this,kn),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(c(this,kn),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:k(this,Ie,Zg).call(this,!0);break;case 1:case 3:k(this,Ie,Zg).call(this,!1);break}}select(){var e;super.select(),c(this,kn)&&((e=this.parent)==null||e.drawLayer.updateProperties(c(this,kn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),c(this,kn)&&((e=this.parent)==null||e.drawLayer.updateProperties(c(this,kn),{rootClass:{selected:!1}}),c(this,fn)||k(this,Ie,Zg).call(this,!1))}get _mustFixPosition(){return!c(this,fn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(c(this,ws),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(c(this,kn),{rootClass:{hidden:!e}}))}static startHighlighting(e,n,{target:i,x:r,y:l}){const{x:u,y:d,width:f,height:p}=i.getBoundingClientRect(),g=new AbortController,y=e.combinedSignal(g),w=b=>{g.abort(),k(this,Js,Wk).call(this,e,b)};window.addEventListener("blur",w,{signal:y}),window.addEventListener("pointerup",w,{signal:y}),window.addEventListener("pointerdown",Dt,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",ei,{signal:y}),i.addEventListener("pointermove",k(this,Js,Gk).bind(this,e),{signal:y}),this._freeHighlight=new aw({x:r,y:l},[u,d,f,p],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,n,i){var A,E,T,M;let r=null;if(e instanceof Sk){const{data:{quadPoints:R,rect:L,rotation:N,id:D,color:B,opacity:X,popupRef:ee,contentsObj:$},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(B),opacity:X,quadPoints:R,boxes:null,pageIndex:F-1,rect:L.slice(0),rotation:N,annotationElementId:D,id:D,deleted:!1,popupRef:ee,comment:($==null?void 0:$.str)||null}}else if(e instanceof oS){const{data:{inkLists:R,rect:L,rotation:N,id:D,color:B,borderStyle:{rawWidth:X},popupRef:ee,contentsObj:$},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Me.HIGHLIGHT,color:Array.from(B),thickness:X,inkLists:R,boxes:null,pageIndex:F-1,rect:L.slice(0),rotation:N,annotationElementId:D,id:D,deleted:!1,popupRef:ee,comment:($==null?void 0:$.str)||null}}const{color:l,quadPoints:u,inkLists:d,opacity:f}=e,p=await super.deserialize(e,n,i);p.color=Se.makeHexColor(...l),x(p,no,f||1),d&&x(p,Ks,e.thickness),p._initialData=r,e.comment&&p.setCommentData(e.comment);const[g,y]=p.pageDimensions,[w,b]=p.pageTranslation;if(u){const R=x(p,to,[]);for(let L=0;L<u.length;L+=8)R.push({x:(u[L]-w)/g,y:1-(u[L+1]-b)/y,width:(u[L+2]-u[L])/g,height:(u[L+1]-u[L+5])/y});k(A=p,Ie,lw).call(A),k(E=p,Ie,ll).call(E),p.rotate(p.rotation)}else if(d){x(p,fn,!0);const R=d[0],L={x:R[0]-w,y:y-(R[1]-b)},N=new aw(L,[0,0,g,y],1,c(p,Ks)/2,!0,.001);for(let X=0,ee=R.length;X<ee;X+=2)L.x=R[X]-w,L.y=y-(R[X+1]-b),N.add(L);const{id:D,clipPathId:B}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);k(T=p,Ie,Jg).call(T,{highlightOutlines:N.getOutlines(),highlightId:D,clipPathId:B}),k(M=p,Ie,ll).call(M),p.rotate(p.parentRotation)}return p}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getPDFRect(),i=ot._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:Me.HIGHLIGHT,color:i,opacity:c(this,no),thickness:c(this,Ks),quadPoints:k(this,Ie,Uk).call(this),outlines:k(this,Ie,Hk).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:k(this,Ie,nf).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!k(this,Ie,Vk).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const n={rect:this.getPDFRect()};return this.hasEditedComment&&(n.popup=this.comment),e.updateEdited(n),null}static canCreateNewEmptyEditor(){return!1}};Ch=new WeakMap,$p=new WeakMap,to=new WeakMap,nc=new WeakMap,Up=new WeakMap,Jn=new WeakMap,Hp=new WeakMap,Gp=new WeakMap,sc=new WeakMap,qs=new WeakMap,ws=new WeakMap,fn=new WeakMap,kh=new WeakMap,no=new WeakMap,kn=new WeakMap,Th=new WeakMap,Ks=new WeakMap,Wp=new WeakMap,Ie=new WeakSet,lw=function(){const e=new rw(c(this,to),.001);x(this,qs,e.getOutlines()),[this.x,this.y,this.width,this.height]=c(this,qs).box;const n=new rw(c(this,to),.0025,.001,this._uiManager.direction==="ltr");x(this,Jn,n.getOutlines());const{lastPoint:i}=c(this,Jn);x(this,kh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Jg=function({highlightOutlines:e,highlightId:n,clipPathId:i}){var g,y;if(x(this,qs,e),x(this,Jn,e.getNewOutline(c(this,Ks)/2+1.5,.0025)),n>=0)x(this,ws,n),x(this,nc,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),x(this,kn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:c(this,Jn).box,path:{d:c(this,Jn).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(c(this,ws),{bbox:k(g=Ye,Js,fu).call(g,c(this,qs).box,(w-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(c(this,kn),{bbox:k(y=Ye,Js,fu).call(y,c(this,Jn).box,w),path:{d:c(this,Jn).toSVGPath()}})}const[l,u,d,f]=e.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=d,this.height=f;break;case 90:{const[w,b]=this.parentDimensions;this.x=u,this.y=1-l,this.width=d*b/w,this.height=f*w/b;break}case 180:this.x=1-l,this.y=1-u,this.width=d,this.height=f;break;case 270:{const[w,b]=this.parentDimensions;this.x=1-u,this.y=l,this.width=d*b/w,this.height=f*w/b;break}}const{lastPoint:p}=c(this,Jn);x(this,kh,[(p[0]-l)/d,(p[1]-u)/f])},jk=function(e){const n=(l,u)=>{var d,f;this.color=l,x(this,no,u),(d=this.parent)==null||d.drawLayer.updateProperties(c(this,ws),{root:{fill:l,"fill-opacity":u}}),(f=c(this,Up))==null||f.updateColor(l)},i=this.color,r=c(this,no);this.addCommands({cmd:n.bind(this,e,Ye._defaultOpacity),undo:n.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},Bk=function(e){const n=c(this,Ks),i=r=>{x(this,Ks,r),k(this,Ie,zk).call(this,r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:He.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},zk=function(e){if(!c(this,fn))return;k(this,Ie,Jg).call(this,{highlightOutlines:c(this,qs).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},cw=function(){c(this,ws)===null||!this.parent||(this.parent.drawLayer.remove(c(this,ws)),x(this,ws,null),this.parent.drawLayer.remove(c(this,kn)),x(this,kn,null))},ll=function(e=this.parent){c(this,ws)===null&&({id:zt(this,ws)._,clipPathId:zt(this,nc)._}=e.drawLayer.draw({bbox:c(this,qs).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":c(this,no)},rootClass:{highlight:!0,free:c(this,fn)},path:{d:c(this,qs).toSVGPath()}},!1,!0),x(this,kn,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:c(this,fn)},bbox:c(this,Jn).box,path:{d:c(this,Jn).toSVGPath()}},c(this,fn))),c(this,sc)&&(c(this,sc).style.clipPath=c(this,nc)))},Js=new WeakSet,fu=function([e,n,i,r],l){switch(l){case 90:return[1-n-r,e,r,i];case 180:return[1-e-i,1-n-r,i,r];case 270:return[n,1-e-i,r,i]}return[e,n,i,r]},$k=function(e){Ye._keyboardManager.exec(this,e)},Zg=function(e){if(!c(this,Ch))return;const n=window.getSelection();e?n.setPosition(c(this,Ch),c(this,$p)):n.setPosition(c(this,Hp),c(this,Gp))},nf=function(){return c(this,fn)?this.rotation:0},Uk=function(){if(c(this,fn))return null;const[e,n]=this.pageDimensions,[i,r]=this.pageTranslation,l=c(this,to),u=new Float32Array(l.length*8);let d=0;for(const{x:f,y:p,width:g,height:y}of l){const w=f*e+i,b=(1-p)*n+r;u[d]=u[d+4]=w,u[d+1]=u[d+3]=b,u[d+2]=u[d+6]=w+g*e,u[d+5]=u[d+7]=b-y*n,d+=8}return u},Hk=function(e){return c(this,qs).serialize(e,k(this,Ie,nf).call(this))},Gk=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Wk=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Vk=function(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((i,r)=>i!==n[r])},_(Ye,Js),ae(Ye,"_defaultColor",null),ae(Ye,"_defaultOpacity",1),ae(Ye,"_defaultThickness",12),ae(Ye,"_type","highlight"),ae(Ye,"_editorType",Me.HIGHLIGHT),ae(Ye,"_freeHighlightId",-1),ae(Ye,"_freeHighlight",null),ae(Ye,"_freeHighlightClipId","");let P0=Ye;var ic;class Xk{constructor(){_(this,ic,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){c(this,ic)[t]=e}toSVGProperties(){const t=c(this,ic);return x(this,ic,Object.create(null)),{root:t}}reset(){x(this,ic,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){st("Not implemented")}}ic=new WeakMap;var Ss,Ph,en,rc,oc,ba,Aa,_a,ac,We,uw,hw,dw,sf,Yk,e0,rf,pu;const we=class we extends ot{constructor(e){super(e);_(this,We);_(this,Ss,null);_(this,Ph);ae(this,"_colorPicker",null);ae(this,"_drawId",null);x(this,Ph,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(k(this,We,uw).call(this,e),k(this,We,sf).call(this))}static _mergeSVGProperties(e,n){const i=new Set(Object.keys(e));for(const[r,l]of Object.entries(n))i.has(r)?Object.assign(e[r],l):e[r]=l;return e}static getDefaultDrawingOptions(e){st("Not implemented")}static get typesMap(){st("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(c(we,en).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,n[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,n[r]]);return e}_updateProperty(e,n,i){const r=this._drawingOptions,l=r[n],u=d=>{var p,g;r.updateProperty(n,d);const f=c(this,Ss).updateProperty(n,d);f&&k(this,We,rf).call(this,f),(p=this.parent)==null||p.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&((g=this._colorPicker)==null||g.update(d))};this.addCommands({cmd:u.bind(this,i),undo:u.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ss).getPathResizingSVGProperties(k(this,We,e0).call(this)),{bbox:k(this,We,pu).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ss).getPathResizedSVGProperties(k(this,We,e0).call(this)),{bbox:k(this,We,pu).call(this)}))}_onTranslating(e,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:k(this,We,pu).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties(c(this,Ss).getPathTranslatedSVGProperties(k(this,We,e0).call(this),this.parentDimensions),{bbox:k(this,We,pu).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,c(this,Ph)&&(x(this,Ph,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){k(this,We,dw).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,We,sf).call(this),k(this,We,rf).call(this,c(this,Ss).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),k(this,We,dw).call(this)):e&&(this._uiManager.addShouldRescale(this),k(this,We,sf).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,we._mergeSVGProperties({bbox:k(this,We,pu).call(this)},c(this,Ss).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,We,rf).call(this,c(this,Ss).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[l,u]=this.parentDimensions;return this.setDims(this.width*l,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),i}static createDrawerInstance(e,n,i,r,l){st("Not implemented")}static startDrawing(e,n,i,r){var E;const{target:l,offsetX:u,offsetY:d,pointerId:f,pointerType:p}=r;if(c(we,Aa)&&c(we,Aa)!==p)return;const{viewport:{rotation:g}}=e,{width:y,height:w}=l.getBoundingClientRect(),b=x(we,rc,new AbortController),A=e.combinedSignal(b);if(c(we,ba)||x(we,ba,f),c(we,Aa)??x(we,Aa,p),window.addEventListener("pointerup",T=>{var M;c(we,ba)===T.pointerId?this._endDraw(T):(M=c(we,_a))==null||M.delete(T.pointerId)},{signal:A}),window.addEventListener("pointercancel",T=>{var M;c(we,ba)===T.pointerId?this._currentParent.endDrawingSession():(M=c(we,_a))==null||M.delete(T.pointerId)},{signal:A}),window.addEventListener("pointerdown",T=>{c(we,Aa)===T.pointerType&&((c(we,_a)||x(we,_a,new Set)).add(T.pointerId),c(we,en).isCancellable()&&(c(we,en).removeLastElement(),c(we,en).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",ei,{signal:A}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),l.addEventListener("touchmove",T=>{T.timeStamp===c(we,ac)&&Dt(T)},{signal:A}),e.toggleDrawing(),(E=n._editorUndoBar)==null||E.hide(),c(we,en)){e.drawLayer.updateProperties(this._currentDrawId,c(we,en).startNew(u,d,y,w,g));return}n.updateUIForDefaultProperties(this),x(we,en,this.createDrawerInstance(u,d,y,w,g)),x(we,oc,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(c(we,oc).toSVGProperties(),c(we,en).defaultSVGProperties),!0,!1)}static _drawMove(e){var l;if(x(we,ac,-1),!c(we,en))return;const{offsetX:n,offsetY:i,pointerId:r}=e;if(c(we,ba)===r){if(((l=c(we,_a))==null?void 0:l.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,c(we,en).add(n,i)),x(we,ac,e.timeStamp),Dt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,x(we,en,null),x(we,oc,null),x(we,Aa,null),x(we,ac,NaN)),c(we,rc)&&(c(we,rc).abort(),x(we,rc,null),x(we,ba,NaN),x(we,_a,null))}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,c(we,en).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=c(we,en),r=this._currentDrawId,l=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(r,i.setLastElement(l))},undo:()=>{n.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:He.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(He.DRAW_STEP),!c(we,en).isEmpty()){const{pageDimensions:[i,r],scale:l}=n,u=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:c(we,en).getOutlines(i*l,r*l,l,this._INNER_MARGIN),drawingOptions:c(we,oc),mustBeCommitted:!e});return this._cleanup(!0),u}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,i,r,l,u){st("Not implemented")}static async deserialize(e,n,i){var g,y;const{rawDims:{pageWidth:r,pageHeight:l,pageX:u,pageY:d}}=n.viewport,f=this.deserializeDraw(u,d,r,l,this._INNER_MARGIN,e),p=await super.deserialize(e,n,i);return p.createDrawingOptions(e),k(g=p,We,uw).call(g,{drawOutlines:f}),k(y=p,We,sf).call(y),p.onScaleChanging(),p.rotate(),p}serializeDraw(e){const[n,i]=this.pageTranslation,[r,l]=this.pageDimensions;return c(this,Ss).serialize([n,i,r,l],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ss=new WeakMap,Ph=new WeakMap,en=new WeakMap,rc=new WeakMap,oc=new WeakMap,ba=new WeakMap,Aa=new WeakMap,_a=new WeakMap,ac=new WeakMap,We=new WeakSet,uw=function({drawOutlines:e,drawId:n,drawingOptions:i}){x(this,Ss,e),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=k(this,We,hw).call(this,e,this.parent),k(this,We,rf).call(this,e.box)},hw=function(e,n){const{id:i}=n.drawLayer.draw(we._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i},dw=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},sf=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,We,hw).call(this,c(this,Ss),e)}},Yk=function([e,n,i,r]){const{parentDimensions:[l,u],rotation:d}=this;switch(d){case 90:return[n,1-e,i*(u/l),r*(l/u)];case 180:return[1-e,1-n,i,r];case 270:return[1-n,e,i*(u/l),r*(l/u)];default:return[e,n,i,r]}},e0=function(){const{x:e,y:n,width:i,height:r,parentDimensions:[l,u],rotation:d}=this;switch(d){case 90:return[1-n,e,i*(l/u),r*(u/l)];case 180:return[1-e,1-n,i,r];case 270:return[n,1-e,i*(l/u),r*(u/l)];default:return[e,n,i,r]}},rf=function(e){if([this.x,this.y,this.width,this.height]=k(this,We,Yk).call(this,e),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},pu=function(){const{x:e,y:n,width:i,height:r,rotation:l,parentRotation:u,parentDimensions:[d,f]}=this;switch((l*4+u)/90){case 1:return[1-n-r,e,r,i];case 2:return[1-e-i,1-n-r,i,r];case 3:return[n,1-e-i,r,i];case 4:return[e,n-i*(d/f),r*(f/d),i*(d/f)];case 5:return[1-n,e,i*(d/f),r*(f/d)];case 6:return[1-e-r*(f/d),1-n,r*(f/d),i*(d/f)];case 7:return[n-i*(d/f),1-e-r*(f/d),i*(d/f),r*(f/d)];case 8:return[e-i,n-r,i,r];case 9:return[1-n,e-i,r,i];case 10:return[1-e,1-n,i,r];case 11:return[n-r,1-e,r,i];case 12:return[e-r*(f/d),n,r*(f/d),i*(d/f)];case 13:return[1-n-i*(d/f),e-r*(f/d),i*(d/f),r*(f/d)];case 14:return[1-e,1-n-i*(d/f),r*(f/d),i*(d/f)];case 15:return[n,1-e,i*(d/f),r*(f/d)];default:return[e,n,i,r]}},ae(we,"_currentDrawId",-1),ae(we,"_currentParent",null),_(we,en,null),_(we,rc,null),_(we,oc,null),_(we,ba,NaN),_(we,Aa,null),_(we,_a,null),_(we,ac,NaN),ae(we,"_INNER_MARGIN",3);let R0=we;var Vi,tn,nn,lc,Rh,In,pn,Qs,cc,uc,hc,Mh,t0;class s4{constructor(t,e,n,i,r,l){_(this,Mh);_(this,Vi,new Float64Array(6));_(this,tn);_(this,nn);_(this,lc);_(this,Rh);_(this,In);_(this,pn,"");_(this,Qs,0);_(this,cc,new sm);_(this,uc);_(this,hc);x(this,uc,n),x(this,hc,i),x(this,lc,r),x(this,Rh,l),[t,e]=k(this,Mh,t0).call(this,t,e);const u=x(this,tn,[NaN,NaN,NaN,NaN,t,e]);x(this,In,[t,e]),x(this,nn,[{line:u,points:c(this,In)}]),c(this,Vi).set(u,0)}updateProperty(t,e){t==="stroke-width"&&x(this,Rh,e)}isEmpty(){return!c(this,nn)||c(this,nn).length===0}isCancellable(){return c(this,In).length<=10}add(t,e){[t,e]=k(this,Mh,t0).call(this,t,e);const[n,i,r,l]=c(this,Vi).subarray(2,6),u=t-r,d=e-l;return Math.hypot(c(this,uc)*u,c(this,hc)*d)<=2?null:(c(this,In).push(t,e),isNaN(n)?(c(this,Vi).set([r,l,t,e],2),c(this,tn).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(c(this,Vi)[0])&&c(this,tn).splice(6,6),c(this,Vi).set([n,i,r,l,t,e],0),c(this,tn).push(...ge.createBezierPoints(n,i,r,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(c(this,In).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,r){x(this,uc,n),x(this,hc,i),x(this,lc,r),[t,e]=k(this,Mh,t0).call(this,t,e);const l=x(this,tn,[NaN,NaN,NaN,NaN,t,e]);x(this,In,[t,e]);const u=c(this,nn).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),c(this,nn).push({line:l,points:c(this,In)}),c(this,Vi).set(l,0),x(this,Qs,0),this.toSVGPath(),null}getLastElement(){return c(this,nn).at(-1)}setLastElement(t){return c(this,nn)?(c(this,nn).push(t),x(this,tn,t.line),x(this,In,t.points),x(this,Qs,0),{path:{d:this.toSVGPath()}}):c(this,cc).setLastElement(t)}removeLastElement(){if(!c(this,nn))return c(this,cc).removeLastElement();c(this,nn).pop(),x(this,pn,"");for(let t=0,e=c(this,nn).length;t<e;t++){const{line:n,points:i}=c(this,nn)[t];x(this,tn,n),x(this,In,i),x(this,Qs,0),this.toSVGPath()}return{path:{d:c(this,pn)}}}toSVGPath(){const t=ge.svgRound(c(this,tn)[4]),e=ge.svgRound(c(this,tn)[5]);if(c(this,In).length===2)return x(this,pn,`${c(this,pn)} M ${t} ${e} Z`),c(this,pn);if(c(this,In).length<=6){const i=c(this,pn).lastIndexOf("M");x(this,pn,`${c(this,pn).slice(0,i)} M ${t} ${e}`),x(this,Qs,6)}if(c(this,In).length===4){const i=ge.svgRound(c(this,tn)[10]),r=ge.svgRound(c(this,tn)[11]);return x(this,pn,`${c(this,pn)} L ${i} ${r}`),x(this,Qs,12),c(this,pn)}const n=[];c(this,Qs)===0&&(n.push(`M ${t} ${e}`),x(this,Qs,6));for(let i=c(this,Qs),r=c(this,tn).length;i<r;i+=6){const[l,u,d,f,p,g]=c(this,tn).slice(i,i+6).map(ge.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}return x(this,pn,c(this,pn)+n.join(" ")),x(this,Qs,c(this,tn).length),c(this,pn)}getOutlines(t,e,n,i){const r=c(this,nn).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),c(this,cc).build(c(this,nn),t,e,n,c(this,lc),c(this,Rh),i),x(this,Vi,null),x(this,tn,null),x(this,nn,null),x(this,pn,null),c(this,cc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Vi=new WeakMap,tn=new WeakMap,nn=new WeakMap,lc=new WeakMap,Rh=new WeakMap,In=new WeakMap,pn=new WeakMap,Qs=new WeakMap,cc=new WeakMap,uc=new WeakMap,hc=new WeakMap,Mh=new WeakSet,t0=function(t,e){return ge._normalizePoint(t,e,c(this,uc),c(this,hc),c(this,lc))};var Dn,Vp,Xp,xs,Xi,Yi,Lh,Nh,dc,gn,xr,qk,Kk,Qk;class sm extends ge{constructor(){super(...arguments);_(this,gn);_(this,Dn);_(this,Vp,0);_(this,Xp);_(this,xs);_(this,Xi);_(this,Yi);_(this,Lh);_(this,Nh);_(this,dc)}build(e,n,i,r,l,u,d){x(this,Xi,n),x(this,Yi,i),x(this,Lh,r),x(this,Nh,l),x(this,dc,u),x(this,Xp,d??0),x(this,xs,e),k(this,gn,Kk).call(this)}get thickness(){return c(this,dc)}setLastElement(e){return c(this,xs).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return c(this,xs).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of c(this,xs)){if(e.push(`M${ge.svgRound(n[4])} ${ge.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${ge.svgRound(n[10])} ${ge.svgRound(n[11])}`);continue}for(let i=6,r=n.length;i<r;i+=6){const[l,u,d,f,p,g]=n.subarray(i,i+6).map(ge.svgRound);e.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}}return e.join("")}serialize([e,n,i,r],l){const u=[],d=[],[f,p,g,y]=k(this,gn,qk).call(this);let w,b,A,E,T,M,R,L,N;switch(c(this,Nh)){case 0:N=ge._rescale,w=e,b=n+r,A=i,E=-r,T=e+f*i,M=n+(1-p-y)*r,R=e+(f+g)*i,L=n+(1-p)*r;break;case 90:N=ge._rescaleAndSwap,w=e,b=n,A=i,E=r,T=e+p*i,M=n+f*r,R=e+(p+y)*i,L=n+(f+g)*r;break;case 180:N=ge._rescale,w=e+i,b=n,A=-i,E=r,T=e+(1-f-g)*i,M=n+p*r,R=e+(1-f)*i,L=n+(p+y)*r;break;case 270:N=ge._rescaleAndSwap,w=e+i,b=n+r,A=-i,E=-r,T=e+(1-p-y)*i,M=n+(1-f-g)*r,R=e+(1-p)*i,L=n+(1-f)*r;break}for(const{line:D,points:B}of c(this,xs))u.push(N(D,w,b,A,E,l?new Array(D.length):null)),d.push(N(B,w,b,A,E,l?new Array(B.length):null));return{lines:u,points:d,rect:[T,M,R,L]}}static deserialize(e,n,i,r,l,{paths:{lines:u,points:d},rotation:f,thickness:p}){const g=[];let y,w,b,A,E;switch(f){case 0:E=ge._rescale,y=-e/i,w=n/r+1,b=1/i,A=-1/r;break;case 90:E=ge._rescaleAndSwap,y=-n/r,w=-e/i,b=1/r,A=1/i;break;case 180:E=ge._rescale,y=e/i+1,w=-n/r,b=-1/i,A=1/r;break;case 270:E=ge._rescaleAndSwap,y=n/r+1,w=e/i+1,b=-1/r,A=-1/i;break}if(!u){u=[];for(const M of d){const R=M.length;if(R===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1]]));continue}if(R===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1],NaN,NaN,NaN,NaN,M[2],M[3]]));continue}const L=new Float32Array(3*(R-2));u.push(L);let[N,D,B,X]=M.subarray(0,4);L.set([NaN,NaN,NaN,NaN,N,D],0);for(let ee=4;ee<R;ee+=2){const $=M[ee],F=M[ee+1];L.set(ge.createBezierPoints(N,D,B,X,$,F),(ee-2)*3),[N,D,B,X]=[B,X,$,F]}}}for(let M=0,R=u.length;M<R;M++)g.push({line:E(u[M].map(L=>L??NaN),y,w,b,A),points:E(d[M].map(L=>L??NaN),y,w,b,A)});const T=new this.prototype.constructor;return T.build(g,i,r,1,f,p,l),T}get box(){return c(this,Dn)}updateProperty(e,n){return e==="stroke-width"?k(this,gn,Qk).call(this,n):null}updateParentDimensions([e,n],i){const[r,l]=k(this,gn,xr).call(this);x(this,Xi,e),x(this,Yi,n),x(this,Lh,i);const[u,d]=k(this,gn,xr).call(this),f=u-r,p=d-l,g=c(this,Dn);return g[0]-=f,g[1]-=p,g[2]+=2*f,g[3]+=2*p,g}updateRotation(e){return x(this,Vp,e),{path:{transform:this.rotationTransform}}}get viewBox(){return c(this,Dn).map(ge.svgRound).join(" ")}get defaultProperties(){const[e,n]=c(this,Dn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=c(this,Dn);let i=0,r=0,l=0,u=0,d=0,f=0;switch(c(this,Vp)){case 90:r=n/e,l=-e/n,d=e;break;case 180:i=-1,u=-1,d=e,f=n;break;case 270:r=-n/e,l=e/n,f=n;break;default:return""}return`matrix(${i} ${r} ${l} ${u} ${ge.svgRound(d)} ${ge.svgRound(f)})`}getPathResizingSVGProperties([e,n,i,r]){const[l,u]=k(this,gn,xr).call(this),[d,f,p,g]=c(this,Dn);if(Math.abs(p-l)<=ge.PRECISION||Math.abs(g-u)<=ge.PRECISION){const E=e+i/2-(d+p/2),T=n+r/2-(f+g/2);return{path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(n)}`,transform:`${this.rotationTransform} translate(${E} ${T})`}}}const y=(i-2*l)/(p-2*l),w=(r-2*u)/(g-2*u),b=p/i,A=g/r;return{path:{"transform-origin":`${ge.svgRound(d)} ${ge.svgRound(f)}`,transform:`${this.rotationTransform} scale(${b} ${A}) translate(${ge.svgRound(l)} ${ge.svgRound(u)}) scale(${y} ${w}) translate(${ge.svgRound(-l)} ${ge.svgRound(-u)})`}}}getPathResizedSVGProperties([e,n,i,r]){const[l,u]=k(this,gn,xr).call(this),d=c(this,Dn),[f,p,g,y]=d;if(d[0]=e,d[1]=n,d[2]=i,d[3]=r,Math.abs(g-l)<=ge.PRECISION||Math.abs(y-u)<=ge.PRECISION){const T=e+i/2-(f+g/2),M=n+r/2-(p+y/2);for(const{line:R,points:L}of c(this,xs))ge._translate(R,T,M,R),ge._translate(L,T,M,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(i-2*l)/(g-2*l),b=(r-2*u)/(y-2*u),A=-w*(f+l)+e+l,E=-b*(p+u)+n+u;if(w!==1||b!==1||A!==0||E!==0)for(const{line:T,points:M}of c(this,xs))ge._rescale(T,A,E,w,b,T),ge._rescale(M,A,E,w,b,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],i){const[r,l]=i,u=c(this,Dn),d=e-u[0],f=n-u[1];if(c(this,Xi)===r&&c(this,Yi)===l)for(const{line:p,points:g}of c(this,xs))ge._translate(p,d,f,p),ge._translate(g,d,f,g);else{const p=c(this,Xi)/r,g=c(this,Yi)/l;x(this,Xi,r),x(this,Yi,l);for(const{line:y,points:w}of c(this,xs))ge._rescale(y,d,f,p,g,y),ge._rescale(w,d,f,p,g,w);u[2]*=p,u[3]*=g}return u[0]=e,u[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ge.svgRound(e)} ${ge.svgRound(n)}`}}}get defaultSVGProperties(){const e=c(this,Dn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ge.svgRound(e[0])} ${ge.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}Dn=new WeakMap,Vp=new WeakMap,Xp=new WeakMap,xs=new WeakMap,Xi=new WeakMap,Yi=new WeakMap,Lh=new WeakMap,Nh=new WeakMap,dc=new WeakMap,gn=new WeakSet,xr=function(e=c(this,dc)){const n=c(this,Xp)+e/2*c(this,Lh);return c(this,Nh)%180===0?[n/c(this,Xi),n/c(this,Yi)]:[n/c(this,Yi),n/c(this,Xi)]},qk=function(){const[e,n,i,r]=c(this,Dn),[l,u]=k(this,gn,xr).call(this,0);return[e+l,n+u,i-2*l,r-2*u]},Kk=function(){const e=x(this,Dn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of c(this,xs)){if(r.length<=12){for(let d=4,f=r.length;d<f;d+=6)Se.pointBoundingBox(r[d],r[d+1],e);continue}let l=r[4],u=r[5];for(let d=6,f=r.length;d<f;d+=6){const[p,g,y,w,b,A]=r.subarray(d,d+6);Se.bezierBoundingBox(l,u,p,g,y,w,b,A,e),l=b,u=A}}const[n,i]=k(this,gn,xr).call(this);e[0]=jn(e[0]-n,0,1),e[1]=jn(e[1]-i,0,1),e[2]=jn(e[2]+n,0,1),e[3]=jn(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]},Qk=function(e){const[n,i]=k(this,gn,xr).call(this);x(this,dc,e);const[r,l]=k(this,gn,xr).call(this),[u,d]=[r-n,l-i],f=c(this,Dn);return f[0]-=u,f[1]-=d,f[2]+=2*u,f[3]+=2*d,f};class py extends Xk{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ot._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new py(this._viewParameters);return t.updateAll(this),t}}var K0,Jk;const wu=class wu extends R0{constructor(e){super({...e,name:"inkEditor"});_(this,K0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){ot.initialize(e,n),this._defaultDrawingOptions=new py(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return je(this,"typesMap",new Map([[He.INK_THICKNESS,"stroke-width"],[He.INK_COLOR,"stroke"],[He.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,i,r,l){return new s4(e,n,i,r,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,i,r,l,u){return sm.deserialize(e,n,i,r,l,u)}static async deserialize(e,n,i){let r=null;if(e instanceof oS){const{data:{inkLists:u,rect:d,rotation:f,id:p,color:g,opacity:y,borderStyle:{rawWidth:w},popupRef:b,contentsObj:A},parent:{page:{pageNumber:E}}}=e;r=e={annotationType:Me.INK,color:Array.from(g),thickness:w,opacity:y,paths:{points:u},boxes:null,pageIndex:E-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:b,comment:(A==null?void 0:A.str)||null}}const l=await super.deserialize(e,n,i);return l._initialData=r,e.comment&&l.setCommentData(e.comment),l}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new C0(this)),[["colorPicker",this._colorPicker]]}get colorType(){return He.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:i}){this._drawingOptions=wu.getDefaultDrawingOptions({stroke:Se.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:l,"stroke-opacity":u,"stroke-width":d}}=this,f={annotationType:Me.INK,color:ot._colorManager.convert(l),opacity:u,thickness:d,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(f),e?(f.isCopy=!0,f):this.annotationElementId&&!k(this,K0,Jk).call(this,f)?null:(f.id=this.annotationElementId,f)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1),r={rect:i,thickness:this._drawingOptions["stroke-width"],points:n};return this.hasEditedComment&&(r.popup=this.comment),e.updateEdited(r),null}};K0=new WeakSet,Jk=function(e){const{color:n,thickness:i,opacity:r,pageIndex:l}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((u,d)=>u!==n[d])||e.thickness!==i||e.opacity!==r||e.pageIndex!==l},ae(wu,"_type","ink"),ae(wu,"_editorType",Me.INK),ae(wu,"_defaultDrawingOptions",null);let fw=wu;class pw extends sm{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Cg=8,Fd=3;var fc,Ke,mw,gi,Zk,e3,gw,n0,t3,n3,s3,yw,vw,i3;class lo{static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:i},r,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,y=p.font=`${n} ${i} ${g}px ${e}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:b,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:T,fontBoundingBoxDescent:M,width:R}=p.measureText(t),L=1.5,N=Math.ceil(Math.max(Math.abs(w)+Math.abs(b)||0,R)*L),D=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||g,Math.abs(T)+Math.abs(M)||g)*L);f=new OffscreenCanvas(N,D),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,N,D),p.fillStyle="black",p.fillText(t,N*(L-1)/2,D*(3-L)/2);const B=k(this,Ke,yw).call(this,p.getImageData(0,0,N,D).data),X=k(this,Ke,s3).call(this,B),ee=k(this,Ke,vw).call(this,X),$=k(this,Ke,gw).call(this,B,N,D,ee);return this.processDrawnLines({lines:{curves:$,width:N,height:D},pageWidth:r,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,i,r){const[l,u,d]=k(this,Ke,i3).call(this,t),[f,p]=k(this,Ke,n3).call(this,l,u,d,Math.hypot(u,d)*c(this,fc).sigmaSFactor,c(this,fc).sigmaR,c(this,fc).kernelSize),g=k(this,Ke,vw).call(this,p),y=k(this,Ke,gw).call(this,f,u,d,g);return this.processDrawnLines({lines:{curves:y,width:u,height:d},pageWidth:e,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:l,areContours:u}){i%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,g=t.thickness??0,y=[],w=Math.min(e/f,n/p),b=w/e,A=w/n,E=[];for(const{points:M}of d){const R=l?k(this,Ke,t3).call(this,M):M;if(!R)continue;E.push(R);const L=R.length,N=new Float32Array(L),D=new Float32Array(3*(L===2?2:L-2));if(y.push({line:D,points:N}),L===2){N[0]=R[0]*b,N[1]=R[1]*A,D.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[B,X,ee,$]=R;B*=b,X*=A,ee*=b,$*=A,N.set([B,X,ee,$],0),D.set([NaN,NaN,NaN,NaN,B,X],0);for(let F=4;F<L;F+=2){const J=N[F]=R[F]*b,oe=N[F+1]=R[F+1]*A;D.set(ge.createBezierPoints(B,X,ee,$,J,oe),(F-2)*3),[B,X,ee,$]=[ee,$,J,oe]}}if(y.length===0)return null;const T=u?new pw:new sm;return T.build(y,e,n,1,i,u?0:g,r),{outline:T,newCurves:E,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:i,height:r}){let l=1/0,u=-1/0,d=0;for(const R of t){d+=R.length;for(let L=2,N=R.length;L<N;L++){const D=R[L]-R[L-2];l=Math.min(l,D),u=Math.max(u,D)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=Cg+Fd*p,y=new Uint32Array(g);let w=0;y[w++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[w++]=0,y[w++]=i,y[w++]=r,y[w++]=e?0:1,y[w++]=Math.max(0,Math.floor(n??0)),y[w++]=p,y[w++]=f.BYTES_PER_ELEMENT;for(const R of t)y[w++]=R.length-2,y[w++]=R[0],y[w++]=R[1];const b=new CompressionStream("deflate-raw"),A=b.writable.getWriter();await A.ready,A.write(y);const E=f.prototype.constructor;for(const R of t){const L=new E(R.length-2);for(let N=2,D=R.length;N<D;N++)L[N-2]=R[N]-R[N-2];A.write(L)}A.close();const T=await new Response(b.readable).arrayBuffer(),M=new Uint8Array(T);return sC(M)}static async decompressSignature(t){try{const e=EI(t),{readable:n,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let l=null,u=0;for await(const R of n)l||(l=new Uint8Array(new Uint32Array(R.buffer,0,4)[0])),l.set(R,u),u+=R.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],y=d[4]===0,w=d[5],b=d[6],A=d[7],E=[],T=(Cg+Fd*b)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(A){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(l.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(l.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(l.buffer,T);break}u=0;for(let R=0;R<b;R++){const L=d[Fd*R+Cg],N=new Float32Array(L+2);E.push(N);for(let D=0;D<Fd-1;D++)N[D]=d[Fd*R+Cg+D+1];for(let D=0;D<L;D++)N[D+2]=N[D]+M[u++]}return{areContours:y,thickness:w,outlines:E,width:p,height:g}}catch(e){return Ne(`decompressSignature: ${e}`),null}}}fc=new WeakMap,Ke=new WeakSet,mw=function(t,e,n,i){return n-=t,i-=e,n===0?i>0?0:4:n===1?i+6:2-i},gi=new WeakMap,Zk=function(t,e,n,i,r,l,u){const d=k(this,Ke,mw).call(this,n,i,r,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=c(this,gi)[2*p],y=c(this,gi)[2*p+1];if(t[(n+g)*e+(i+y)]!==0)return p}return-1},e3=function(t,e,n,i,r,l,u){const d=k(this,Ke,mw).call(this,n,i,r,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=c(this,gi)[2*p],y=c(this,gi)[2*p+1];if(t[(n+g)*e+(i+y)]!==0)return p}return-1},gw=function(t,e,n,i){const r=t.length,l=new Int32Array(r);for(let p=0;p<r;p++)l[p]=t[p]<=i?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let g=1;g<e-1;g++){const y=p*e+g,w=l[y];if(w===0)continue;let b=p,A=g;if(w===1&&l[y-1]===0)u+=1,A-=1;else if(w>=1&&l[y+1]===0)u+=1,A+=1,w>1&&(d=w);else{w!==1&&(d=Math.abs(w));continue}const E=[g,p],T=A===g+1,M={isHole:T,points:E,id:u,parent:0};f.push(M);let R;for(const F of f)if(F.id===d){R=F;break}R?R.isHole?M.parent=T?R.parent:d:M.parent=T?d:R.parent:M.parent=T?d:0;const L=k(this,Ke,Zk).call(this,l,e,p,g,b,A,0);if(L===-1){l[y]=-u,l[y]!==1&&(d=Math.abs(l[y]));continue}let N=c(this,gi)[2*L],D=c(this,gi)[2*L+1];const B=p+N,X=g+D;b=B,A=X;let ee=p,$=g;for(;;){const F=k(this,Ke,e3).call(this,l,e,ee,$,b,A,1);N=c(this,gi)[2*F],D=c(this,gi)[2*F+1];const J=ee+N,oe=$+D;E.push(oe,J);const ce=ee*e+$;if(l[ce+1]===0?l[ce]=-u:l[ce]===1&&(l[ce]=u),J===p&&oe===g&&ee===B&&$===X){l[y]!==1&&(d=Math.abs(l[y]));break}else b=ee,A=$,ee=J,$=oe}}}return f},n0=function(t,e,n,i){if(n-e<=4){for(let B=e;B<n-2;B+=2)i.push(t[B],t[B+1]);return}const r=t[e],l=t[e+1],u=t[n-4]-r,d=t[n-3]-l,f=Math.hypot(u,d),p=u/f,g=d/f,y=p*l-g*r,w=d/u,b=1/f,A=Math.atan(w),E=Math.cos(A),T=Math.sin(A),M=b*(Math.abs(E)+Math.abs(T)),R=b*(1-M+M**2),L=Math.max(Math.atan(Math.abs(T+E)*R),Math.atan(Math.abs(T-E)*R));let N=0,D=e;for(let B=e+2;B<n-2;B+=2){const X=Math.abs(y-p*t[B+1]+g*t[B]);X>N&&(D=B,N=X)}N>(f*L)**2?(k(this,Ke,n0).call(this,t,e,D+2,i),k(this,Ke,n0).call(this,t,D,n,i)):i.push(r,l)},t3=function(t){const e=[],n=t.length;return k(this,Ke,n0).call(this,t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e},n3=function(t,e,n,i,r,l){const u=new Float32Array(l**2),d=-2*i**2,f=l>>1;for(let A=0;A<l;A++){const E=(A-f)**2;for(let T=0;T<l;T++)u[A*l+T]=Math.exp((E+(T-f)**2)/d)}const p=new Float32Array(256),g=-2*r**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/g);const y=t.length,w=new Uint8Array(y),b=new Uint32Array(256);for(let A=0;A<n;A++)for(let E=0;E<e;E++){const T=A*e+E,M=t[T];let R=0,L=0;for(let D=0;D<l;D++){const B=A+D-f;if(!(B<0||B>=n))for(let X=0;X<l;X++){const ee=E+X-f;if(ee<0||ee>=e)continue;const $=t[B*e+ee],F=u[D*l+X]*p[Math.abs($-M)];R+=$*F,L+=F}}const N=w[T]=Math.round(R/L);b[N]++}return[w,b]},s3=function(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e},yw=function(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let i=-1/0,r=1/0;for(let u=0,d=n.length;u<d;u++){const f=n[u]=t[u<<2];i=Math.max(i,f),r=Math.min(r,f)}const l=255/(i-r);for(let u=0,d=n.length;u<d;u++)n[u]=(n[u]-r)*l;return n},vw=function(t){let e,n=-1/0,i=-1/0;const r=t.findIndex(d=>d!==0);let l=r,u=r;for(e=r;e<256;e++){const d=t[e];d>n&&(e-l>i&&(i=e-l,u=e-1),n=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e},i3=function(t){const e=t,{width:n,height:i}=t,{maxDim:r}=c(this,fc);let l=n,u=i;if(n>r||i>r){let y=n,w=i,b=Math.log2(Math.max(n,i)/r);const A=Math.floor(b);b=b===A?A-1:A;for(let T=0;T<b;T++){l=Math.ceil(y/2),u=Math.ceil(w/2);const M=new OffscreenCanvas(l,u);M.getContext("2d").drawImage(t,0,0,y,w,0,0,l,u),y=l,w=u,t!==e&&t.close(),t=M.transferToImageBitmap()}const E=Math.min(r/l,r/u);l=Math.round(l*E),u=Math.round(u*E)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[k(this,Ke,yw).call(this,p),l,u]},_(lo,Ke),_(lo,fc,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),_(lo,gi,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class aS extends Xk{constructor(){super(),super.updateProperties({fill:ot._defaultLineColor,"stroke-width":0})}clone(){const t=new aS;return t.updateAll(this),t}}class lS extends py{constructor(t){super(t),super.updateProperties({stroke:ot._defaultLineColor,"stroke-width":1})}clone(){const t=new lS(this._viewParameters);return t.updateAll(this),t}}var Ea,qi,Ca,pc;const os=class os extends R0{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});_(this,Ea,!1);_(this,qi,null);_(this,Ca,null);_(this,pc,null);this._willKeepAspectRatio=!0,x(this,Ca,e.signatureData||null),x(this,qi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){ot.initialize(e,n),this._defaultDrawingOptions=new aS,this._defaultDrawnSignatureOptions=new lS(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!c(this,qi)}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(c(this,Ca)){const{lines:r,mustSmooth:l,areContours:u,description:d,uuid:f,heightInPage:p}=c(this,Ca),{rawDims:{pageWidth:g,pageHeight:y},rotation:w}=this.parent.viewport,b=lo.processDrawnLines({lines:r,pageWidth:g,pageHeight:y,rotation:w,innerMargin:os._INNER_MARGIN,mustSmooth:l,areContours:u});this.addSignature(b,p,d,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:c(this,qi)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){x(this,pc,e),this.addEditToolbar()}getUuid(){return c(this,pc)}get description(){return c(this,qi)}set description(e){x(this,qi,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:i,width:r,height:l}=c(this,Ca),u=Math.max(r,l),d=lo.processDrawnLines({lines:{curves:e.map(f=>({points:f})),thickness:i,width:r,height:l},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,i,r){const{x:l,y:u}=this,{outline:d}=x(this,Ca,e);x(this,Ea,d instanceof pw),this.description=i;let f;c(this,Ea)?f=os.getDefaultDrawingOptions():(f=os._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:f});const[p,g]=this.parentDimensions,[,y]=this.pageDimensions;let w=n/y;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(p*this.width,g*this.height),this.x=l,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return lo.process(e,n,i,r,os._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:i,pageHeight:r},rotation:l}=this.parent.viewport;return lo.extractContoursFromText(e,n,i,r,l,os._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return lo.processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:r,innerMargin:os._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=os.getDefaultDrawingOptions():(this._drawingOptions=os._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:i,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":l}}=this,u={annotationType:Me.SIGNATURE,isSignature:!0,areContours:c(this,Ea),color:[0,0,0],thickness:c(this,Ea)?0:l,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),e?(u.paths={lines:n,points:i},u.uuid=c(this,pc),u.isCopy=!0):u.lines=n,c(this,qi)&&(u.accessibilityData={type:"Figure",alt:c(this,qi)}),u}static deserializeDraw(e,n,i,r,l,u){return u.areContours?pw.deserialize(e,n,i,r,l,u):sm.deserialize(e,n,i,r,l,u)}static async deserialize(e,n,i){var l;const r=await super.deserialize(e,n,i);return x(r,Ea,e.areContours),r.description=((l=e.accessibilityData)==null?void 0:l.alt)||"",x(r,pc,e.uuid),r}};Ea=new WeakMap,qi=new WeakMap,Ca=new WeakMap,pc=new WeakMap,ae(os,"_type","signature"),ae(os,"_editorType",Me.SIGNATURE),ae(os,"_defaultDrawingOptions",null);let ww=os;var mt,sn,ka,so,Ta,Ih,io,mc,Ki,bs,Dh,Ve,of,af,s0,i0,r0,xw,o0,r3;class Sw extends ot{constructor(e){super({...e,name:"stampEditor"});_(this,Ve);_(this,mt,null);_(this,sn,null);_(this,ka,null);_(this,so,null);_(this,Ta,null);_(this,Ih,"");_(this,io,null);_(this,mc,!1);_(this,Ki,null);_(this,bs,!1);_(this,Dh,!1);x(this,so,e.bitmapUrl),x(this,Ta,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){ot.initialize(e,n)}static isHandlingMimeForPasting(e){return d2.includes(e)}static paste(e,n){n.pasteEditor({mode:Me.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:l,height:u}=e||this.copyCanvas(null,null,!0).imageData,d=await i.guess({name:"altText",request:{data:r,width:l,height:u,channels:r.length/(l*u)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const f=d.output;return await this.setGuessedAltText(f),n&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}remove(){var e;c(this,sn)&&(x(this,mt,null),this._uiManager.imageManager.deleteId(c(this,sn)),(e=c(this,io))==null||e.remove(),x(this,io,null),c(this,Ki)&&(clearTimeout(c(this,Ki)),x(this,Ki,null))),super.remove()}rebuild(){if(!this.parent){c(this,sn)&&k(this,Ve,s0).call(this);return}super.rebuild(),this.div!==null&&(c(this,sn)&&c(this,io)===null&&k(this,Ve,s0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(c(this,ka)||c(this,mt)||c(this,so)||c(this,Ta)||c(this,sn)||c(this,mc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),c(this,mc)||(c(this,mt)?k(this,Ve,i0).call(this):k(this,Ve,s0).call(this)),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(x(this,sn,i),r&&x(this,mt,r),x(this,mc,!1),k(this,Ve,i0).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;c(this,Ki)!==null&&clearTimeout(c(this,Ki)),x(this,Ki,setTimeout(()=>{x(this,Ki,null),k(this,Ve,xw).call(this)},200))}copyCanvas(e,n,i=!1){var w;e||(e=224);const{width:r,height:l}=c(this,mt),u=new ar;let d=c(this,mt),f=r,p=l,g=null;if(n){if(r>n||l>n){const X=Math.min(n/r,n/l);f=Math.floor(r*X),p=Math.floor(l*X)}g=document.createElement("canvas");const b=g.width=Math.ceil(f*u.sx),A=g.height=Math.ceil(p*u.sy);c(this,bs)||(d=k(this,Ve,r0).call(this,b,A));const E=g.getContext("2d");E.filter=this._uiManager.hcmFilter;let T="white",M="#cfcfd8";this._uiManager.hcmFilter!=="none"?M="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",M="#42414d");const R=15,L=R*u.sx,N=R*u.sy,D=new OffscreenCanvas(L*2,N*2),B=D.getContext("2d");B.fillStyle=T,B.fillRect(0,0,L*2,N*2),B.fillStyle=M,B.fillRect(0,0,L,N),B.fillRect(L,N,L,N),E.fillStyle=E.createPattern(D,"repeat"),E.fillRect(0,0,b,A),E.drawImage(d,0,0,d.width,d.height,0,0,b,A)}let y=null;if(i){let b,A;if(u.symmetric&&d.width<e&&d.height<e)b=d.width,A=d.height;else if(d=c(this,mt),r>e||l>e){const M=Math.min(e/r,e/l);b=Math.floor(r*M),A=Math.floor(l*M),c(this,bs)||(d=k(this,Ve,r0).call(this,b,A))}const T=new OffscreenCanvas(b,A).getContext("2d",{willReadFrequently:!0});T.drawImage(d,0,0,d.width,d.height,0,0,b,A),y={width:b,height:A,data:T.getImageData(0,0,b,A).data}}return{canvas:g,width:f,height:p,imageData:y}}static async deserialize(e,n,i){var E;let r=null,l=!1;if(e instanceof xk){const{data:{rect:T,rotation:M,id:R,structParent:L,popupRef:N,contentsObj:D},container:B,parent:{page:{pageNumber:X}},canvas:ee}=e;let $,F;ee?(delete e.canvas,{id:$,bitmap:F}=i.imageManager.getFromCanvas(B.id,ee),ee.remove()):(l=!0,e._hasNoCanvas=!0);const J=((E=await n._structTree.getAriaAttributes(`${Zw}${R}`))==null?void 0:E.get("aria-label"))||"";r=e={annotationType:Me.STAMP,bitmapId:$,bitmap:F,pageIndex:X-1,rect:T.slice(0),rotation:M,annotationElementId:R,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:L,popupRef:N,comment:(D==null?void 0:D.str)||null}}const u=await super.deserialize(e,n,i),{rect:d,bitmap:f,bitmapUrl:p,bitmapId:g,isSvg:y,accessibilityData:w}=e;l?(i.addMissingCanvas(e.id,u),x(u,mc,!0)):g&&i.imageManager.isValidId(g)?(x(u,sn,g),f&&x(u,mt,f)):x(u,so,p),x(u,bs,y);const[b,A]=u.pageDimensions;return u.width=(d[2]-d[0])/b,u.height=(d[3]-d[1])/A,w&&(u.altTextData=w),u._initialData=r,e.comment&&u.setCommentData(e.comment),x(u,Dh,!!r),u}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Me.STAMP,bitmapId:c(this,sn),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:c(this,bs),structTreeParentId:this._structTreeParentId};if(this.addComment(i),e)return i.bitmapUrl=k(this,Ve,o0).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:l}=this.serializeAltText(!1);if(!r&&l&&(i.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=k(this,Ve,r3).call(this,i);if(d.isSame)return null;d.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const u=c(this,bs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(c(this,sn)))n.stamps.set(c(this,sn),{area:u,serialized:i}),i.bitmap=k(this,Ve,o0).call(this,!1);else if(c(this,bs)){const d=n.stamps.get(c(this,sn));u>d.area&&(d.area=u,d.serialized.bitmap.close(),d.serialized.bitmap=k(this,Ve,o0).call(this,!1))}return i}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const n={rect:this.getPDFRect()};return this.hasEditedComment&&(n.popup=this.comment),e.updateEdited(n),null}}mt=new WeakMap,sn=new WeakMap,ka=new WeakMap,so=new WeakMap,Ta=new WeakMap,Ih=new WeakMap,io=new WeakMap,mc=new WeakMap,Ki=new WeakMap,bs=new WeakMap,Dh=new WeakMap,Ve=new WeakSet,of=function(e,n=!1){if(!e){this.remove();return}x(this,mt,e.bitmap),n||(x(this,sn,e.id),x(this,bs,e.isSvg)),e.file&&x(this,Ih,e.file.name),k(this,Ve,i0).call(this)},af=function(){if(x(this,ka,null),this._uiManager.enableWaiting(!1),!!c(this,io)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,mt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,mt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},s0=function(){if(c(this,sn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,sn)).then(i=>k(this,Ve,of).call(this,i,!0)).finally(()=>k(this,Ve,af).call(this));return}if(c(this,so)){const i=c(this,so);x(this,so,null),this._uiManager.enableWaiting(!0),x(this,ka,this._uiManager.imageManager.getFromUrl(i).then(r=>k(this,Ve,of).call(this,r)).finally(()=>k(this,Ve,af).call(this)));return}if(c(this,Ta)){const i=c(this,Ta);x(this,Ta,null),this._uiManager.enableWaiting(!0),x(this,ka,this._uiManager.imageManager.getFromFile(i).then(r=>k(this,Ve,of).call(this,r)).finally(()=>k(this,Ve,af).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=d2.join(",");const n=this._uiManager._signal;x(this,ka,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Ve,of).call(this,r)}i()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>k(this,Ve,af).call(this))),e.click()},i0=function(){var g;const{div:e}=this;let{width:n,height:i}=c(this,mt);const[r,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*r,i=this.height*l;else if(n>u*r||i>u*l){const y=Math.min(u*r/n,u*l/i);n*=y,i*=y}const[d,f]=this.parentDimensions;this.setDims(n*d/r,i*f/l),this._uiManager.enableWaiting(!1);const p=x(this,io,document.createElement("canvas"));p.setAttribute("role","img"),this.addContainer(p),this.width=n/r,this.height=i/l,(g=this._initialOptions)!=null&&g.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),k(this,Ve,xw).call(this),c(this,Dh)||(this.parent.addUndoableEditor(this),x(this,Dh,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,Ih)&&this.div.setAttribute("aria-description",c(this,Ih)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},r0=function(e,n){const{width:i,height:r}=c(this,mt);let l=i,u=r,d=c(this,mt);for(;l>2*e||u>2*n;){const f=l,p=u;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(l,u);g.getContext("2d").drawImage(d,0,0,f,p,0,0,l,u),d=g.transferToImageBitmap()}return d},xw=function(){const[e,n]=this.parentDimensions,{width:i,height:r}=this,l=new ar,u=Math.ceil(i*e*l.sx),d=Math.ceil(r*n*l.sy),f=c(this,io);if(!f||f.width===u&&f.height===d)return;f.width=u,f.height=d;const p=c(this,bs)?c(this,mt):k(this,Ve,r0).call(this,u,d),g=f.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,u,d)},o0=function(e){if(e){if(c(this,bs)){const r=this._uiManager.imageManager.getSvgUrl(c(this,sn));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,mt),n.getContext("2d").drawImage(c(this,mt),0,0),n.toDataURL()}if(c(this,bs)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*Ha.PDF_TO_CSS_UNITS),l=Math.round(this.height*i*Ha.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(r,l);return u.getContext("2d").drawImage(c(this,mt),0,0,c(this,mt).width,c(this,mt).height,0,0,r,l),u.transferToImageBitmap()}return structuredClone(c(this,mt))},r3=function(e){var u;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===n,l=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&l,isSameAltText:l}},ae(Sw,"_type","stamp"),ae(Sw,"_editorType",Me.STAMP);var gc,Oh,Qi,Pa,ro,As,Ra,Fh,yc,yi,oo,rn,ao,Ma,jh,Ee,La,gt,o3,Ri,Aw,_w,a0;const li=class li{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){_(this,gt);_(this,gc);_(this,Oh,!1);_(this,Qi,null);_(this,Pa,null);_(this,ro,null);_(this,As,new Map);_(this,Ra,!1);_(this,Fh,!1);_(this,yc,!1);_(this,yi,null);_(this,oo,null);_(this,rn,null);_(this,ao,null);_(this,Ma,null);_(this,jh,-1);_(this,Ee);const g=[...c(li,La).values()];if(!li._initialized){li._initialized=!0;for(const y of g)y.initialize(p,t)}t.registerEditorTypes(g),x(this,Ee,t),this.pageIndex=e,this.div=n,x(this,gc,r),x(this,Qi,l),this.viewport=f,x(this,rn,d),this.drawLayer=u,this._structTree=i,c(this,Ee).addLayer(this)}get isEmpty(){return c(this,As).size===0}get isInvisible(){return this.isEmpty&&c(this,Ee).getMode()===Me.NONE}updateToolbar(t){c(this,Ee).updateToolbar(t)}updateMode(t=c(this,Ee).getMode()){switch(k(this,gt,a0).call(this),t){case Me.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Me.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Me.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of c(li,La).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=c(this,rn))==null?void 0:e.div)}setEditingState(t){c(this,Ee).setEditingState(t)}addCommands(t){c(this,Ee).addCommands(t)}cleanUndoStack(t){c(this,Ee).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=c(this,Qi))==null||e.div.classList.toggle("disabled",!t)}async enable(){var n;x(this,yc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(n=c(this,Ma))==null||n.abort(),x(this,Ma,null);const t=new Set;for(const i of c(this,As).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,Ee).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!c(this,Qi)){x(this,yc,!1);return}const e=c(this,Qi).getEditableAnnotations();for(const i of e){if(i.hide(),c(this,Ee).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}x(this,yc,!1)}disable(){var i;if(x(this,Fh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),c(this,rn)&&!c(this,Ma)){x(this,Ma,new AbortController);const r=c(this,Ee).combinedSignal(c(this,Ma));c(this,rn).div.addEventListener("pointerdown",l=>{const{clientX:d,clientY:f,timeStamp:p}=l,g=c(this,jh);if(p-g>500){x(this,jh,p);return}x(this,jh,-1);const{classList:y}=this.div;y.toggle("getElements",!0);const w=document.elementsFromPoint(d,f);if(y.toggle("getElements",!1),!this.div.contains(w[0]))return;let b;const A=new RegExp(`^${JE}[0-9]+$`);for(const T of w)if(A.test(T.id)){b=T.id;break}if(!b)return;const E=c(this,As).get(b);(E==null?void 0:E.annotationElementId)===null&&(l.stopPropagation(),l.preventDefault(),E.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of c(this,As).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(c(this,Qi)){const r=c(this,Qi).getEditableAnnotations();for(const l of r){const{id:u}=l.data;if(c(this,Ee).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=e.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=t.get(u),d&&(c(this,Ee).addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}k(this,gt,a0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of c(li,La).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,Fh,!1)}getEditableAnnotation(t){var e;return((e=c(this,Qi))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){c(this,Ee).getActive()!==t&&c(this,Ee).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=c(this,rn))!=null&&t.div&&!c(this,ao)){x(this,ao,new AbortController);const e=c(this,Ee).combinedSignal(c(this,ao));c(this,rn).div.addEventListener("pointerdown",k(this,gt,o3).bind(this),{signal:e}),c(this,rn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=c(this,rn))!=null&&t.div&&c(this,ao)&&(c(this,ao).abort(),x(this,ao,null),c(this,rn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Pa))return;x(this,Pa,new AbortController);const t=c(this,Ee).combinedSignal(c(this,Pa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=c(this,Pa))==null||t.abort(),x(this,Pa,null)}attach(t){c(this,As).set(t.id,t);const{annotationElementId:e}=t;e&&c(this,Ee).isDeletedAnnotationElement(e)&&c(this,Ee).removeDeletedAnnotationElement(t)}detach(t){var e;c(this,As).delete(t.id),(e=c(this,gc))==null||e.removePointerInTextLayer(t.contentDiv),!c(this,Fh)&&t.annotationElementId&&c(this,Ee).addDeletedAnnotationElement(t)}remove(t){this.detach(t),c(this,Ee).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(c(this,Ee).addDeletedAnnotationElement(t.annotationElementId),ot.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),c(this,Ee).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!c(this,yc)),c(this,Ee).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!c(this,ro)&&(t._focusEventsAllowed=!1,x(this,ro,setTimeout(()=>{x(this,ro,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:c(this,Ee)._signal}),e.focus())},0))),t._structTreeParentId=(n=c(this,gc))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return c(this,Ee).getId()}combinedSignal(t){return c(this,Ee).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=c(this,gt,Ri))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await c(this,Ee).updateMode(t.mode);const{offsetX:n,offsetY:i}=k(this,gt,_w).call(this),r=this.getNextId(),l=k(this,gt,Aw).call(this,{parent:this,id:r,x:n,y:i,uiManager:c(this,Ee),isCentered:!0,...e});l&&this.add(l)}async deserialize(t){var e;return await((e=c(li,La).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,c(this,Ee)))||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),r=k(this,gt,Aw).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:c(this,Ee),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(k(this,gt,_w).call(this),!0,t)}setSelected(t){c(this,Ee).setSelected(t)}toggleSelected(t){c(this,Ee).toggleSelected(t)}unselect(t){c(this,Ee).unselect(t)}pointerup(t){var i;const{isMac:e}=vn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!c(this,Ra)||(x(this,Ra,!1),(i=c(this,gt,Ri))!=null&&i.isDrawer&&c(this,gt,Ri).supportMultipleDrawings))return;if(!c(this,Oh)){x(this,Oh,!0);return}const n=c(this,Ee).getMode();if(n===Me.STAMP||n===Me.SIGNATURE){c(this,Ee).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var i;if(c(this,Ee).getMode()===Me.HIGHLIGHT&&this.enableTextSelection(),c(this,Ra)){x(this,Ra,!1);return}const{isMac:e}=vn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(x(this,Ra,!0),(i=c(this,gt,Ri))!=null&&i.isDrawer){this.startDrawingSession(t);return}const n=c(this,Ee).getActive();x(this,Oh,!n||n.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),c(this,yi)){c(this,gt,Ri).startDrawing(this,c(this,Ee),!1,t);return}c(this,Ee).setCurrentDrawingSession(this),x(this,yi,new AbortController);const e=c(this,Ee).combinedSignal(c(this,yi));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(x(this,oo,null),this.commitOrRemove())},{signal:e}),c(this,gt,Ri).startDrawing(this,c(this,Ee),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&x(this,oo,e);return}c(this,oo)&&setTimeout(()=>{var e;(e=c(this,oo))==null||e.focus(),x(this,oo,null)},0)}endDrawingSession(t=!1){return c(this,yi)?(c(this,Ee).setCurrentDrawingSession(null),c(this,yi).abort(),x(this,yi,null),x(this,oo,null),c(this,gt,Ri).endDrawing(t)):null}findNewParent(t,e,n){const i=c(this,Ee).findParent(e,n);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return c(this,yi)?(this.endDrawingSession(),!0):!1}onScaleChanging(){c(this,yi)&&c(this,gt,Ri).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=c(this,Ee).getActive())==null?void 0:t.parent)===this&&(c(this,Ee).commitOrRemove(),c(this,Ee).setActiveEditor(null)),c(this,ro)&&(clearTimeout(c(this,ro)),x(this,ro,null));for(const n of c(this,As).values())(e=c(this,gc))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,As).clear(),c(this,Ee).removeLayer(this)}render({viewport:t}){this.viewport=t,kc(this.div,t);for(const e of c(this,Ee).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){c(this,Ee).commitOrRemove(),k(this,gt,a0).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,kc(this.div,{rotation:n}),e!==n)for(const i of c(this,As).values())i.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return c(this,Ee).viewParameters.realScale}};gc=new WeakMap,Oh=new WeakMap,Qi=new WeakMap,Pa=new WeakMap,ro=new WeakMap,As=new WeakMap,Ra=new WeakMap,Fh=new WeakMap,yc=new WeakMap,yi=new WeakMap,oo=new WeakMap,rn=new WeakMap,ao=new WeakMap,Ma=new WeakMap,jh=new WeakMap,Ee=new WeakMap,La=new WeakMap,gt=new WeakSet,o3=function(t){c(this,Ee).unselectAll();const{target:e}=t;if(e===c(this,rn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&c(this,rn).div.contains(e)){const{isMac:n}=vn.platform;if(t.button!==0||t.ctrlKey&&n)return;c(this,Ee).showAllEditors("highlight",!0,!0),c(this,rn).div.classList.add("free"),this.toggleDrawing(),P0.startHighlighting(this,c(this,Ee).direction==="ltr",{target:c(this,rn).div,x:t.x,y:t.y}),c(this,rn).div.addEventListener("pointerup",()=>{c(this,rn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,Ee)._signal}),t.preventDefault()}},Ri=function(){return c(li,La).get(c(this,Ee).getMode())},Aw=function(t){const e=c(this,gt,Ri);return e?new e.prototype.constructor(t):null},_w=function(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+i),f=(r+u)/2-t,p=(l+d)/2-e,[g,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:y}},a0=function(){for(const t of c(this,As).values())t.isEmpty()&&t.remove()},ae(li,"_initialized",!1),_(li,La,new Map([sw,fw,Sw,P0,ww].map(t=>[t._editorType,t])));let bw=li;var vi,On,vc,Yp,Q0,a3,lr,Cw,l3,kw;const Ut=class Ut{constructor({pageIndex:t}){_(this,lr);_(this,vi,null);_(this,On,new Map);_(this,vc,new Map);this.pageIndex=t}setParent(t){if(!c(this,vi)){x(this,vi,t);return}if(c(this,vi)!==t){if(c(this,On).size>0)for(const e of c(this,On).values())e.remove(),t.append(e);x(this,vi,t)}}static get _svgFactory(){return je(this,"_svgFactory",new k0)}draw(t,e=!1,n=!1){const i=zt(Ut,Yp)._++,r=k(this,lr,Cw).call(this),l=Ut._svgFactory.createElement("defs");r.append(l);const u=Ut._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${i}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&c(this,vc).set(i,u);const f=n?k(this,lr,l3).call(this,l,d):null,p=Ut._svgFactory.createElement("use");return r.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(r,t),c(this,On).set(i,r),{id:i,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=zt(Ut,Yp)._++,i=k(this,lr,Cw).call(this),r=Ut._svgFactory.createElement("defs");i.append(r);const l=Ut._svgFactory.createElement("path");r.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const g=Ut._svgFactory.createElement("mask");r.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const y=Ut._svgFactory.createElement("rect");g.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const w=Ut._svgFactory.createElement("use");g.append(w),w.setAttribute("href",`#${u}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const f=Ut._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(i,t),c(this,On).set(n,i),n}finalizeDraw(t,e){c(this,vc).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var d;if(!e)return;const{root:n,bbox:i,rootClass:r,path:l}=e,u=typeof t=="number"?c(this,On).get(t):t;if(u){if(n&&k(this,lr,kw).call(this,u,n),i&&k(d=Ut,Q0,a3).call(d,u,i),r){const{classList:f}=u;for(const[p,g]of Object.entries(r))f.toggle(p,g)}if(l){const p=u.firstChild.firstChild;k(this,lr,kw).call(this,p,l)}}}updateParent(t,e){if(e===this)return;const n=c(this,On).get(t);n&&(c(e,vi).append(n),c(this,On).delete(t),c(e,On).set(t,n))}remove(t){c(this,vc).delete(t),c(this,vi)!==null&&(c(this,On).get(t).remove(),c(this,On).delete(t))}destroy(){x(this,vi,null);for(const t of c(this,On).values())t.remove();c(this,On).clear(),c(this,vc).clear()}};vi=new WeakMap,On=new WeakMap,vc=new WeakMap,Yp=new WeakMap,Q0=new WeakSet,a3=function(t,[e,n,i,r]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*i}%`,l.height=`${100*r}%`},lr=new WeakSet,Cw=function(){const t=Ut._svgFactory.create(1,1,!0);return c(this,vi).append(t),t.setAttribute("aria-hidden",!0),t},l3=function(t,e){const n=Ut._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Ut._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),i},kw=function(t,e){for(const[n,i]of Object.entries(e))i===null?t.removeAttribute(n):t.setAttribute(n,i)},_(Ut,Q0),_(Ut,Yp,0);let Ew=Ut;globalThis._pdfjsTestingUtils={HighlightOutliner:rw};globalThis.pdfjsLib={AbortException:Ua,AnnotationEditorLayer:bw,AnnotationEditorParamsType:He,AnnotationEditorType:Me,AnnotationEditorUIManager:Tc,AnnotationLayer:ew,AnnotationMode:zo,AnnotationType:It,build:DD,ColorPicker:E0,createValidAbsoluteUrl:ZE,DOMSVGFactory:k0,DrawLayer:Ew,FeatureTest:vn,fetchData:Zp,getDocument:nk,getFilenameFromUrl:CI,getPdfFilenameFromUrl:kI,getRGB:dy,getUuid:nC,getXfaPageViewport:PI,GlobalWorkerOptions:Zi,ImageKind:Lg,InvalidPDFException:u2,isDataScheme:hy,isPdfFile:tS,isValidExplicitDest:zI,MathClamp:jn,noContextMenu:ei,normalizeUnicode:AI,OPS:mf,OutputScale:ar,PasswordResponses:pI,PDFDataRangeTransport:sk,PDFDateString:x0,PDFWorker:vf,PermissionFlag:fI,PixelsPerInch:Ha,RenderingCancelledException:eS,ResponseException:S0,setLayerDimensions:kc,shadow:je,SignatureExtractor:lo,stopEvent:Dt,SupportedImageMimeTypes:d2,TextLayer:gf,TouchManager:A0,updateUrlHash:eC,Util:Se,VerbosityLevel:ly,version:ID,XfaLayer:ak};const i4="https://obinnanwachukwu.com/assets/pdf.worker.min-BPOOaaiu.js";Zi.workerSrc=i4;async function r4(a){return nk({data:a}).promise}function o4(a){const t=[];let e="";return a.forEach(({str:n,hasEOL:i})=>{const r=n.replace(/\s+/g," ").trim();if(r.length===0){i&&e.length>0&&(t.push(e),e="");return}e=e.length>0?`${e} ${r}`:r,i&&(t.push(e),e="")}),e.length>0&&t.push(e),t.join(`
`)}async function a4(a){const t=await a.arrayBuffer(),e=await r4(t),n=[];for(let i=1;i<=e.numPages;i+=1){const d=(await(await e.getPage(i)).getTextContent()).items.filter(f=>"str"in f).map(f=>({str:f.str,hasEOL:!!f.hasEOL}));n.push(o4(d))}return e.destroy(),n.join(`
`)}const fl=/[A-Z]{2,4}\s(?:\d{4}|[1-4]XXX)/g,Gh="(Spring|Summer|Fall|Winter)\\s+\\d{4}",l4=new RegExp(`${Gh}$`),c3="(?:A|A-|A\\+|B|B-|B\\+|C|C-|C\\+|D|D-|D\\+|F|S|U|W|T)",c4=new RegExp(`(${c3})\\s+(\\d+)\\s*${Gh}$`),u4=new RegExp(`IP\\s*\\((\\d+)\\)\\s*${Gh}$`),h4=new RegExp(`^(?:(${c3})\\s+(\\d+)\\s*${Gh}|IP\\s*\\((\\d+)\\)\\s*${Gh})$`),u3=4,h3={A:4,B:3,C:2,D:1,F:0},d4={scaleMax:4,usePlusMinus:!1},D_=["A+","A","A-","B+","B","B-","C+","C","C-","D+","D","D-","F","S","U","IP"];function Tw(a,t){const e=10**t;return Math.trunc(a*e)/e}function f4(a){return a.replace(/[ \t]+/g," ").trim()}function Pw(a){let t=null;fl.lastIndex=0;let e=fl.exec(a);for(;e;)t=e,e=fl.exec(a);return t?a.slice(t.index).trim():null}function M0(a,t,e,n){return{course:a,grade:t.toUpperCase(),credits:e,term:n}}function p4(a){const t=a.match(l4);if(!t)return null;const e=a.match(c4);if(e){const i=Pw(a.slice(0,e.index).trim());if(!i)return null;const r=e[1],l=Number.parseInt(e[2],10),u=t[0];return M0(i,r,l,u)}const n=a.match(u4);if(n){const i=Pw(a.slice(0,n.index).trim());if(!i)return null;const r=Number.parseInt(n[1],10),l=t[0];return M0(i,"IP",r,l)}return null}function m4(a,t){const e=a[t];if(e.includes("Course Title")||e.includes("Satisfied by:"))return[null,1];if(fl.lastIndex=0,!fl.test(e))return fl.lastIndex=0,[null,1];fl.lastIndex=0;const n=p4(e);if(n)return[n,1];for(let i=1;i<=3;i+=1){const r=t+i;if(r>=a.length)break;const l=a[r],u=l.match(h4);if(!u)continue;const d=l.match(new RegExp(Gh));if(!d)continue;const f=Pw(e);if(!f)continue;if(u[1]){const g=u[1],y=Number.parseInt(u[2],10);return[M0(f,g,y,d[0]),i+1]}const p=Number.parseInt(u[3],10);return[M0(f,"IP",p,d[0]),i+1]}return[null,1]}function g4(a){if(!a)return null;const t=a.trim().toUpperCase();if(!t)return null;const e=t[0];return h3[e]!==void 0?e:null}function d3(a){return a.trim().toUpperCase()}function y4(a,t){const e=d3(a);return t.usePlusMinus?e:e.replace(/[+-]$/,"")}function v4(a,t){const e=h3[a];if(typeof e!="number")return null;const n=t/u3;return Number((e*n).toFixed(4))}function w4(a,t,e){const n=.3*(e.scaleMax/u3);return e.usePlusMinus?t.endsWith("+")?Math.min(e.scaleMax,Number((a+n).toFixed(4))):t.endsWith("-")?Math.max(0,Number((a-n).toFixed(4))):a:a}function S4(a,t){return{...a,grade:d3(t)}}function f3(a,t){const e=y4(a.grade,t),n=g4(e);if(!n)return{...a,effectiveGrade:e,baseGrade:null,gradePoints:null,weightedCredits:0};if(/(?:^S|^U|^IP|^T|^W)/.test(e))return{...a,effectiveGrade:e,baseGrade:n,gradePoints:null,weightedCredits:0};const i=v4(n,t.scaleMax);if(i===null)return{...a,effectiveGrade:e,baseGrade:null,gradePoints:null,weightedCredits:0};const r=w4(i,e,t),l=Number(r.toFixed(3)),u=Number((l*a.credits).toFixed(3));return{...a,effectiveGrade:e,baseGrade:n,gradePoints:l,weightedCredits:u}}function x4(a){const t=a.split(/\r?\n/).map(f4).filter(r=>r.length>0);if(t.length===0)return[];const e=[];for(let r=0;r<t.length;){const[l,u]=m4(t,r);l&&e.push(l),r+=u}const n=new Set,i=[];return e.forEach(r=>{const l=`${r.course}|${r.grade}|${r.credits}|${r.term}`;n.has(l)||(n.add(l),i.push(r))}),i}function b4(a,t){let e=0,n=0;a.forEach(r=>{const l=f3(r,t);l.gradePoints!==null&&(e+=r.credits,n+=l.weightedCredits)});const i=e>0?Tw(n/e,2):null;return{gradedCredits:e,gpa:i}}const A4={Winter:0,Spring:1,Summer:2,Fall:3};let O_=0;function kg(a){return O_+=1,`${a}-${Date.now().toString(36)}-${O_.toString(36)}`}function L0(a){const[t="",e="0"]=a.split(/\s+/),n=Number.parseInt(e,10)||0;return{seasonOrder:A4[t]??-1,year:n}}function F_(a,t){const e=L0(a),n=L0(t);return e.year!==n.year?e.year-n.year:e.seasonOrder-n.seasonOrder}function _4(a,t){const e=L0(a),n=L0(t);return e.year!==n.year?n.year-e.year:n.seasonOrder-e.seasonOrder}function E4(a){return a?[...D_]:D_.filter(t=>!/[+-]$/.test(t))}function C4(){const a=Q.useRef(null),[t,e]=Q.useState([]),[n,i]=Q.useState({status:"idle",message:null}),[r,l]=Q.useState(null),[u,d]=Q.useState(0),[f,p]=Q.useState({...d4}),[g,y]=Q.useState(!1),[w,b]=Q.useState({}),[A,E]=Q.useState({}),T=Q.useMemo(()=>E4(f.usePlusMinus),[f.usePlusMinus]),M=Q.useMemo(()=>t.flatMap(K=>K.courses.map(Z=>({course:Z.course,grade:Z.grade,credits:Z.credits,term:K.term}))),[t]),R=Q.useMemo(()=>M.length===0?null:b4(M,f),[M,f]),L=Q.useMemo(()=>{let K=0,Z=0;return[...t].sort((ne,he)=>F_(ne.term,he.term)).map(ne=>{const he=ne.courses.map(Be=>{const it={course:Be.course,grade:Be.grade,credits:Be.credits,term:ne.term},vt=f3(it,f);return{...Be,metrics:vt}}),ve=he.filter(Be=>Be.metrics.gradePoints!==null),pe=ve.reduce((Be,it)=>Be+it.credits,0),de=ve.reduce((Be,it)=>Be+it.metrics.weightedCredits,0),Le=pe>0?Tw(de/pe,2):null;K+=pe,Z+=de;const Ce=K>0?Tw(Z/K,2):null;return{...ne,courses:he,termGpa:Le,cumulativeGpa:Ce,gradedCredits:pe}}).sort((ne,he)=>_4(ne.term,he.term))},[t,f]);Q.useEffect(()=>{const K=document.getElementById("root");return document.body.classList.add("gpa-mode"),K&&K.classList.add("gpa-mode"),()=>{document.body.classList.remove("gpa-mode"),K&&K.classList.remove("gpa-mode")}},[]),Q.useEffect(()=>{b(K=>{let Z=!1;const O={...K};return Object.entries(K).forEach(([G,ne])=>{T.includes(ne.grade)||(O[G]={...ne,grade:T[0]??ne.grade},Z=!0)}),Z?O:K})},[T]);const N=()=>{var K;(K=a.current)==null||K.click()},D=()=>{e([]),b({}),E({}),d(0),l(null),i({status:"idle",message:null}),a.current&&(a.current.value="")},B=K=>{b(Z=>Z[K]?Z:{...Z,[K]:{course:"",credits:"",grade:T[0]??"A"}})},X=async K=>{var G;const Z=K.target,O=((G=Z.files)==null?void 0:G[0])??null;if(Z.value="",!!O){if(O.type&&O.type!=="application/pdf"){i({status:"error",message:"Please select a PDF file."});return}i({status:"loading",message:"Parsing your audit…"}),l(O instanceof File?O.name:null),d(0);try{const ne=await a4(O),he=x4(ne);if(he.length===0){e([]),E({}),i({status:"error",message:"Could not find any courses in this file. Make sure it is a DegreeWorks audit."});return}const ve=he.filter(Ce=>Ce.grade!=="T"&&Ce.grade!=="W"),pe=he.length-ve.length;if(ve.length===0){e([]),E({}),d(pe),i({status:"error",message:"Only transfer/withdrawal entries were detected. Add semesters manually instead."});return}const de=new Map;ve.forEach(Ce=>{const Be=de.get(Ce.term)??[],it=kg("course");Be.push({id:it,source:"parsed",originalGrade:Ce.grade,term:Ce.term,course:Ce.course,credits:Ce.credits,grade:Ce.grade}),de.set(Ce.term,Be)});const Le=[...de.keys()].sort(F_).map(Ce=>({id:kg("semester"),term:Ce,courses:de.get(Ce)??[]}));e(Le),E({}),d(pe),i({status:"ready",message:pe>0?`${ve.length} courses loaded. ${pe} transfer/withdrawal entries hidden.`:`${ve.length} courses loaded successfully.`})}catch(ne){console.error("[DegreeWorks] Failed to parse PDF",ne),e([]),E({}),i({status:"error",message:"Something went wrong while reading your PDF."})}}},ee=K=>{B(K),E(Z=>({...Z,[K]:!0}))},$=K=>{E(Z=>{if(!Z[K])return Z;const{[K]:O,...G}=Z;return G})},F=(K,Z,O)=>{B(K),b(G=>({...G,[K]:{...G[K],[Z]:O}}))},J=(K,Z)=>{Z.preventDefault();const O=w[K];if(!O)return;const G=Number.parseFloat(O.credits);!O.course.trim()||Number.isNaN(G)||G<=0||(e(ne=>ne.map(he=>{if(he.id!==K)return he;const ve=kg("course"),de={...{course:O.course.trim(),grade:O.grade,credits:G,term:he.term},id:ve,source:"manual",originalGrade:O.grade};return{...he,courses:[...he.courses,de]}})),b(ne=>({...ne,[K]:{course:"",credits:"",grade:O.grade}})),ee(K))},oe=(K,Z)=>{e(O=>O.map(G=>G.id!==K?G:{...G,courses:G.courses.filter(ne=>ne.id!==Z)}))},ce=(K,Z,O)=>{e(G=>G.map(ne=>ne.id!==K?ne:{...ne,courses:ne.courses.map(he=>{if(he.id!==Z)return he;const ve=S4(he,O);return{...he,grade:ve.grade}})}))},te=(K,Z)=>{e(O=>O.map(G=>G.id===K?{...G,term:Z,courses:G.courses.map(ne=>({...ne,term:Z}))}:G))},W=()=>{const K=t.length>0,Z={id:kg("semester"),term:"New Semester",courses:[]};e(O=>[...O,Z]),K||i({status:"ready",message:"Add courses to build your plan."})},H=()=>{p(K=>({...K,usePlusMinus:!K.usePlusMinus}))},q=K=>{const Z=Number.parseFloat(K);Number.isNaN(Z)||Z<=0||p(O=>({...O,scaleMax:Number(Z.toFixed(2))}))};return C.jsxs("main",{className:"gpa-planner",children:[C.jsx(oI,{onOpenSettings:()=>y(!0),onReset:D,onUpload:N,onAddSemester:W}),C.jsx("input",{ref:a,id:"audit-upload",className:"gpa-uploader__input",type:"file",accept:"application/pdf",onChange:X}),C.jsxs("section",{className:"gpa-layout",children:[C.jsxs("aside",{className:"gpa-sidebar",children:[C.jsx(lI,{summary:R,semesterCount:t.length,courseCount:M.length}),C.jsxs("div",{className:"gpa-sidebar__meta",children:[C.jsxs("div",{className:"gpa-scale-note",children:[C.jsxs("span",{children:["Scale ",f.scaleMax.toFixed(2)]}),C.jsx("span",{children:f.usePlusMinus?"± grades enabled":"± grades disabled"})]}),u>0?C.jsxs("p",{className:"gpa-notice",children:[u," transfer/withdrawal entries were ignored."]}):null]})]}),C.jsxs("div",{className:"gpa-content",children:[C.jsx(aI,{state:n,fileName:r}),t.length===0?C.jsx(cI,{onUpload:N,onAddSemester:W}):C.jsxs(C.Fragment,{children:[C.jsx(hI,{semesters:L,drafts:w,openForms:A,gradeOptions:T,onDraftChange:F,onAddCourse:J,onOpenForm:ee,onCloseForm:$,onTermChange:te,onGradeChange:ce,onDeleteCourse:oe}),C.jsx("div",{className:"gpa-footer-actions",children:C.jsx("button",{className:"gpa-btn",type:"button",onClick:W,children:"Add Another Semester"})})]})]})]}),C.jsx(dI,{open:g,scale:f.scaleMax,usePlusMinus:f.usePlusMinus,onScaleChange:q,onTogglePlusMinus:H,onClose:()=>y(!1)})]})}const k4=()=>(Q.useEffect(()=>{const a=document.title;return document.title="GPA Planner",()=>{document.title=a}},[]),C.jsx(C4,{})),cS=QR({component:()=>C.jsx(gM,{children:C.jsx(rE,{})})}),T4=zw({getParentRoute:()=>cS,path:"/",component:XN}),P4=zw({getParentRoute:()=>cS,path:"/gpa",component:k4}),R4=cS.addChildren([T4,P4]),M4=oM({routeTree:R4}),p3=document.getElementById("root");if(!p3)throw new Error('Root element with id "root" not found');const L4=xP.createRoot(p3);L4.render(C.jsx(ja.StrictMode,{children:C.jsx(cM,{router:M4})}));
